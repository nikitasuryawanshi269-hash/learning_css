var Vv=Object.defineProperty;var zv=(e,t,n)=>t in e?Vv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ye=(e,t,n)=>(zv(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sp={exports:{}},Oa={},op={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),Wv=Symbol.for("react.portal"),Kv=Symbol.for("react.fragment"),Gv=Symbol.for("react.strict_mode"),qv=Symbol.for("react.profiler"),Qv=Symbol.for("react.provider"),Jv=Symbol.for("react.context"),Yv=Symbol.for("react.forward_ref"),Xv=Symbol.for("react.suspense"),Zv=Symbol.for("react.memo"),e0=Symbol.for("react.lazy"),Yd=Symbol.iterator;function t0(e){return e===null||typeof e!="object"?null:(e=Yd&&e[Yd]||e["@@iterator"],typeof e=="function"?e:null)}var ap={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lp=Object.assign,up={};function Ti(e,t,n){this.props=e,this.context=t,this.refs=up,this.updater=n||ap}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cp(){}cp.prototype=Ti.prototype;function Ec(e,t,n){this.props=e,this.context=t,this.refs=up,this.updater=n||ap}var bc=Ec.prototype=new cp;bc.constructor=Ec;lp(bc,Ti.prototype);bc.isPureReactComponent=!0;var Xd=Array.isArray,dp=Object.prototype.hasOwnProperty,xc={current:null},fp={key:!0,ref:!0,__self:!0,__source:!0};function hp(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)dp.call(t,r)&&!fp.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bs,type:e,key:s,ref:o,props:i,_owner:xc.current}}function n0(e,t){return{$$typeof:Bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bs}function r0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zd=/\/+/g;function sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r0(""+e.key):t.toString(36)}function bo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bs:case Wv:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+sl(o,0):r,Xd(i)?(n="",e!=null&&(n=e.replace(Zd,"$&/")+"/"),bo(i,t,n,"",function(u){return u})):i!=null&&(Tc(i)&&(i=n0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Xd(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+sl(s,a);o+=bo(s,t,n,l,i)}else if(l=t0(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+sl(s,a++),o+=bo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ks(e,t,n){if(e==null)return e;var r=[],i=0;return bo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function i0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ct={current:null},xo={transition:null},s0={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:xo,ReactCurrentOwner:xc};we.Children={map:Ks,forEach:function(e,t,n){Ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ks(e,function(){t++}),t},toArray:function(e){return Ks(e,function(t){return t})||[]},only:function(e){if(!Tc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Ti;we.Fragment=Kv;we.Profiler=qv;we.PureComponent=Ec;we.StrictMode=Gv;we.Suspense=Xv;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lp({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=xc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)dp.call(t,l)&&!fp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bs,type:e.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(e){return e={$$typeof:Jv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qv,_context:e},e.Consumer=e};we.createElement=hp;we.createFactory=function(e){var t=hp.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:Yv,render:e}};we.isValidElement=Tc;we.lazy=function(e){return{$$typeof:e0,_payload:{_status:-1,_result:e},_init:i0}};we.memo=function(e,t){return{$$typeof:Zv,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=xo.transition;xo.transition={};try{e()}finally{xo.transition=t}};we.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};we.useCallback=function(e,t){return Ct.current.useCallback(e,t)};we.useContext=function(e){return Ct.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Ct.current.useDeferredValue(e)};we.useEffect=function(e,t){return Ct.current.useEffect(e,t)};we.useId=function(){return Ct.current.useId()};we.useImperativeHandle=function(e,t,n){return Ct.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Ct.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Ct.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Ct.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Ct.current.useReducer(e,t,n)};we.useRef=function(e){return Ct.current.useRef(e)};we.useState=function(e){return Ct.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Ct.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Ct.current.useTransition()};we.version="18.2.0";op.exports=we;var E=op.exports;const Dt=$v(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=E,a0=Symbol.for("react.element"),l0=Symbol.for("react.fragment"),u0=Object.prototype.hasOwnProperty,c0=o0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d0={key:!0,ref:!0,__self:!0,__source:!0};function pp(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)u0.call(t,r)&&!d0.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:a0,type:e,key:s,ref:o,props:i,_owner:c0.current}}Oa.Fragment=l0;Oa.jsx=pp;Oa.jsxs=pp;sp.exports=Oa;var v=sp.exports,Zl={},mp={exports:{}},Wt={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,P){var W=I.length;I.push(P);e:for(;0<W;){var ee=W-1>>>1,fe=I[ee];if(0<i(fe,P))I[ee]=P,I[W]=fe,W=ee;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],W=I.pop();if(W!==P){I[0]=W;e:for(var ee=0,fe=I.length,Ne=fe>>>1;ee<Ne;){var Xe=2*(ee+1)-1,je=I[Xe],Ze=Xe+1,R=I[Ze];if(0>i(je,W))Ze<fe&&0>i(R,je)?(I[ee]=R,I[Ze]=W,ee=Ze):(I[ee]=je,I[Xe]=W,ee=Xe);else if(Ze<fe&&0>i(R,W))I[ee]=R,I[Ze]=W,ee=Ze;else break e}}return P}function i(I,P){var W=I.sortIndex-P.sortIndex;return W!==0?W:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,p=null,c=3,w=!1,d=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(I){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=I)r(u),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(u)}}function _(I){if(y=!1,h(I),!d)if(n(l)!==null)d=!0,Z(x);else{var P=n(u);P!==null&&Ce(_,P.startTime-I)}}function x(I,P){d=!1,y&&(y=!1,m(k),k=-1),w=!0;var W=c;try{for(h(P),p=n(l);p!==null&&(!(p.expirationTime>P)||I&&!V());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,c=p.priorityLevel;var fe=ee(p.expirationTime<=P);P=e.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(l)&&r(l),h(P)}else r(l);p=n(l)}if(p!==null)var Ne=!0;else{var Xe=n(u);Xe!==null&&Ce(_,Xe.startTime-P),Ne=!1}return Ne}finally{p=null,c=W,w=!1}}var C=!1,T=null,k=-1,B=5,A=-1;function V(){return!(e.unstable_now()-A<B)}function X(){if(T!==null){var I=e.unstable_now();A=I;var P=!0;try{P=T(!0,I)}finally{P?me():(C=!1,T=null)}}else C=!1}var me;if(typeof g=="function")me=function(){g(X)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ue=Q.port2;Q.port1.onmessage=X,me=function(){ue.postMessage(null)}}else me=function(){S(X,0)};function Z(I){T=I,C||(C=!0,me())}function Ce(I,P){k=S(function(){I(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){d||w||(d=!0,Z(x))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(c){case 1:case 2:case 3:var P=3;break;default:P=c}var W=c;c=P;try{return I()}finally{c=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=c;c=I;try{return P()}finally{c=W}},e.unstable_scheduleCallback=function(I,P,W){var ee=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,I){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=W+fe,I={id:f++,callback:P,priorityLevel:I,startTime:W,expirationTime:fe,sortIndex:-1},W>ee?(I.sortIndex=W,t(u,I),n(l)===null&&I===n(u)&&(y?(m(k),k=-1):y=!0,Ce(_,W-ee))):(I.sortIndex=fe,t(l,I),d||w||(d=!0,Z(x))),I},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(I){var P=c;return function(){var W=c;c=P;try{return I.apply(this,arguments)}finally{c=W}}}})(yp);gp.exports=yp;var f0=gp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=E,$t=f0;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wp=new Set,gs={};function Lr(e,t){fi(e,t),fi(e+"Capture",t)}function fi(e,t){for(gs[e]=t,e=0;e<t.length;e++)wp.add(t[e])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=Object.prototype.hasOwnProperty,h0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ef={},tf={};function p0(e){return eu.call(tf,e)?!0:eu.call(ef,e)?!1:h0.test(e)?tf[e]=!0:(ef[e]=!0,!1)}function m0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function g0(e,t,n,r){if(t===null||typeof t>"u"||m0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cc=/[\-:]([a-z])/g;function kc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cc,kc);ct[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cc,kc);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cc,kc);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oc(e,t,n,r){var i=ct.hasOwnProperty(t)?ct[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(g0(t,n,i,r)&&(n=null),r||i===null?p0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $n=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Nc=Symbol.for("react.strict_mode"),tu=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),Ac=Symbol.for("react.forward_ref"),nu=Symbol.for("react.suspense"),ru=Symbol.for("react.suspense_list"),Ic=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),Ep=Symbol.for("react.offscreen"),nf=Symbol.iterator;function Li(e){return e===null||typeof e!="object"?null:(e=nf&&e[nf]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,ol;function Yi(e){if(ol===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ol=t&&t[1]||""}return`
`+ol+e}var al=!1;function ll(e,t){if(!e||al)return"";al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{al=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yi(e):""}function y0(e){switch(e.tag){case 5:return Yi(e.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return e=ll(e.type,!1),e;case 11:return e=ll(e.type.render,!1),e;case 1:return e=ll(e.type,!0),e;default:return""}}function iu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case $r:return"Portal";case tu:return"Profiler";case Nc:return"StrictMode";case nu:return"Suspense";case ru:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sp:return(e.displayName||"Context")+".Consumer";case _p:return(e._context.displayName||"Context")+".Provider";case Ac:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ic:return t=e.displayName||null,t!==null?t:iu(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return iu(e(t))}catch{}}return null}function v0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iu(t);case 8:return t===Nc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w0(e){var t=bp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qs(e){e._valueTracker||(e._valueTracker=w0(e))}function xp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=bp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ko(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function su(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tp(e,t){t=t.checked,t!=null&&Oc(e,"checked",t,!1)}function ou(e,t){Tp(e,t);var n=hr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?au(e,t.type,n):t.hasOwnProperty("defaultValue")&&au(e,t.type,hr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function au(e,t,n){(t!=="number"||Ko(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xi=Array.isArray;function ii(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function of(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Xi(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hr(n)}}function Cp(e,t){var n=hr(t.value),r=hr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function af(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,Op=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_0=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(e){_0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ns[t]=ns[e]})});function Np(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ns.hasOwnProperty(e)&&ns[e]?(""+t).trim():t+"px"}function Ap(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Np(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var S0=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cu(e,t){if(t){if(S0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function du(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=null;function Rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hu=null,si=null,oi=null;function lf(e){if(e=Us(e)){if(typeof hu!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Da(t),hu(e.stateNode,e.type,t))}}function Ip(e){si?oi?oi.push(e):oi=[e]:si=e}function Rp(){if(si){var e=si,t=oi;if(oi=si=null,lf(e),t)for(e=0;e<t.length;e++)lf(t[e])}}function Dp(e,t){return e(t)}function Pp(){}var ul=!1;function Bp(e,t,n){if(ul)return e(t,n);ul=!0;try{return Dp(e,t,n)}finally{ul=!1,(si!==null||oi!==null)&&(Pp(),Rp())}}function vs(e,t){var n=e.stateNode;if(n===null)return null;var r=Da(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var pu=!1;if(jn)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{pu=!1}function E0(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var rs=!1,Go=null,qo=!1,mu=null,b0={onError:function(e){rs=!0,Go=e}};function x0(e,t,n,r,i,s,o,a,l){rs=!1,Go=null,E0.apply(b0,arguments)}function T0(e,t,n,r,i,s,o,a,l){if(x0.apply(this,arguments),rs){if(rs){var u=Go;rs=!1,Go=null}else throw Error(D(198));qo||(qo=!0,mu=u)}}function Mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uf(e){if(Mr(e)!==e)throw Error(D(188))}function C0(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return uf(i),e;if(s===r)return uf(i),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Mp(e){return e=C0(e),e!==null?Up(e):null}function Up(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Up(e);if(t!==null)return t;e=e.sibling}return null}var jp=$t.unstable_scheduleCallback,cf=$t.unstable_cancelCallback,k0=$t.unstable_shouldYield,O0=$t.unstable_requestPaint,qe=$t.unstable_now,N0=$t.unstable_getCurrentPriorityLevel,Dc=$t.unstable_ImmediatePriority,Fp=$t.unstable_UserBlockingPriority,Qo=$t.unstable_NormalPriority,A0=$t.unstable_LowPriority,Vp=$t.unstable_IdlePriority,Na=null,xn=null;function I0(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Na,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:P0,R0=Math.log,D0=Math.LN2;function P0(e){return e>>>=0,e===0?32:31-(R0(e)/D0|0)|0}var Js=64,Ys=4194304;function Zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Zi(a):(s&=o,s!==0&&(r=Zi(s)))}else o=n&~i,o!==0?r=Zi(o):s!==0&&(r=Zi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fn(t),i=1<<n,r|=e[n],t&=~i;return r}function B0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-fn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=B0(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function gu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zp(){var e=Js;return Js<<=1,!(Js&4194240)&&(Js=64),e}function cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ls(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=n}function M0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-fn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Pc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ke=0;function Hp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $p,Bc,Wp,Kp,Gp,yu=!1,Xs=[],ir=null,sr=null,or=null,ws=new Map,_s=new Map,Xn=[],U0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function df(e,t){switch(e){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function Ui(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Us(t),t!==null&&Bc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function j0(e,t,n,r,i){switch(t){case"focusin":return ir=Ui(ir,e,t,n,r,i),!0;case"dragenter":return sr=Ui(sr,e,t,n,r,i),!0;case"mouseover":return or=Ui(or,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ws.set(s,Ui(ws.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_s.set(s,Ui(_s.get(s)||null,e,t,n,r,i)),!0}return!1}function qp(e){var t=br(e.target);if(t!==null){var n=Mr(t);if(n!==null){if(t=n.tag,t===13){if(t=Lp(n),t!==null){e.blockedOn=t,Gp(e.priority,function(){Wp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function To(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fu=r,n.target.dispatchEvent(r),fu=null}else return t=Us(n),t!==null&&Bc(t),e.blockedOn=n,!1;t.shift()}return!0}function ff(e,t,n){To(e)&&n.delete(t)}function F0(){yu=!1,ir!==null&&To(ir)&&(ir=null),sr!==null&&To(sr)&&(sr=null),or!==null&&To(or)&&(or=null),ws.forEach(ff),_s.forEach(ff)}function ji(e,t){e.blockedOn===t&&(e.blockedOn=null,yu||(yu=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,F0)))}function Ss(e){function t(i){return ji(i,e)}if(0<Xs.length){ji(Xs[0],e);for(var n=1;n<Xs.length;n++){var r=Xs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ir!==null&&ji(ir,e),sr!==null&&ji(sr,e),or!==null&&ji(or,e),ws.forEach(t),_s.forEach(t),n=0;n<Xn.length;n++)r=Xn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)qp(n),n.blockedOn===null&&Xn.shift()}var ai=$n.ReactCurrentBatchConfig,Yo=!0;function V0(e,t,n,r){var i=ke,s=ai.transition;ai.transition=null;try{ke=1,Lc(e,t,n,r)}finally{ke=i,ai.transition=s}}function z0(e,t,n,r){var i=ke,s=ai.transition;ai.transition=null;try{ke=4,Lc(e,t,n,r)}finally{ke=i,ai.transition=s}}function Lc(e,t,n,r){if(Yo){var i=vu(e,t,n,r);if(i===null)_l(e,t,r,Xo,n),df(e,r);else if(j0(i,e,t,n,r))r.stopPropagation();else if(df(e,r),t&4&&-1<U0.indexOf(e)){for(;i!==null;){var s=Us(i);if(s!==null&&$p(s),s=vu(e,t,n,r),s===null&&_l(e,t,r,Xo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _l(e,t,r,null,n)}}var Xo=null;function vu(e,t,n,r){if(Xo=null,e=Rc(r),e=br(e),e!==null)if(t=Mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xo=e,null}function Qp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N0()){case Dc:return 1;case Fp:return 4;case Qo:case A0:return 16;case Vp:return 536870912;default:return 16}default:return 16}}var er=null,Mc=null,Co=null;function Jp(){if(Co)return Co;var e,t=Mc,n=t.length,r,i="value"in er?er.value:er.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Co=i.slice(e,1<r?1-r:void 0)}function ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function hf(){return!1}function Kt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zs:hf,this.isPropagationStopped=hf,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=Kt(Ci),Ms=He({},Ci,{view:0,detail:0}),H0=Kt(Ms),dl,fl,Fi,Aa=He({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(dl=e.screenX-Fi.screenX,fl=e.screenY-Fi.screenY):fl=dl=0,Fi=e),dl)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),pf=Kt(Aa),$0=He({},Aa,{dataTransfer:0}),W0=Kt($0),K0=He({},Ms,{relatedTarget:0}),hl=Kt(K0),G0=He({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),q0=Kt(G0),Q0=He({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J0=Kt(Q0),Y0=He({},Ci,{data:0}),mf=Kt(Y0),X0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ew={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ew[e])?!!t[e]:!1}function jc(){return tw}var nw=He({},Ms,{key:function(e){if(e.key){var t=X0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(e){return e.type==="keypress"?ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rw=Kt(nw),iw=He({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=Kt(iw),sw=He({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),ow=Kt(sw),aw=He({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),lw=Kt(aw),uw=He({},Aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cw=Kt(uw),dw=[9,13,27,32],Fc=jn&&"CompositionEvent"in window,is=null;jn&&"documentMode"in document&&(is=document.documentMode);var fw=jn&&"TextEvent"in window&&!is,Yp=jn&&(!Fc||is&&8<is&&11>=is),yf=" ",vf=!1;function Xp(e,t){switch(e){case"keyup":return dw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kr=!1;function hw(e,t){switch(e){case"compositionend":return Zp(t);case"keypress":return t.which!==32?null:(vf=!0,yf);case"textInput":return e=t.data,e===yf&&vf?null:e;default:return null}}function pw(e,t){if(Kr)return e==="compositionend"||!Fc&&Xp(e,t)?(e=Jp(),Co=Mc=er=null,Kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yp&&t.locale!=="ko"?null:t.data;default:return null}}var mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mw[e.type]:t==="textarea"}function em(e,t,n,r){Ip(r),t=Zo(t,"onChange"),0<t.length&&(n=new Uc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ss=null,Es=null;function gw(e){dm(e,0)}function Ia(e){var t=Qr(e);if(xp(t))return e}function yw(e,t){if(e==="change")return t}var tm=!1;if(jn){var pl;if(jn){var ml="oninput"in document;if(!ml){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),ml=typeof _f.oninput=="function"}pl=ml}else pl=!1;tm=pl&&(!document.documentMode||9<document.documentMode)}function Sf(){ss&&(ss.detachEvent("onpropertychange",nm),Es=ss=null)}function nm(e){if(e.propertyName==="value"&&Ia(Es)){var t=[];em(t,Es,e,Rc(e)),Bp(gw,t)}}function vw(e,t,n){e==="focusin"?(Sf(),ss=t,Es=n,ss.attachEvent("onpropertychange",nm)):e==="focusout"&&Sf()}function ww(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ia(Es)}function _w(e,t){if(e==="click")return Ia(t)}function Sw(e,t){if(e==="input"||e==="change")return Ia(t)}function Ew(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gn=typeof Object.is=="function"?Object.is:Ew;function bs(e,t){if(gn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eu.call(t,i)||!gn(e[i],t[i]))return!1}return!0}function Ef(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bf(e,t){var n=Ef(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ef(n)}}function rm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function im(){for(var e=window,t=Ko();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ko(e.document)}return t}function Vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bw(e){var t=im(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rm(n.ownerDocument.documentElement,n)){if(r!==null&&Vc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=bf(n,s);var o=bf(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xw=jn&&"documentMode"in document&&11>=document.documentMode,Gr=null,wu=null,os=null,_u=!1;function xf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_u||Gr==null||Gr!==Ko(r)||(r=Gr,"selectionStart"in r&&Vc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),os&&bs(os,r)||(os=r,r=Zo(wu,"onSelect"),0<r.length&&(t=new Uc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gr)))}function eo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qr={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},gl={},sm={};jn&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Ra(e){if(gl[e])return gl[e];if(!qr[e])return e;var t=qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sm)return gl[e]=t[n];return e}var om=Ra("animationend"),am=Ra("animationiteration"),lm=Ra("animationstart"),um=Ra("transitionend"),cm=new Map,Tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){cm.set(e,t),Lr(t,[e])}for(var yl=0;yl<Tf.length;yl++){var vl=Tf[yl],Tw=vl.toLowerCase(),Cw=vl[0].toUpperCase()+vl.slice(1);mr(Tw,"on"+Cw)}mr(om,"onAnimationEnd");mr(am,"onAnimationIteration");mr(lm,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(um,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kw=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function Cf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,T0(r,t,void 0,e),e.currentTarget=null}function dm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Cf(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Cf(i,a,u),s=l}}}if(qo)throw e=mu,qo=!1,mu=null,e}function Le(e,t){var n=t[Tu];n===void 0&&(n=t[Tu]=new Set);var r=e+"__bubble";n.has(r)||(fm(t,e,2,!1),n.add(r))}function wl(e,t,n){var r=0;t&&(r|=4),fm(n,e,r,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[to]){e[to]=!0,wp.forEach(function(n){n!=="selectionchange"&&(kw.has(n)||wl(n,!1,e),wl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,wl("selectionchange",!1,t))}}function fm(e,t,n,r){switch(Qp(t)){case 1:var i=V0;break;case 4:i=z0;break;default:i=Lc}n=i.bind(null,t,n,e),i=void 0,!pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _l(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=br(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Bp(function(){var u=s,f=Rc(n),p=[];e:{var c=cm.get(e);if(c!==void 0){var w=Uc,d=e;switch(e){case"keypress":if(ko(n)===0)break e;case"keydown":case"keyup":w=rw;break;case"focusin":d="focus",w=hl;break;case"focusout":d="blur",w=hl;break;case"beforeblur":case"afterblur":w=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=W0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=ow;break;case om:case am:case lm:w=q0;break;case um:w=lw;break;case"scroll":w=H0;break;case"wheel":w=cw;break;case"copy":case"cut":case"paste":w=J0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=gf}var y=(t&4)!==0,S=!y&&e==="scroll",m=y?c!==null?c+"Capture":null:c;y=[];for(var g=u,h;g!==null;){h=g;var _=h.stateNode;if(h.tag===5&&_!==null&&(h=_,m!==null&&(_=vs(g,m),_!=null&&y.push(Ts(g,_,h)))),S)break;g=g.return}0<y.length&&(c=new w(c,d,null,n,f),p.push({event:c,listeners:y}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",c&&n!==fu&&(d=n.relatedTarget||n.fromElement)&&(br(d)||d[Fn]))break e;if((w||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,w?(d=n.relatedTarget||n.toElement,w=u,d=d?br(d):null,d!==null&&(S=Mr(d),d!==S||d.tag!==5&&d.tag!==6)&&(d=null)):(w=null,d=u),w!==d)){if(y=pf,_="onMouseLeave",m="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=gf,_="onPointerLeave",m="onPointerEnter",g="pointer"),S=w==null?c:Qr(w),h=d==null?c:Qr(d),c=new y(_,g+"leave",w,n,f),c.target=S,c.relatedTarget=h,_=null,br(f)===u&&(y=new y(m,g+"enter",d,n,f),y.target=h,y.relatedTarget=S,_=y),S=_,w&&d)t:{for(y=w,m=d,g=0,h=y;h;h=Fr(h))g++;for(h=0,_=m;_;_=Fr(_))h++;for(;0<g-h;)y=Fr(y),g--;for(;0<h-g;)m=Fr(m),h--;for(;g--;){if(y===m||m!==null&&y===m.alternate)break t;y=Fr(y),m=Fr(m)}y=null}else y=null;w!==null&&kf(p,c,w,y,!1),d!==null&&S!==null&&kf(p,S,d,y,!0)}}e:{if(c=u?Qr(u):window,w=c.nodeName&&c.nodeName.toLowerCase(),w==="select"||w==="input"&&c.type==="file")var x=yw;else if(wf(c))if(tm)x=Sw;else{x=ww;var C=vw}else(w=c.nodeName)&&w.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(x=_w);if(x&&(x=x(e,u))){em(p,x,n,f);break e}C&&C(e,c,u),e==="focusout"&&(C=c._wrapperState)&&C.controlled&&c.type==="number"&&au(c,"number",c.value)}switch(C=u?Qr(u):window,e){case"focusin":(wf(C)||C.contentEditable==="true")&&(Gr=C,wu=u,os=null);break;case"focusout":os=wu=Gr=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,xf(p,n,f);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":xf(p,n,f)}var T;if(Fc)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kr?Xp(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Yp&&n.locale!=="ko"&&(Kr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Kr&&(T=Jp()):(er=f,Mc="value"in er?er.value:er.textContent,Kr=!0)),C=Zo(u,k),0<C.length&&(k=new mf(k,e,null,n,f),p.push({event:k,listeners:C}),T?k.data=T:(T=Zp(n),T!==null&&(k.data=T)))),(T=fw?hw(e,n):pw(e,n))&&(u=Zo(u,"onBeforeInput"),0<u.length&&(f=new mf("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=T))}dm(p,t)})}function Ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vs(e,n),s!=null&&r.unshift(Ts(e,s,i)),s=vs(e,t),s!=null&&r.push(Ts(e,s,i))),e=e.return}return r}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kf(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=vs(n,s),l!=null&&o.unshift(Ts(n,l,a))):i||(l=vs(n,s),l!=null&&o.push(Ts(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ow=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function Of(e){return(typeof e=="string"?e:""+e).replace(Ow,`
`).replace(Nw,"")}function no(e,t,n){if(t=Of(t),Of(e)!==t&&n)throw Error(D(425))}function ea(){}var Su=null,Eu=null;function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,Nf=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof Nf<"u"?function(e){return Nf.resolve(null).then(e).catch(Rw)}:xu;function Rw(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ss(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ss(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Af(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ki=Math.random().toString(36).slice(2),Sn="__reactFiber$"+ki,Cs="__reactProps$"+ki,Fn="__reactContainer$"+ki,Tu="__reactEvents$"+ki,Dw="__reactListeners$"+ki,Pw="__reactHandles$"+ki;function br(e){var t=e[Sn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fn]||n[Sn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Af(e);e!==null;){if(n=e[Sn])return n;e=Af(e)}return t}e=n,n=e.parentNode}return null}function Us(e){return e=e[Sn]||e[Fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Da(e){return e[Cs]||null}var Cu=[],Jr=-1;function gr(e){return{current:e}}function Me(e){0>Jr||(e.current=Cu[Jr],Cu[Jr]=null,Jr--)}function De(e,t){Jr++,Cu[Jr]=e.current,e.current=t}var pr={},vt=gr(pr),Pt=gr(!1),Nr=pr;function hi(e,t){var n=e.type.contextTypes;if(!n)return pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(e){return e=e.childContextTypes,e!=null}function ta(){Me(Pt),Me(vt)}function If(e,t,n){if(vt.current!==pr)throw Error(D(168));De(vt,t),De(Pt,n)}function hm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,v0(e)||"Unknown",i));return He({},n,r)}function na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Nr=vt.current,De(vt,e),De(Pt,Pt.current),!0}function Rf(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=hm(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=e,Me(Pt),Me(vt),De(vt,e)):Me(Pt),De(Pt,n)}var Rn=null,Pa=!1,El=!1;function pm(e){Rn===null?Rn=[e]:Rn.push(e)}function Bw(e){Pa=!0,pm(e)}function yr(){if(!El&&Rn!==null){El=!0;var e=0,t=ke;try{var n=Rn;for(ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rn=null,Pa=!1}catch(i){throw Rn!==null&&(Rn=Rn.slice(e+1)),jp(Dc,yr),i}finally{ke=t,El=!1}}return null}var Yr=[],Xr=0,ra=null,ia=0,Jt=[],Yt=0,Ar=null,Pn=1,Bn="";function Sr(e,t){Yr[Xr++]=ia,Yr[Xr++]=ra,ra=e,ia=t}function mm(e,t,n){Jt[Yt++]=Pn,Jt[Yt++]=Bn,Jt[Yt++]=Ar,Ar=e;var r=Pn;e=Bn;var i=32-fn(r)-1;r&=~(1<<i),n+=1;var s=32-fn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pn=1<<32-fn(t)+i|n<<i|r,Bn=s+e}else Pn=1<<s|n<<i|r,Bn=e}function zc(e){e.return!==null&&(Sr(e,1),mm(e,1,0))}function Hc(e){for(;e===ra;)ra=Yr[--Xr],Yr[Xr]=null,ia=Yr[--Xr],Yr[Xr]=null;for(;e===Ar;)Ar=Jt[--Yt],Jt[Yt]=null,Bn=Jt[--Yt],Jt[Yt]=null,Pn=Jt[--Yt],Jt[Yt]=null}var zt=null,Vt=null,Ue=!1,dn=null;function gm(e,t){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Df(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Vt=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ar!==null?{id:Pn,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zt=e,Vt=null,!0):!1;default:return!1}}function ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ou(e){if(Ue){var t=Vt;if(t){var n=t;if(!Df(e,t)){if(ku(e))throw Error(D(418));t=ar(n.nextSibling);var r=zt;t&&Df(e,t)?gm(r,n):(e.flags=e.flags&-4097|2,Ue=!1,zt=e)}}else{if(ku(e))throw Error(D(418));e.flags=e.flags&-4097|2,Ue=!1,zt=e}}}function Pf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function ro(e){if(e!==zt)return!1;if(!Ue)return Pf(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bu(e.type,e.memoizedProps)),t&&(t=Vt)){if(ku(e))throw ym(),Error(D(418));for(;t;)gm(e,t),t=ar(t.nextSibling)}if(Pf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vt=ar(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=zt?ar(e.stateNode.nextSibling):null;return!0}function ym(){for(var e=Vt;e;)e=ar(e.nextSibling)}function pi(){Vt=zt=null,Ue=!1}function $c(e){dn===null?dn=[e]:dn.push(e)}var Lw=$n.ReactCurrentBatchConfig;function ln(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var sa=gr(null),oa=null,Zr=null,Wc=null;function Kc(){Wc=Zr=oa=null}function Gc(e){var t=sa.current;Me(sa),e._currentValue=t}function Nu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function li(e,t){oa=e,Wc=Zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rt=!0),e.firstContext=null)}function tn(e){var t=e._currentValue;if(Wc!==e)if(e={context:e,memoizedValue:t,next:null},Zr===null){if(oa===null)throw Error(D(308));Zr=e,oa.dependencies={lanes:0,firstContext:e}}else Zr=Zr.next=e;return t}var xr=null;function qc(e){xr===null?xr=[e]:xr.push(e)}function vm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vn(e,r)}function Vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jn=!1;function Qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vn(e,n)}return i=r.interleaved,i===null?(t.next=t,qc(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vn(e,n)}function Oo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}function Bf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Jn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,f=u=l=null,a=s;do{var c=a.lane,w=a.eventTime;if((r&c)===c){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,y=a;switch(c=t,w=n,y.tag){case 1:if(d=y.payload,typeof d=="function"){p=d.call(w,p,c);break e}p=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=y.payload,c=typeof d=="function"?d.call(w,p,c):d,c==null)break e;p=He({},p,c);break e;case 2:Jn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else w={eventTime:w,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=w,l=p):f=f.next=w,o|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(f===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Rr|=o,e.lanes=o,e.memoizedState=p}}function Lf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var _m=new vp.Component().refs;function Au(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xt(),i=cr(e),s=Un(r,i);s.payload=t,n!=null&&(s.callback=n),t=lr(e,s,i),t!==null&&(hn(t,e,i,r),Oo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xt(),i=cr(e),s=Un(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=lr(e,s,i),t!==null&&(hn(t,e,i,r),Oo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xt(),r=cr(e),i=Un(n,r);i.tag=2,t!=null&&(i.callback=t),t=lr(e,i,r),t!==null&&(hn(t,e,r,n),Oo(t,e,r))}};function Mf(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!bs(n,r)||!bs(i,s):!0}function Sm(e,t,n){var r=!1,i=pr,s=t.contextType;return typeof s=="object"&&s!==null?s=tn(s):(i=Bt(t)?Nr:vt.current,r=t.contextTypes,s=(r=r!=null)?hi(e,i):pr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Uf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Iu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_m,Qc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=tn(s):(s=Bt(t)?Nr:vt.current,i.context=hi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Au(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===_m&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function io(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jf(e){var t=e._init;return t(e._payload)}function Em(e){function t(m,g){if(e){var h=m.deletions;h===null?(m.deletions=[g],m.flags|=16):h.push(g)}}function n(m,g){if(!e)return null;for(;g!==null;)t(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=dr(m,g),m.index=0,m.sibling=null,m}function s(m,g,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<g?(m.flags|=2,g):h):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,g,h,_){return g===null||g.tag!==6?(g=Nl(h,m.mode,_),g.return=m,g):(g=i(g,h),g.return=m,g)}function l(m,g,h,_){var x=h.type;return x===Wr?f(m,g,h.props.children,_,h.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Qn&&jf(x)===g.type)?(_=i(g,h.props),_.ref=Vi(m,g,h),_.return=m,_):(_=Po(h.type,h.key,h.props,null,m.mode,_),_.ref=Vi(m,g,h),_.return=m,_)}function u(m,g,h,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==h.containerInfo||g.stateNode.implementation!==h.implementation?(g=Al(h,m.mode,_),g.return=m,g):(g=i(g,h.children||[]),g.return=m,g)}function f(m,g,h,_,x){return g===null||g.tag!==7?(g=Or(h,m.mode,_,x),g.return=m,g):(g=i(g,h),g.return=m,g)}function p(m,g,h){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Nl(""+g,m.mode,h),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gs:return h=Po(g.type,g.key,g.props,null,m.mode,h),h.ref=Vi(m,null,g),h.return=m,h;case $r:return g=Al(g,m.mode,h),g.return=m,g;case Qn:var _=g._init;return p(m,_(g._payload),h)}if(Xi(g)||Li(g))return g=Or(g,m.mode,h,null),g.return=m,g;io(m,g)}return null}function c(m,g,h,_){var x=g!==null?g.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return x!==null?null:a(m,g,""+h,_);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Gs:return h.key===x?l(m,g,h,_):null;case $r:return h.key===x?u(m,g,h,_):null;case Qn:return x=h._init,c(m,g,x(h._payload),_)}if(Xi(h)||Li(h))return x!==null?null:f(m,g,h,_,null);io(m,h)}return null}function w(m,g,h,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(h)||null,a(g,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gs:return m=m.get(_.key===null?h:_.key)||null,l(g,m,_,x);case $r:return m=m.get(_.key===null?h:_.key)||null,u(g,m,_,x);case Qn:var C=_._init;return w(m,g,h,C(_._payload),x)}if(Xi(_)||Li(_))return m=m.get(h)||null,f(g,m,_,x,null);io(g,_)}return null}function d(m,g,h,_){for(var x=null,C=null,T=g,k=g=0,B=null;T!==null&&k<h.length;k++){T.index>k?(B=T,T=null):B=T.sibling;var A=c(m,T,h[k],_);if(A===null){T===null&&(T=B);break}e&&T&&A.alternate===null&&t(m,T),g=s(A,g,k),C===null?x=A:C.sibling=A,C=A,T=B}if(k===h.length)return n(m,T),Ue&&Sr(m,k),x;if(T===null){for(;k<h.length;k++)T=p(m,h[k],_),T!==null&&(g=s(T,g,k),C===null?x=T:C.sibling=T,C=T);return Ue&&Sr(m,k),x}for(T=r(m,T);k<h.length;k++)B=w(T,m,k,h[k],_),B!==null&&(e&&B.alternate!==null&&T.delete(B.key===null?k:B.key),g=s(B,g,k),C===null?x=B:C.sibling=B,C=B);return e&&T.forEach(function(V){return t(m,V)}),Ue&&Sr(m,k),x}function y(m,g,h,_){var x=Li(h);if(typeof x!="function")throw Error(D(150));if(h=x.call(h),h==null)throw Error(D(151));for(var C=x=null,T=g,k=g=0,B=null,A=h.next();T!==null&&!A.done;k++,A=h.next()){T.index>k?(B=T,T=null):B=T.sibling;var V=c(m,T,A.value,_);if(V===null){T===null&&(T=B);break}e&&T&&V.alternate===null&&t(m,T),g=s(V,g,k),C===null?x=V:C.sibling=V,C=V,T=B}if(A.done)return n(m,T),Ue&&Sr(m,k),x;if(T===null){for(;!A.done;k++,A=h.next())A=p(m,A.value,_),A!==null&&(g=s(A,g,k),C===null?x=A:C.sibling=A,C=A);return Ue&&Sr(m,k),x}for(T=r(m,T);!A.done;k++,A=h.next())A=w(T,m,k,A.value,_),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?k:A.key),g=s(A,g,k),C===null?x=A:C.sibling=A,C=A);return e&&T.forEach(function(X){return t(m,X)}),Ue&&Sr(m,k),x}function S(m,g,h,_){if(typeof h=="object"&&h!==null&&h.type===Wr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Gs:e:{for(var x=h.key,C=g;C!==null;){if(C.key===x){if(x=h.type,x===Wr){if(C.tag===7){n(m,C.sibling),g=i(C,h.props.children),g.return=m,m=g;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Qn&&jf(x)===C.type){n(m,C.sibling),g=i(C,h.props),g.ref=Vi(m,C,h),g.return=m,m=g;break e}n(m,C);break}else t(m,C);C=C.sibling}h.type===Wr?(g=Or(h.props.children,m.mode,_,h.key),g.return=m,m=g):(_=Po(h.type,h.key,h.props,null,m.mode,_),_.ref=Vi(m,g,h),_.return=m,m=_)}return o(m);case $r:e:{for(C=h.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===h.containerInfo&&g.stateNode.implementation===h.implementation){n(m,g.sibling),g=i(g,h.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else t(m,g);g=g.sibling}g=Al(h,m.mode,_),g.return=m,m=g}return o(m);case Qn:return C=h._init,S(m,g,C(h._payload),_)}if(Xi(h))return d(m,g,h,_);if(Li(h))return y(m,g,h,_);io(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,h),g.return=m,m=g):(n(m,g),g=Nl(h,m.mode,_),g.return=m,m=g),o(m)):n(m,g)}return S}var mi=Em(!0),bm=Em(!1),js={},Tn=gr(js),ks=gr(js),Os=gr(js);function Tr(e){if(e===js)throw Error(D(174));return e}function Jc(e,t){switch(De(Os,t),De(ks,e),De(Tn,js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uu(t,e)}Me(Tn),De(Tn,t)}function gi(){Me(Tn),Me(ks),Me(Os)}function xm(e){Tr(Os.current);var t=Tr(Tn.current),n=uu(t,e.type);t!==n&&(De(ks,e),De(Tn,n))}function Yc(e){ks.current===e&&(Me(Tn),Me(ks))}var Ve=gr(0);function la(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function Xc(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var No=$n.ReactCurrentDispatcher,xl=$n.ReactCurrentBatchConfig,Ir=0,ze=null,tt=null,it=null,ua=!1,as=!1,Ns=0,Mw=0;function dt(){throw Error(D(321))}function Zc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gn(e[n],t[n]))return!1;return!0}function ed(e,t,n,r,i,s){if(Ir=s,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,No.current=e===null||e.memoizedState===null?Vw:zw,e=n(r,i),as){s=0;do{if(as=!1,Ns=0,25<=s)throw Error(D(301));s+=1,it=tt=null,t.updateQueue=null,No.current=Hw,e=n(r,i)}while(as)}if(No.current=ca,t=tt!==null&&tt.next!==null,Ir=0,it=tt=ze=null,ua=!1,t)throw Error(D(300));return e}function td(){var e=Ns!==0;return Ns=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ze.memoizedState=it=e:it=it.next=e,it}function nn(){if(tt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=it===null?ze.memoizedState:it.next;if(t!==null)it=t,tt=e;else{if(e===null)throw Error(D(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},it===null?ze.memoizedState=it=e:it=it.next=e}return it}function As(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=nn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((Ir&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,ze.lanes|=f,Rr|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,gn(r,t.memoizedState)||(Rt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ze.lanes|=s,Rr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cl(e){var t=nn(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);gn(s,t.memoizedState)||(Rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Tm(){}function Cm(e,t){var n=ze,r=nn(),i=t(),s=!gn(r.memoizedState,i);if(s&&(r.memoizedState=i,Rt=!0),r=r.queue,nd(Nm.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Is(9,Om.bind(null,n,r,i,t),void 0,null),st===null)throw Error(D(349));Ir&30||km(n,t,i)}return i}function km(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Om(e,t,n,r){t.value=n,t.getSnapshot=r,Am(t)&&Im(e)}function Nm(e,t,n){return n(function(){Am(t)&&Im(e)})}function Am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gn(e,n)}catch{return!0}}function Im(e){var t=Vn(e,1);t!==null&&hn(t,e,1,-1)}function Ff(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=Fw.bind(null,ze,e),[t.memoizedState,e]}function Is(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rm(){return nn().memoizedState}function Ao(e,t,n,r){var i=wn();ze.flags|=e,i.memoizedState=Is(1|t,n,void 0,r===void 0?null:r)}function La(e,t,n,r){var i=nn();r=r===void 0?null:r;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,r!==null&&Zc(r,o.deps)){i.memoizedState=Is(t,n,s,r);return}}ze.flags|=e,i.memoizedState=Is(1|t,n,s,r)}function Vf(e,t){return Ao(8390656,8,e,t)}function nd(e,t){return La(2048,8,e,t)}function Dm(e,t){return La(4,2,e,t)}function Pm(e,t){return La(4,4,e,t)}function Bm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lm(e,t,n){return n=n!=null?n.concat([e]):null,La(4,4,Bm.bind(null,t,e),n)}function rd(){}function Mm(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Um(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jm(e,t,n){return Ir&21?(gn(n,t)||(n=zp(),ze.lanes|=n,Rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=n)}function Uw(e,t){var n=ke;ke=n!==0&&4>n?n:4,e(!0);var r=xl.transition;xl.transition={};try{e(!1),t()}finally{ke=n,xl.transition=r}}function Fm(){return nn().memoizedState}function jw(e,t,n){var r=cr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vm(e))zm(t,n);else if(n=vm(e,t,n,r),n!==null){var i=xt();hn(n,e,r,i),Hm(n,t,r)}}function Fw(e,t,n){var r=cr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vm(e))zm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gn(a,o)){var l=t.interleaved;l===null?(i.next=i,qc(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=vm(e,t,i,r),n!==null&&(i=xt(),hn(n,e,r,i),Hm(n,t,r))}}function Vm(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function zm(e,t){as=ua=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pc(e,n)}}var ca={readContext:tn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Vw={readContext:tn,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:Vf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ao(4194308,4,Bm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ao(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ao(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jw.bind(null,ze,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:Ff,useDebugValue:rd,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=Ff(!1),t=e[0];return e=Uw.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ze,i=wn();if(Ue){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),st===null)throw Error(D(349));Ir&30||km(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Vf(Nm.bind(null,r,s,e),[e]),r.flags|=2048,Is(9,Om.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=wn(),t=st.identifierPrefix;if(Ue){var n=Bn,r=Pn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ns++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zw={readContext:tn,useCallback:Mm,useContext:tn,useEffect:nd,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:Pm,useMemo:Um,useReducer:Tl,useRef:Rm,useState:function(){return Tl(As)},useDebugValue:rd,useDeferredValue:function(e){var t=nn();return jm(t,tt.memoizedState,e)},useTransition:function(){var e=Tl(As)[0],t=nn().memoizedState;return[e,t]},useMutableSource:Tm,useSyncExternalStore:Cm,useId:Fm,unstable_isNewReconciler:!1},Hw={readContext:tn,useCallback:Mm,useContext:tn,useEffect:nd,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:Pm,useMemo:Um,useReducer:Cl,useRef:Rm,useState:function(){return Cl(As)},useDebugValue:rd,useDeferredValue:function(e){var t=nn();return tt===null?t.memoizedState=e:jm(t,tt.memoizedState,e)},useTransition:function(){var e=Cl(As)[0],t=nn().memoizedState;return[e,t]},useMutableSource:Tm,useSyncExternalStore:Cm,useId:Fm,unstable_isNewReconciler:!1};function yi(e,t){try{var n="",r=t;do n+=y0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function kl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ru(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $w=typeof WeakMap=="function"?WeakMap:Map;function $m(e,t,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fa||(fa=!0,zu=r),Ru(e,t)},n}function Wm(e,t,n){n=Un(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ru(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ru(e,t),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function zf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $w;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=i_.bind(null,e,t,n),t.then(e,e))}function Hf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $f(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Un(-1,1),t.tag=2,lr(n,t,1))),n.lanes|=1),e)}var Ww=$n.ReactCurrentOwner,Rt=!1;function Et(e,t,n,r){t.child=e===null?bm(t,null,n,r):mi(t,e.child,n,r)}function Wf(e,t,n,r,i){n=n.render;var s=t.ref;return li(t,i),r=ed(e,t,n,r,s,i),n=td(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zn(e,t,i)):(Ue&&n&&zc(t),t.flags|=1,Et(e,t,r,i),t.child)}function Kf(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!dd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Km(e,t,s,r,i)):(e=Po(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bs,n(o,r)&&e.ref===t.ref)return zn(e,t,i)}return t.flags|=1,e=dr(s,r),e.ref=t.ref,e.return=t,t.child=e}function Km(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(bs(s,r)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Rt=!0);else return t.lanes=e.lanes,zn(e,t,i)}return Du(e,t,n,r,i)}function Gm(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ti,Ft),Ft|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(ti,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(ti,Ft),Ft|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,De(ti,Ft),Ft|=r;return Et(e,t,i,n),t.child}function qm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Du(e,t,n,r,i){var s=Bt(n)?Nr:vt.current;return s=hi(t,s),li(t,i),n=ed(e,t,n,r,s,i),r=td(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zn(e,t,i)):(Ue&&r&&zc(t),t.flags|=1,Et(e,t,n,i),t.child)}function Gf(e,t,n,r,i){if(Bt(n)){var s=!0;na(t)}else s=!1;if(li(t,i),t.stateNode===null)Io(e,t),Sm(t,n,r),Iu(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=Bt(n)?Nr:vt.current,u=hi(t,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Uf(t,o,r,u),Jn=!1;var c=t.memoizedState;o.state=c,aa(t,r,o,i),l=t.memoizedState,a!==r||c!==l||Pt.current||Jn?(typeof f=="function"&&(Au(t,n,f,r),l=t.memoizedState),(a=Jn||Mf(t,n,a,r,c,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ln(t.type,a),o.props=u,p=t.pendingProps,c=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tn(l):(l=Bt(n)?Nr:vt.current,l=hi(t,l));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||c!==l)&&Uf(t,o,r,l),Jn=!1,c=t.memoizedState,o.state=c,aa(t,r,o,i);var d=t.memoizedState;a!==p||c!==d||Pt.current||Jn?(typeof w=="function"&&(Au(t,n,w,r),d=t.memoizedState),(u=Jn||Mf(t,n,u,r,c,d,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,d,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,d,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Pu(e,t,n,r,s,i)}function Pu(e,t,n,r,i,s){qm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Rf(t,n,!1),zn(e,t,s);r=t.stateNode,Ww.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=mi(t,e.child,null,s),t.child=mi(t,null,a,s)):Et(e,t,a,s),t.memoizedState=r.state,i&&Rf(t,n,!0),t.child}function Qm(e){var t=e.stateNode;t.pendingContext?If(e,t.pendingContext,t.pendingContext!==t.context):t.context&&If(e,t.context,!1),Jc(e,t.containerInfo)}function qf(e,t,n,r,i){return pi(),$c(i),t.flags|=256,Et(e,t,n,r),t.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jm(e,t,n){var r=t.pendingProps,i=Ve.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(Ve,i&1),e===null)return Ou(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ja(o,r,0,null),e=Or(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Lu(n),t.memoizedState=Bu,e):id(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Kw(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=dr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=dr(a,s):(s=Or(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Lu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Bu,r}return s=e.child,e=s.sibling,r=dr(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function id(e,t){return t=ja({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function so(e,t,n,r){return r!==null&&$c(r),mi(t,e.child,null,n),e=id(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kw(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=kl(Error(D(422))),so(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ja({mode:"visible",children:r.children},i,0,null),s=Or(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&mi(t,e.child,null,o),t.child.memoizedState=Lu(o),t.memoizedState=Bu,s);if(!(t.mode&1))return so(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=kl(s,r,void 0),so(e,t,o,r)}if(a=(o&e.childLanes)!==0,Rt||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vn(e,i),hn(r,e,i,-1))}return cd(),r=kl(Error(D(421))),so(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=s_.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Vt=ar(i.nextSibling),zt=t,Ue=!0,dn=null,e!==null&&(Jt[Yt++]=Pn,Jt[Yt++]=Bn,Jt[Yt++]=Ar,Pn=e.id,Bn=e.overflow,Ar=t),t=id(t,r.children),t.flags|=4096,t)}function Qf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nu(e.return,t,n)}function Ol(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ym(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Et(e,t,r.children,n),r=Ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qf(e,n,t);else if(e.tag===19)Qf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(Ve,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&la(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ol(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&la(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ol(t,!0,n,null,s);break;case"together":Ol(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Io(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gw(e,t,n){switch(t.tag){case 3:Qm(t),pi();break;case 5:xm(t);break;case 1:Bt(t.type)&&na(t);break;case 4:Jc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;De(sa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(Ve,Ve.current&1),t.flags|=128,null):n&t.child.childLanes?Jm(e,t,n):(De(Ve,Ve.current&1),e=zn(e,t,n),e!==null?e.sibling:null);De(Ve,Ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ym(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ve,Ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Gm(e,t,n)}return zn(e,t,n)}var Xm,Mu,Zm,eg;Xm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mu=function(){};Zm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Tr(Tn.current);var s=null;switch(n){case"input":i=su(e,i),r=su(e,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=lu(e,i),r=lu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ea)}cu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Le("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};eg=function(e,t,n,r){n!==r&&(t.flags|=4)};function zi(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qw(e,t,n){var r=t.pendingProps;switch(Hc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return Bt(t.type)&&ta(),ft(t),null;case 3:return r=t.stateNode,gi(),Me(Pt),Me(vt),Xc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dn!==null&&(Wu(dn),dn=null))),Mu(e,t),ft(t),null;case 5:Yc(t);var i=Tr(Os.current);if(n=t.type,e!==null&&t.stateNode!=null)Zm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return ft(t),null}if(e=Tr(Tn.current),ro(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Sn]=t,r[Cs]=s,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<es.length;i++)Le(es[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":rf(r,s),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Le("invalid",r);break;case"textarea":of(r,s),Le("invalid",r)}cu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&no(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&no(r.textContent,a,e),i=["children",""+a]):gs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":qs(r),sf(r,s,!0);break;case"textarea":qs(r),af(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ea)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Sn]=t,e[Cs]=r,Xm(e,t,!1,!1),t.stateNode=e;e:{switch(o=du(n,r),n){case"dialog":Le("cancel",e),Le("close",e),i=r;break;case"iframe":case"object":case"embed":Le("load",e),i=r;break;case"video":case"audio":for(i=0;i<es.length;i++)Le(es[i],e);i=r;break;case"source":Le("error",e),i=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=r;break;case"details":Le("toggle",e),i=r;break;case"input":rf(e,r),i=su(e,r),Le("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Le("invalid",e);break;case"textarea":of(e,r),i=lu(e,r),Le("invalid",e);break;default:i=r}cu(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ap(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Op(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ys(e,l):typeof l=="number"&&ys(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Le("scroll",e):l!=null&&Oc(e,s,l,o))}switch(n){case"input":qs(e),sf(e,r,!1);break;case"textarea":qs(e),af(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?ii(e,!!r.multiple,s,!1):r.defaultValue!=null&&ii(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ea)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)eg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=Tr(Os.current),Tr(Tn.current),ro(t)){if(r=t.stateNode,n=t.memoizedProps,r[Sn]=t,(s=r.nodeValue!==n)&&(e=zt,e!==null))switch(e.tag){case 3:no(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&no(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=t,t.stateNode=r}return ft(t),null;case 13:if(Me(Ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Vt!==null&&t.mode&1&&!(t.flags&128))ym(),pi(),t.flags|=98560,s=!1;else if(s=ro(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Sn]=t}else pi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),s=!1}else dn!==null&&(Wu(dn),dn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?nt===0&&(nt=3):cd())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return gi(),Mu(e,t),e===null&&xs(t.stateNode.containerInfo),ft(t),null;case 10:return Gc(t.type._context),ft(t),null;case 17:return Bt(t.type)&&ta(),ft(t),null;case 19:if(Me(Ve),s=t.memoizedState,s===null)return ft(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)zi(s,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=la(e),o!==null){for(t.flags|=128,zi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(Ve,Ve.current&1|2),t.child}e=e.sibling}s.tail!==null&&qe()>vi&&(t.flags|=128,r=!0,zi(s,!1),t.lanes=4194304)}else{if(!r)if(e=la(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return ft(t),null}else 2*qe()-s.renderingStartTime>vi&&n!==1073741824&&(t.flags|=128,r=!0,zi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=qe(),t.sibling=null,n=Ve.current,De(Ve,r?n&1|2:n&1),t):(ft(t),null);case 22:case 23:return ud(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ft&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Qw(e,t){switch(Hc(t),t.tag){case 1:return Bt(t.type)&&ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gi(),Me(Pt),Me(vt),Xc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(Me(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Ve),null;case 4:return gi(),null;case 10:return Gc(t.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var oo=!1,pt=!1,Jw=typeof WeakSet=="function"?WeakSet:Set,H=null;function ei(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(e,t,r)}else n.current=null}function Uu(e,t,n){try{n()}catch(r){We(e,t,r)}}var Jf=!1;function Yw(e,t){if(Su=Yo,e=im(),Vc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,p=e,c=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)c=p,p=w;for(;;){if(p===e)break t;if(c===n&&++u===i&&(a=o),c===s&&++f===r&&(l=o),(w=p.nextSibling)!==null)break;p=c,c=p.parentNode}p=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eu={focusedElem:e,selectionRange:n},Yo=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var d=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var y=d.memoizedProps,S=d.memoizedState,m=t.stateNode,g=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:ln(t.type,y),S);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(_){We(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return d=Jf,Jf=!1,d}function ls(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Uu(t,n,s)}i=i.next}while(i!==r)}}function Ma(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ju(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tg(e){var t=e.alternate;t!==null&&(e.alternate=null,tg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sn],delete t[Cs],delete t[Tu],delete t[Dw],delete t[Pw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ng(e){return e.tag===5||e.tag===3||e.tag===4}function Yf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ng(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ea));else if(r!==4&&(e=e.child,e!==null))for(Fu(e,t,n),e=e.sibling;e!==null;)Fu(e,t,n),e=e.sibling}function Vu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vu(e,t,n),e=e.sibling;e!==null;)Vu(e,t,n),e=e.sibling}var lt=null,un=!1;function Kn(e,t,n){for(n=n.child;n!==null;)rg(e,t,n),n=n.sibling}function rg(e,t,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Na,n)}catch{}switch(n.tag){case 5:pt||ei(n,t);case 6:var r=lt,i=un;lt=null,Kn(e,t,n),lt=r,un=i,lt!==null&&(un?(e=lt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(un?(e=lt,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),Ss(e)):Sl(lt,n.stateNode));break;case 4:r=lt,i=un,lt=n.stateNode.containerInfo,un=!0,Kn(e,t,n),lt=r,un=i;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Uu(n,t,o),i=i.next}while(i!==r)}Kn(e,t,n);break;case 1:if(!pt&&(ei(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,t,a)}Kn(e,t,n);break;case 21:Kn(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,Kn(e,t,n),pt=r):Kn(e,t,n);break;default:Kn(e,t,n)}}function Xf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jw),t.forEach(function(r){var i=o_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:lt=a.stateNode,un=!1;break e;case 3:lt=a.stateNode.containerInfo,un=!0;break e;case 4:lt=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(lt===null)throw Error(D(160));rg(s,o,i),lt=null,un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){We(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ig(t,e),t=t.sibling}function ig(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),vn(e),r&4){try{ls(3,e,e.return),Ma(3,e)}catch(y){We(e,e.return,y)}try{ls(5,e,e.return)}catch(y){We(e,e.return,y)}}break;case 1:on(t,e),vn(e),r&512&&n!==null&&ei(n,n.return);break;case 5:if(on(t,e),vn(e),r&512&&n!==null&&ei(n,n.return),e.flags&32){var i=e.stateNode;try{ys(i,"")}catch(y){We(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Tp(i,s),du(a,o);var u=du(a,s);for(o=0;o<l.length;o+=2){var f=l[o],p=l[o+1];f==="style"?Ap(i,p):f==="dangerouslySetInnerHTML"?Op(i,p):f==="children"?ys(i,p):Oc(i,f,p,u)}switch(a){case"input":ou(i,s);break;case"textarea":Cp(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?ii(i,!!s.multiple,w,!1):c!==!!s.multiple&&(s.defaultValue!=null?ii(i,!!s.multiple,s.defaultValue,!0):ii(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cs]=s}catch(y){We(e,e.return,y)}}break;case 6:if(on(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){We(e,e.return,y)}}break;case 3:if(on(t,e),vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ss(t.containerInfo)}catch(y){We(e,e.return,y)}break;case 4:on(t,e),vn(e);break;case 13:on(t,e),vn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ad=qe())),r&4&&Xf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(u=pt)||f,on(t,e),pt=u):on(t,e),vn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(H=e,f=e.child;f!==null;){for(p=H=f;H!==null;){switch(c=H,w=c.child,c.tag){case 0:case 11:case 14:case 15:ls(4,c,c.return);break;case 1:ei(c,c.return);var d=c.stateNode;if(typeof d.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,d.props=t.memoizedProps,d.state=t.memoizedState,d.componentWillUnmount()}catch(y){We(r,n,y)}}break;case 5:ei(c,c.return);break;case 22:if(c.memoizedState!==null){eh(p);continue}}w!==null?(w.return=c,H=w):eh(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Np("display",o))}catch(y){We(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){We(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:on(t,e),vn(e),r&4&&Xf(e);break;case 21:break;default:on(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ng(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ys(i,""),r.flags&=-33);var s=Yf(e);Vu(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Yf(e);Fu(e,a,o);break;default:throw Error(D(161))}}catch(l){We(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xw(e,t,n){H=e,sg(e)}function sg(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oo;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pt;a=oo;var u=pt;if(oo=o,(pt=l)&&!u)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?th(i):l!==null?(l.return=o,H=l):th(i);for(;s!==null;)H=s,sg(s),s=s.sibling;H=i,oo=a,pt=u}Zf(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):Zf(e)}}function Zf(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||Ma(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ln(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Lf(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lf(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ss(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}pt||t.flags&512&&ju(t)}catch(c){We(t,t.return,c)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function eh(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function th(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ma(4,t)}catch(l){We(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){We(t,i,l)}}var s=t.return;try{ju(t)}catch(l){We(t,s,l)}break;case 5:var o=t.return;try{ju(t)}catch(l){We(t,o,l)}}}catch(l){We(t,t.return,l)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var Zw=Math.ceil,da=$n.ReactCurrentDispatcher,sd=$n.ReactCurrentOwner,en=$n.ReactCurrentBatchConfig,xe=0,st=null,Qe=null,ut=0,Ft=0,ti=gr(0),nt=0,Rs=null,Rr=0,Ua=0,od=0,us=null,It=null,ad=0,vi=1/0,An=null,fa=!1,zu=null,ur=null,ao=!1,tr=null,ha=0,cs=0,Hu=null,Ro=-1,Do=0;function xt(){return xe&6?qe():Ro!==-1?Ro:Ro=qe()}function cr(e){return e.mode&1?xe&2&&ut!==0?ut&-ut:Lw.transition!==null?(Do===0&&(Do=zp()),Do):(e=ke,e!==0||(e=window.event,e=e===void 0?16:Qp(e.type)),e):1}function hn(e,t,n,r){if(50<cs)throw cs=0,Hu=null,Error(D(185));Ls(e,n,r),(!(xe&2)||e!==st)&&(e===st&&(!(xe&2)&&(Ua|=n),nt===4&&Zn(e,ut)),Lt(e,r),n===1&&xe===0&&!(t.mode&1)&&(vi=qe()+500,Pa&&yr()))}function Lt(e,t){var n=e.callbackNode;L0(e,t);var r=Jo(e,e===st?ut:0);if(r===0)n!==null&&cf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cf(n),t===1)e.tag===0?Bw(nh.bind(null,e)):pm(nh.bind(null,e)),Iw(function(){!(xe&6)&&yr()}),n=null;else{switch(Hp(r)){case 1:n=Dc;break;case 4:n=Fp;break;case 16:n=Qo;break;case 536870912:n=Vp;break;default:n=Qo}n=hg(n,og.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function og(e,t){if(Ro=-1,Do=0,xe&6)throw Error(D(327));var n=e.callbackNode;if(ui()&&e.callbackNode!==n)return null;var r=Jo(e,e===st?ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pa(e,r);else{t=r;var i=xe;xe|=2;var s=lg();(st!==e||ut!==t)&&(An=null,vi=qe()+500,kr(e,t));do try{n_();break}catch(a){ag(e,a)}while(!0);Kc(),da.current=s,xe=i,Qe!==null?t=0:(st=null,ut=0,t=nt)}if(t!==0){if(t===2&&(i=gu(e),i!==0&&(r=i,t=$u(e,i))),t===1)throw n=Rs,kr(e,0),Zn(e,r),Lt(e,qe()),n;if(t===6)Zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!e_(i)&&(t=pa(e,r),t===2&&(s=gu(e),s!==0&&(r=s,t=$u(e,s))),t===1))throw n=Rs,kr(e,0),Zn(e,r),Lt(e,qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Er(e,It,An);break;case 3:if(Zn(e,r),(r&130023424)===r&&(t=ad+500-qe(),10<t)){if(Jo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){xt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=xu(Er.bind(null,e,It,An),t);break}Er(e,It,An);break;case 4:if(Zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-fn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zw(r/1960))-r,10<r){e.timeoutHandle=xu(Er.bind(null,e,It,An),r);break}Er(e,It,An);break;case 5:Er(e,It,An);break;default:throw Error(D(329))}}}return Lt(e,qe()),e.callbackNode===n?og.bind(null,e):null}function $u(e,t){var n=us;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=pa(e,t),e!==2&&(t=It,It=n,t!==null&&Wu(t)),e}function Wu(e){It===null?It=e:It.push.apply(It,e)}function e_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~od,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fn(t),r=1<<n;e[n]=-1,t&=~r}}function nh(e){if(xe&6)throw Error(D(327));ui();var t=Jo(e,0);if(!(t&1))return Lt(e,qe()),null;var n=pa(e,t);if(e.tag!==0&&n===2){var r=gu(e);r!==0&&(t=r,n=$u(e,r))}if(n===1)throw n=Rs,kr(e,0),Zn(e,t),Lt(e,qe()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Er(e,It,An),Lt(e,qe()),null}function ld(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(vi=qe()+500,Pa&&yr())}}function Dr(e){tr!==null&&tr.tag===0&&!(xe&6)&&ui();var t=xe;xe|=1;var n=en.transition,r=ke;try{if(en.transition=null,ke=1,e)return e()}finally{ke=r,en.transition=n,xe=t,!(xe&6)&&yr()}}function ud(){Ft=ti.current,Me(ti)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Aw(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(Hc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ta();break;case 3:gi(),Me(Pt),Me(vt),Xc();break;case 5:Yc(r);break;case 4:gi();break;case 13:Me(Ve);break;case 19:Me(Ve);break;case 10:Gc(r.type._context);break;case 22:case 23:ud()}n=n.return}if(st=e,Qe=e=dr(e.current,null),ut=Ft=t,nt=0,Rs=null,od=Ua=Rr=0,It=us=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xr=null}return e}function ag(e,t){do{var n=Qe;try{if(Kc(),No.current=ca,ua){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ua=!1}if(Ir=0,it=tt=ze=null,as=!1,Ns=0,sd.current=null,n===null||n.return===null){nt=1,Rs=t,Qe=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var c=f.alternate;c?(f.updateQueue=c.updateQueue,f.memoizedState=c.memoizedState,f.lanes=c.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=Hf(o);if(w!==null){w.flags&=-257,$f(w,o,a,s,t),w.mode&1&&zf(s,u,t),t=w,l=u;var d=t.updateQueue;if(d===null){var y=new Set;y.add(l),t.updateQueue=y}else d.add(l);break e}else{if(!(t&1)){zf(s,u,t),cd();break e}l=Error(D(426))}}else if(Ue&&a.mode&1){var S=Hf(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),$f(S,o,a,s,t),$c(yi(l,a));break e}}s=l=yi(l,a),nt!==4&&(nt=2),us===null?us=[s]:us.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=$m(s,l,t);Bf(s,m);break e;case 1:a=l;var g=s.type,h=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ur===null||!ur.has(h)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=Wm(s,a,t);Bf(s,_);break e}}s=s.return}while(s!==null)}cg(n)}catch(x){t=x,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function lg(){var e=da.current;return da.current=ca,e===null?ca:e}function cd(){(nt===0||nt===3||nt===2)&&(nt=4),st===null||!(Rr&268435455)&&!(Ua&268435455)||Zn(st,ut)}function pa(e,t){var n=xe;xe|=2;var r=lg();(st!==e||ut!==t)&&(An=null,kr(e,t));do try{t_();break}catch(i){ag(e,i)}while(!0);if(Kc(),xe=n,da.current=r,Qe!==null)throw Error(D(261));return st=null,ut=0,nt}function t_(){for(;Qe!==null;)ug(Qe)}function n_(){for(;Qe!==null&&!k0();)ug(Qe)}function ug(e){var t=fg(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?cg(e):Qe=t,sd.current=null}function cg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qw(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Qe=null;return}}else if(n=qw(n,t,Ft),n!==null){Qe=n;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);nt===0&&(nt=5)}function Er(e,t,n){var r=ke,i=en.transition;try{en.transition=null,ke=1,r_(e,t,n,r)}finally{en.transition=i,ke=r}return null}function r_(e,t,n,r){do ui();while(tr!==null);if(xe&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(M0(e,s),e===st&&(Qe=st=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ao||(ao=!0,hg(Qo,function(){return ui(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=en.transition,en.transition=null;var o=ke;ke=1;var a=xe;xe|=4,sd.current=null,Yw(e,n),ig(n,e),bw(Eu),Yo=!!Su,Eu=Su=null,e.current=n,Xw(n),O0(),xe=a,ke=o,en.transition=s}else e.current=n;if(ao&&(ao=!1,tr=e,ha=i),s=e.pendingLanes,s===0&&(ur=null),I0(n.stateNode),Lt(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fa)throw fa=!1,e=zu,zu=null,e;return ha&1&&e.tag!==0&&ui(),s=e.pendingLanes,s&1?e===Hu?cs++:(cs=0,Hu=e):cs=0,yr(),null}function ui(){if(tr!==null){var e=Hp(ha),t=en.transition,n=ke;try{if(en.transition=null,ke=16>e?16:e,tr===null)var r=!1;else{if(e=tr,tr=null,ha=0,xe&6)throw Error(D(331));var i=xe;for(xe|=4,H=e.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(H=u;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:ls(8,f,s)}var p=f.child;if(p!==null)p.return=f,H=p;else for(;H!==null;){f=H;var c=f.sibling,w=f.return;if(tg(f),f===u){H=null;break}if(c!==null){c.return=w,H=c;break}H=w}}}var d=s.alternate;if(d!==null){var y=d.child;if(y!==null){d.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ls(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,H=m;break e}H=s.return}}var g=e.current;for(H=g;H!==null;){o=H;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,H=h;else e:for(o=g;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ma(9,a)}}catch(x){We(a,a.return,x)}if(a===o){H=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,H=_;break e}H=a.return}}if(xe=i,yr(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Na,e)}catch{}r=!0}return r}finally{ke=n,en.transition=t}}return!1}function rh(e,t,n){t=yi(n,t),t=$m(e,t,1),e=lr(e,t,1),t=xt(),e!==null&&(Ls(e,1,t),Lt(e,t))}function We(e,t,n){if(e.tag===3)rh(e,e,n);else for(;t!==null;){if(t.tag===3){rh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){e=yi(n,e),e=Wm(t,e,1),t=lr(t,e,1),e=xt(),t!==null&&(Ls(t,1,e),Lt(t,e));break}}t=t.return}}function i_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(ut&n)===n&&(nt===4||nt===3&&(ut&130023424)===ut&&500>qe()-ad?kr(e,0):od|=n),Lt(e,t)}function dg(e,t){t===0&&(e.mode&1?(t=Ys,Ys<<=1,!(Ys&130023424)&&(Ys=4194304)):t=1);var n=xt();e=Vn(e,t),e!==null&&(Ls(e,t,n),Lt(e,n))}function s_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dg(e,n)}function o_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),dg(e,n)}var fg;fg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)Rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Rt=!1,Gw(e,t,n);Rt=!!(e.flags&131072)}else Rt=!1,Ue&&t.flags&1048576&&mm(t,ia,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Io(e,t),e=t.pendingProps;var i=hi(t,vt.current);li(t,n),i=ed(null,t,r,e,i,n);var s=td();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(s=!0,na(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qc(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Iu(t,r,e,n),t=Pu(null,t,r,!0,s,n)):(t.tag=0,Ue&&s&&zc(t),Et(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Io(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=l_(r),e=ln(r,e),i){case 0:t=Du(null,t,r,e,n);break e;case 1:t=Gf(null,t,r,e,n);break e;case 11:t=Wf(null,t,r,e,n);break e;case 14:t=Kf(null,t,r,ln(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Du(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Gf(e,t,r,i,n);case 3:e:{if(Qm(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,i=s.element,wm(e,t),aa(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=yi(Error(D(423)),t),t=qf(e,t,r,n,i);break e}else if(r!==i){i=yi(Error(D(424)),t),t=qf(e,t,r,n,i);break e}else for(Vt=ar(t.stateNode.containerInfo.firstChild),zt=t,Ue=!0,dn=null,n=bm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pi(),r===i){t=zn(e,t,n);break e}Et(e,t,r,n)}t=t.child}return t;case 5:return xm(t),e===null&&Ou(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,bu(r,i)?o=null:s!==null&&bu(r,s)&&(t.flags|=32),qm(e,t),Et(e,t,o,n),t.child;case 6:return e===null&&Ou(t),null;case 13:return Jm(e,t,n);case 4:return Jc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mi(t,null,r,n):Et(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Wf(e,t,r,i,n);case 7:return Et(e,t,t.pendingProps,n),t.child;case 8:return Et(e,t,t.pendingProps.children,n),t.child;case 12:return Et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,De(sa,r._currentValue),r._currentValue=o,s!==null)if(gn(s.value,o)){if(s.children===i.children&&!Pt.current){t=zn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Un(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Nu(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nu(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Et(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,li(t,n),i=tn(i),r=r(i),t.flags|=1,Et(e,t,r,n),t.child;case 14:return r=t.type,i=ln(r,t.pendingProps),i=ln(r.type,i),Kf(e,t,r,i,n);case 15:return Km(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ln(r,i),Io(e,t),t.tag=1,Bt(r)?(e=!0,na(t)):e=!1,li(t,n),Sm(t,r,i),Iu(t,r,i,n),Pu(null,t,r,!0,e,n);case 19:return Ym(e,t,n);case 22:return Gm(e,t,n)}throw Error(D(156,t.tag))};function hg(e,t){return jp(e,t)}function a_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,r){return new a_(e,t,n,r)}function dd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function l_(e){if(typeof e=="function")return dd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ac)return 11;if(e===Ic)return 14}return 2}function dr(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Po(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")dd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wr:return Or(n.children,i,s,t);case Nc:o=8,i|=8;break;case tu:return e=Zt(12,n,t,i|2),e.elementType=tu,e.lanes=s,e;case nu:return e=Zt(13,n,t,i),e.elementType=nu,e.lanes=s,e;case ru:return e=Zt(19,n,t,i),e.elementType=ru,e.lanes=s,e;case Ep:return ja(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _p:o=10;break e;case Sp:o=9;break e;case Ac:o=11;break e;case Ic:o=14;break e;case Qn:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Zt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Or(e,t,n,r){return e=Zt(7,e,r,t),e.lanes=n,e}function ja(e,t,n,r){return e=Zt(22,e,r,t),e.elementType=Ep,e.lanes=n,e.stateNode={isHidden:!1},e}function Nl(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function Al(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function u_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function fd(e,t,n,r,i,s,o,a,l){return e=new u_(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(s),e}function c_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pg(e){if(!e)return pr;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Bt(n))return hm(e,n,t)}return t}function mg(e,t,n,r,i,s,o,a,l){return e=fd(n,r,!0,e,i,s,o,a,l),e.context=pg(null),n=e.current,r=xt(),i=cr(n),s=Un(r,i),s.callback=t??null,lr(n,s,i),e.current.lanes=i,Ls(e,i,r),Lt(e,r),e}function Fa(e,t,n,r){var i=t.current,s=xt(),o=cr(i);return n=pg(n),t.context===null?t.context=n:t.pendingContext=n,t=Un(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=lr(i,t,o),e!==null&&(hn(e,i,o,s),Oo(e,i,o)),o}function ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ih(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hd(e,t){ih(e,t),(e=e.alternate)&&ih(e,t)}function d_(){return null}var gg=typeof reportError=="function"?reportError:function(e){console.error(e)};function pd(e){this._internalRoot=e}Va.prototype.render=pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Fa(e,t,null,null)};Va.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){Fa(null,e,null,null)}),t[Fn]=null}};function Va(e){this._internalRoot=e}Va.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xn.length&&t!==0&&t<Xn[n].priority;n++);Xn.splice(n,0,e),n===0&&qp(e)}};function md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sh(){}function f_(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ma(o);s.call(u)}}var o=mg(t,r,e,0,null,!1,!1,"",sh);return e._reactRootContainer=o,e[Fn]=o.current,xs(e.nodeType===8?e.parentNode:e),Dr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ma(l);a.call(u)}}var l=fd(e,0,!1,null,null,!1,!1,"",sh);return e._reactRootContainer=l,e[Fn]=l.current,xs(e.nodeType===8?e.parentNode:e),Dr(function(){Fa(t,l,n,r)}),l}function Ha(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ma(o);a.call(l)}}Fa(t,o,e,i)}else o=f_(n,t,e,i,r);return ma(o)}$p=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zi(t.pendingLanes);n!==0&&(Pc(t,n|1),Lt(t,qe()),!(xe&6)&&(vi=qe()+500,yr()))}break;case 13:Dr(function(){var r=Vn(e,1);if(r!==null){var i=xt();hn(r,e,1,i)}}),hd(e,1)}};Bc=function(e){if(e.tag===13){var t=Vn(e,134217728);if(t!==null){var n=xt();hn(t,e,134217728,n)}hd(e,134217728)}};Wp=function(e){if(e.tag===13){var t=cr(e),n=Vn(e,t);if(n!==null){var r=xt();hn(n,e,t,r)}hd(e,t)}};Kp=function(){return ke};Gp=function(e,t){var n=ke;try{return ke=e,t()}finally{ke=n}};hu=function(e,t,n){switch(t){case"input":if(ou(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Da(r);if(!i)throw Error(D(90));xp(r),ou(r,i)}}}break;case"textarea":Cp(e,n);break;case"select":t=n.value,t!=null&&ii(e,!!n.multiple,t,!1)}};Dp=ld;Pp=Dr;var h_={usingClientEntryPoint:!1,Events:[Us,Qr,Da,Ip,Rp,ld]},Hi={findFiberByHostInstance:br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},p_={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mp(e),e===null?null:e.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||d_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{Na=lo.inject(p_),xn=lo}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h_;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!md(t))throw Error(D(200));return c_(e,t,null,n)};Wt.createRoot=function(e,t){if(!md(e))throw Error(D(299));var n=!1,r="",i=gg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=fd(e,1,!1,null,null,n,!1,r,i),e[Fn]=t.current,xs(e.nodeType===8?e.parentNode:e),new pd(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Mp(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return Dr(e)};Wt.hydrate=function(e,t,n){if(!za(t))throw Error(D(200));return Ha(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!md(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=mg(t,null,e,1,n??null,i,!1,s,o),e[Fn]=t.current,xs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Va(t)};Wt.render=function(e,t,n){if(!za(t))throw Error(D(200));return Ha(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!za(e))throw Error(D(40));return e._reactRootContainer?(Dr(function(){Ha(null,null,e,!1,function(){e._reactRootContainer=null,e[Fn]=null})}),!0):!1};Wt.unstable_batchedUpdates=ld;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!za(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Ha(e,t,n,!1,r)};Wt.version="18.2.0-next-9e3b772b8-20220608";function yg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yg)}catch(e){console.error(e)}}yg(),mp.exports=Wt;var m_=mp.exports,oh=m_;Zl.createRoot=oh.createRoot,Zl.hydrateRoot=oh.hydrateRoot;var $e=(e=>(e.HISTORY="HISTORY",e.LIVE="LIVE",e.NUDGE="NUDGE",e.BACKEND="BACKEND",e.DEFAULT="DEFAULT",e.NOTIFICATION="NOTIFICATION",e.PROACTIVE="PROACTIVE",e))($e||{}),$a=(e=>(e.DEFAULT="DEFAULT",e.PROACTIVE="PROACTIVE",e.ALERT="ALERT",e.INFO="INFO",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e))($a||{}),_n=(e=>(e.TOAST="TOAST",e.BANNER="BANNER",e.MODAL="MODAL",e))(_n||{}),wi=(e=>(e.TRANSPARENT="TRANSPARENT",e.DEFAULT="DEFAULT",e))(wi||{}),nr=(e=>(e.OPEN_BOT="OPEN_BOT",e.OPEN_BOT_SEND_TEXT_PARAMS="OPEN_BOT_SEND_TEXT_PARAMS",e))(nr||{}),rr=(e=>(e.OPEN_BOT="OPEN_BOT",e.OPEN_BOT_SEND_TEXT_PARAMS="OPEN_BOT_SEND_TEXT_PARAMS",e))(rr||{}),vg=(e=>(e.MAIN="main",e.ALTERNATE="alternate",e.BOTH="both",e))(vg||{}),ga=(e=>(e.AUTOCONNECT="autoConnect",e.ON_DIALOG_OPEN="onDialogOpen",e.ON_PAGE_SPEND_TIME="onPageSpendTime",e))(ga||{}),Ke=(e=>(e.TEXT_ONLY="TEXT_ONLY",e.TEXT_WITH_BUTTON="TEXT_WITH_BUTTON",e.TEXT_WITH_PLACEHOLDER="TEXT_WITH_PLACEHOLDER",e.TRANSPARENT_WITH_BUTTON="TRANSPARENT_WITH_BUTTON",e))(Ke||{}),te=(e=>(e.AJAX_ADD_TO_CART="AJAX_ADD_TO_CART",e.SHOPFRONT_ADD_TO_CART="SHOPFRONT_ADD_TO_CART",e.SHOP_FLOW_ADD_TO_CART="SHOP_FLOW_ADD_TO_CART",e.GOKWICK_ADD_TO_CART="GOKWICK_ADD_TO_CART",e.SHIP_ROCKET_ADD_TO_CART="SHIP_ROCKET_ADD_TO_CART",e.ADD_ASK_CHECKOUT_SHOPIFY="ADD_ASK_CHECKOUT_SHOPIFY",e.ADD_ASK_CHECKOUT_SHOP_FLOW="ADD_ASK_CHECKOUT_SHOP_FLOW",e.ADD_ASK_CHECKOUT_GOKWICK="ADD_ASK_CHECKOUT_GOKWICK",e.ADD_ASK_CHECKOUT_SHIP_ROCKET="ADD_ASK_CHECKOUT_SHIP_ROCKET",e.ADD_ASK_CHECKOUT_BUNDLER="ADD_ASK_CHECKOUT_BUNDLER",e.CUSTOM_KERELA_AYURVEDA="CUSTOM_KERELA_AYURVEDA",e.CV3_ADD_TO_CART="CV3_ADD_TO_CART",e.AJAX_AND_REFRESH="AJAX_AND_REFRESH",e))(te||{}),_i=(e=>(e.DEFAULT="DEFAULT",e.PROACTIVE="PROACTIVE",e))(_i||{}),bt=(e=>(e.LEFT="LEFT",e.RIGHT="RIGHT",e))(bt||{}),mt=(e=>(e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.CUSTOM="CUSTOM",e))(mt||{}),M=(e=>(e.TOGGLE_BOT="TOGGLE_BOT",e.CLOSE_BOT="CLOSE_BOT",e.OPEN_BOT="OPEN_BOT",e.OPEN_NUDGE="OPEN_NUDGE",e.CLOSE_NUDGE="CLOSE_NUDGE",e.CLOSE_NUDGE_OPEN_BOT="CLOSE_NUDGE_OPEN_BOT",e.CLICK_NUDGE="CLICK_NUDGE",e.CLOSE_NUDGE_OPEN_BOT_SEND_TEXT="CLOSE_NUDGE_OPEN_BOT_SEND_TEXT",e.NEW_NUDGE="NEW_NUDGE",e.BOT_ACTION="BOT_ACTION",e.CLOSE_NOTIFICATION="CLOSE_NOTIFICATION",e.NEW_NOTIFICATION="NEW_NOTIFICATION",e.OPEN_NOTIFICATION="OPEN_NOTIFICATION",e.CLOSE_NOTIFICATION_OPEN_BOT="CLOSE_NOTIFICATION_OPEN_BOT",e))(M||{}),ce=(e=>(e.NUDGE_CLOSE_BUTTON="NUDGE_CLOSE_BUTTON",e.OPEN_BOT_SIDE_EFFECT="OPEN_BOT_SIDE_EFFECT",e.DIALOG_CLOSE_BUTTON="DIALOG_CLOSE_BUTTON",e.ICON_BUTTON="ICON_BUTTON",e.NUDGE_BODY="NUDGE_BODY",e.TIMER="TIMER",e.NOTIFICATION_CLOSE_BUTTON="NOTIFICATION_CLOSE_BUTTON",e.BACKGROUND_CLICK="BACKGROUND_CLICK",e.NOTIFICATION_CLICK="NOTIFICATION_CLICK",e.AUTO_CLOSE="AUTO_CLOSE",e.NOTIFICATION_BUTTON="NOTIFICATION_BUTTON",e))(ce||{});const g_={en:{addButtonOverCarousel:"ADD",showVariantsInCarousel:"More Variants",addToCartText:"Add to cart",showSimilarProducts:"Similar Products"},es:{addButtonOverCarousel:"ADD",showVariantsInCarousel:"Nuevos mensajes",addToCartText:"Cerrar chat",showSimilarProducts:"Similar Products"},sv:{addButtonOverCarousel:"Köp",showVariantsInCarousel:"Visa varianter",addToCartText:"Lägg i varukorgen",showSimilarProducts:"Similar Products"}};function wg(e,t){return function(){return e.apply(t,arguments)}}const{toString:y_}=Object.prototype,{getPrototypeOf:gd}=Object,Wa=(e=>t=>{const n=y_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=e=>(e=e.toLowerCase(),t=>Wa(t)===e),Ka=e=>t=>typeof t===e,{isArray:Oi}=Array,Ds=Ka("undefined");function v_(e){return e!==null&&!Ds(e)&&e.constructor!==null&&!Ds(e.constructor)&&Ht(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _g=yn("ArrayBuffer");function w_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_g(e.buffer),t}const __=Ka("string"),Ht=Ka("function"),Sg=Ka("number"),Ga=e=>e!==null&&typeof e=="object",S_=e=>e===!0||e===!1,Bo=e=>{if(Wa(e)!=="object")return!1;const t=gd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},E_=yn("Date"),b_=yn("File"),x_=yn("Blob"),T_=yn("FileList"),C_=e=>Ga(e)&&Ht(e.pipe),k_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ht(e.append)&&((t=Wa(e))==="formdata"||t==="object"&&Ht(e.toString)&&e.toString()==="[object FormData]"))},O_=yn("URLSearchParams"),[N_,A_,I_,R_]=["ReadableStream","Request","Response","Headers"].map(yn),D_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Oi(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function Eg(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bg=e=>!Ds(e)&&e!==Cr;function Ku(){const{caseless:e}=bg(this)&&this||{},t={},n=(r,i)=>{const s=e&&Eg(t,i)||i;Bo(t[s])&&Bo(r)?t[s]=Ku(t[s],r):Bo(r)?t[s]=Ku({},r):Oi(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Fs(arguments[r],n);return t}const P_=(e,t,n,{allOwnKeys:r}={})=>(Fs(t,(i,s)=>{n&&Ht(i)?e[s]=wg(i,n):e[s]=i},{allOwnKeys:r}),e),B_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),L_=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},M_=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&gd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},U_=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},j_=e=>{if(!e)return null;if(Oi(e))return e;let t=e.length;if(!Sg(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},F_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gd(Uint8Array)),V_=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},z_=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},H_=yn("HTMLFormElement"),$_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ah=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),W_=yn("RegExp"),xg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Fs(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},K_=e=>{xg(e,(t,n)=>{if(Ht(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ht(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},G_=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Oi(e)?r(e):r(String(e).split(t)),n},q_=()=>{},Q_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Il="abcdefghijklmnopqrstuvwxyz",lh="0123456789",Tg={DIGIT:lh,ALPHA:Il,ALPHA_DIGIT:Il+Il.toUpperCase()+lh},J_=(e=16,t=Tg.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Y_(e){return!!(e&&Ht(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const X_=e=>{const t=new Array(10),n=(r,i)=>{if(Ga(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Oi(r)?[]:{};return Fs(r,(o,a)=>{const l=n(o,i+1);!Ds(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},Z_=yn("AsyncFunction"),eS=e=>e&&(Ga(e)||Ht(e))&&Ht(e.then)&&Ht(e.catch),Cg=((e,t)=>e?setImmediate:t?((n,r)=>(Cr.addEventListener("message",({source:i,data:s})=>{i===Cr&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Cr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ht(Cr.postMessage)),tS=typeof queueMicrotask<"u"?queueMicrotask.bind(Cr):typeof process<"u"&&process.nextTick||Cg,O={isArray:Oi,isArrayBuffer:_g,isBuffer:v_,isFormData:k_,isArrayBufferView:w_,isString:__,isNumber:Sg,isBoolean:S_,isObject:Ga,isPlainObject:Bo,isReadableStream:N_,isRequest:A_,isResponse:I_,isHeaders:R_,isUndefined:Ds,isDate:E_,isFile:b_,isBlob:x_,isRegExp:W_,isFunction:Ht,isStream:C_,isURLSearchParams:O_,isTypedArray:F_,isFileList:T_,forEach:Fs,merge:Ku,extend:P_,trim:D_,stripBOM:B_,inherits:L_,toFlatObject:M_,kindOf:Wa,kindOfTest:yn,endsWith:U_,toArray:j_,forEachEntry:V_,matchAll:z_,isHTMLForm:H_,hasOwnProperty:ah,hasOwnProp:ah,reduceDescriptors:xg,freezeMethods:K_,toObjectSet:G_,toCamelCase:$_,noop:q_,toFiniteNumber:Q_,findKey:Eg,global:Cr,isContextDefined:bg,ALPHABET:Tg,generateString:J_,isSpecCompliantForm:Y_,toJSONObject:X_,isAsyncFn:Z_,isThenable:eS,setImmediate:Cg,asap:tS};function de(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}O.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const kg=de.prototype,Og={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Og[e]={value:e}});Object.defineProperties(de,Og);Object.defineProperty(kg,"isAxiosError",{value:!0});de.from=(e,t,n,r,i,s)=>{const o=Object.create(kg);return O.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),de.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const nS=null;function Gu(e){return O.isPlainObject(e)||O.isArray(e)}function Ng(e){return O.endsWith(e,"[]")?e.slice(0,-2):e}function uh(e,t,n){return e?e.concat(t).map(function(i,s){return i=Ng(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function rS(e){return O.isArray(e)&&!e.some(Gu)}const iS=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function qa(e,t,n){if(!O.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!O.isUndefined(S[y])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(i))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(O.isDate(d))return d.toISOString();if(!l&&O.isBlob(d))throw new de("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(d)||O.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function f(d,y,S){let m=d;if(d&&!S&&typeof d=="object"){if(O.endsWith(y,"{}"))y=r?y:y.slice(0,-2),d=JSON.stringify(d);else if(O.isArray(d)&&rS(d)||(O.isFileList(d)||O.endsWith(y,"[]"))&&(m=O.toArray(d)))return y=Ng(y),m.forEach(function(h,_){!(O.isUndefined(h)||h===null)&&t.append(o===!0?uh([y],_,s):o===null?y:y+"[]",u(h))}),!1}return Gu(d)?!0:(t.append(uh(S,y,s),u(d)),!1)}const p=[],c=Object.assign(iS,{defaultVisitor:f,convertValue:u,isVisitable:Gu});function w(d,y){if(!O.isUndefined(d)){if(p.indexOf(d)!==-1)throw Error("Circular reference detected in "+y.join("."));p.push(d),O.forEach(d,function(m,g){(!(O.isUndefined(m)||m===null)&&i.call(t,m,O.isString(g)?g.trim():g,y,c))===!0&&w(m,y?y.concat(g):[g])}),p.pop()}}if(!O.isObject(e))throw new TypeError("data must be an object");return w(e),t}function ch(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function yd(e,t){this._pairs=[],e&&qa(e,this,t)}const Ag=yd.prototype;Ag.append=function(t,n){this._pairs.push([t,n])};Ag.toString=function(t){const n=t?function(r){return t.call(this,r,ch)}:ch;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ig(e,t,n){if(!t)return e;const r=n&&n.encode||sS,i=n&&n.serialize;let s;if(i?s=i(t,n):s=O.isURLSearchParams(t)?t.toString():new yd(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class oS{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const dh=oS,Rg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aS=typeof URLSearchParams<"u"?URLSearchParams:yd,lS=typeof FormData<"u"?FormData:null,uS=typeof Blob<"u"?Blob:null,cS={isBrowser:!0,classes:{URLSearchParams:aS,FormData:lS,Blob:uS},protocols:["http","https","file","blob","url","data"]},vd=typeof window<"u"&&typeof document<"u",dS=(e=>vd&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),fS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hS=vd&&window.location.href||"http://localhost",pS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vd,hasStandardBrowserEnv:dS,hasStandardBrowserWebWorkerEnv:fS,origin:hS},Symbol.toStringTag,{value:"Module"})),pn={...pS,...cS};function mS(e,t){return qa(e,new pn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return pn.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function gS(e){return O.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function yS(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function Dg(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&O.isArray(i)?i.length:o,l?(O.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!O.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&O.isArray(i[o])&&(i[o]=yS(i[o])),!a)}if(O.isFormData(e)&&O.isFunction(e.entries)){const n={};return O.forEachEntry(e,(r,i)=>{t(gS(r),i,n,0)}),n}return null}function vS(e,t,n){if(O.isString(e))try{return(t||JSON.parse)(e),O.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const wd={transitional:Rg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=O.isObject(t);if(s&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return i?JSON.stringify(Dg(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mS(t,this.formSerializer).toString();if((a=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qa(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),vS(t)):t}],transformResponse:[function(t){const n=this.transitional||wd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?de.from(a,de.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pn.classes.FormData,Blob:pn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],e=>{wd.headers[e]={}});const _d=wd,wS=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_S=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&wS[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},fh=Symbol("internals");function $i(e){return e&&String(e).trim().toLowerCase()}function Lo(e){return e===!1||e==null?e:O.isArray(e)?e.map(Lo):String(e)}function SS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ES=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rl(e,t,n,r,i){if(O.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function bS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function xS(e,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class Qa{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,u){const f=$i(l);if(!f)throw new Error("header name must be a non-empty string");const p=O.findKey(i,f);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||l]=Lo(a))}const o=(a,l)=>O.forEach(a,(u,f)=>s(u,f,l));if(O.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(O.isString(t)&&(t=t.trim())&&!ES(t))o(_S(t),n);else if(O.isHeaders(t))for(const[a,l]of t.entries())s(l,a,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=$i(t),t){const r=O.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return SS(i);if(O.isFunction(n))return n.call(this,i,r);if(O.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$i(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Rl(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=$i(o),o){const a=O.findKey(r,o);a&&(!n||Rl(r,r[a],a,n))&&(delete r[a],i=!0)}}return O.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Rl(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return O.forEach(this,(i,s)=>{const o=O.findKey(r,s);if(o){n[o]=Lo(i),delete n[s];return}const a=t?bS(s):String(s).trim();a!==s&&delete n[s],n[a]=Lo(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[fh]=this[fh]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=$i(o);r[a]||(xS(i,o),r[a]=!0)}return O.isArray(t)?t.forEach(s):s(t),this}}Qa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(Qa.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});O.freezeMethods(Qa);const mn=Qa;function Dl(e,t){const n=this||_d,r=t||n,i=mn.from(r.headers);let s=r.data;return O.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Pg(e){return!!(e&&e.__CANCEL__)}function Ni(e,t,n){de.call(this,e??"canceled",de.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(Ni,de,{__CANCEL__:!0});function Bg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function TS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function CS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),f=r[s];o||(o=u),n[i]=l,r[i]=u;let p=s,c=0;for(;p!==i;)c+=n[p++],p=p%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const w=f&&u-f;return w?Math.round(c*1e3/w):void 0}}function kS(e,t){let n=0,r=1e3/t,i,s;const o=(u,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const f=Date.now(),p=f-n;p>=r?o(u,f):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const ya=(e,t,n=3)=>{let r=0;const i=CS(50,250);return kS(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),f=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(p)},n)},hh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ph=e=>(...t)=>O.asap(()=>e(...t)),OS=pn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=O.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),NS=pn.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];O.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),O.isString(r)&&o.push("path="+r),O.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function IS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Lg(e,t){return e&&!AS(t)?IS(e,t):t}const mh=e=>e instanceof mn?{...e}:e;function Pr(e,t){t=t||{};const n={};function r(u,f,p){return O.isPlainObject(u)&&O.isPlainObject(f)?O.merge.call({caseless:p},u,f):O.isPlainObject(f)?O.merge({},f):O.isArray(f)?f.slice():f}function i(u,f,p){if(O.isUndefined(f)){if(!O.isUndefined(u))return r(void 0,u,p)}else return r(u,f,p)}function s(u,f){if(!O.isUndefined(f))return r(void 0,f)}function o(u,f){if(O.isUndefined(f)){if(!O.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,p){if(p in t)return r(u,f);if(p in e)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,f)=>i(mh(u),mh(f),!0)};return O.forEach(Object.keys(Object.assign({},e,t)),function(f){const p=l[f]||i,c=p(e[f],t[f],f);O.isUndefined(c)&&p!==a||(n[f]=c)}),n}const Mg=e=>{const t=Pr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=mn.from(o),t.url=Ig(Lg(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(O.isFormData(n)){if(pn.hasStandardBrowserEnv||pn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...f]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(pn.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&OS(t.url))){const u=i&&s&&NS.read(s);u&&o.set(i,u)}return t},RS=typeof XMLHttpRequest<"u",DS=RS&&function(e){return new Promise(function(n,r){const i=Mg(e);let s=i.data;const o=mn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,f,p,c,w,d;function y(){w&&w(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function m(){if(!S)return;const h=mn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:h,config:e,request:S};Bg(function(T){n(T),y()},function(T){r(T),y()},x),S=null}"onloadend"in S?S.onloadend=m:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(m)},S.onabort=function(){S&&(r(new de("Request aborted",de.ECONNABORTED,e,S)),S=null)},S.onerror=function(){r(new de("Network Error",de.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||Rg;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new de(_,x.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,e,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&O.forEach(o.toJSON(),function(_,x){S.setRequestHeader(x,_)}),O.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),a&&a!=="json"&&(S.responseType=i.responseType),u&&([c,d]=ya(u,!0),S.addEventListener("progress",c)),l&&S.upload&&([p,w]=ya(l),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(f=h=>{S&&(r(!h||h.type?new Ni(null,e,S):h),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const g=TS(i.url);if(g&&pn.protocols.indexOf(g)===-1){r(new de("Unsupported protocol "+g+":",de.ERR_BAD_REQUEST,e));return}S.send(s||null)})},PS=(e,t)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof de?u:new Ni(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{i(new de(`timeout ${t} of ms exceeded`,de.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},BS=PS,LS=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},MS=async function*(e,t,n){for await(const r of e)yield*LS(ArrayBuffer.isView(r)?r:await n(String(r)),t)},gh=(e,t,n,r,i)=>{const s=MS(e,t,i);let o=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:p}=await s.next();if(f){l(),u.close();return}let c=p.byteLength;if(n){let w=o+=c;n(w)}u.enqueue(new Uint8Array(p))}catch(f){throw l(f),f}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Ja=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ug=Ja&&typeof ReadableStream=="function",qu=Ja&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),jg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},US=Ug&&jg(()=>{let e=!1;const t=new Request(pn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),yh=64*1024,Qu=Ug&&jg(()=>O.isReadableStream(new Response("").body)),va={stream:Qu&&(e=>e.body)};Ja&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!va[t]&&(va[t]=O.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new de(`Response type '${t}' is not supported`,de.ERR_NOT_SUPPORT,r)})})})(new Response);const jS=async e=>{if(e==null)return 0;if(O.isBlob(e))return e.size;if(O.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(O.isArrayBufferView(e)||O.isArrayBuffer(e))return e.byteLength;if(O.isURLSearchParams(e)&&(e=e+""),O.isString(e))return(await qu(e)).byteLength},FS=async(e,t)=>{const n=O.toFiniteNumber(e.getContentLength());return n??jS(t)},VS=Ja&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:f,withCredentials:p="same-origin",fetchOptions:c}=Mg(e);u=u?(u+"").toLowerCase():"text";let[w,d]=i||s||o?BS([i,s],o):[],y,S;const m=()=>{!y&&setTimeout(()=>{w&&w.unsubscribe()}),y=!0};let g;try{if(l&&US&&n!=="get"&&n!=="head"&&(g=await FS(f,r))!==0){let C=new Request(t,{method:"POST",body:r,duplex:"half"}),T;if(O.isFormData(r)&&(T=C.headers.get("content-type"))&&f.setContentType(T),C.body){const[k,B]=hh(g,ya(ph(l)));r=gh(C.body,yh,k,B,qu)}}O.isString(p)||(p=p?"include":"omit"),S=new Request(t,{...c,signal:w,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:p});let h=await fetch(S);const _=Qu&&(u==="stream"||u==="response");if(Qu&&(a||_)){const C={};["status","statusText","headers"].forEach(A=>{C[A]=h[A]});const T=O.toFiniteNumber(h.headers.get("content-length")),[k,B]=a&&hh(T,ya(ph(a),!0))||[];h=new Response(gh(h.body,yh,k,()=>{B&&B(),_&&m()},qu),C)}u=u||"text";let x=await va[O.findKey(va,u)||"text"](h,e);return!_&&m(),d&&d(),await new Promise((C,T)=>{Bg(C,T,{data:x,headers:mn.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:S})})}catch(h){throw m(),h&&h.name==="TypeError"&&/fetch/i.test(h.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,e,S),{cause:h.cause||h}):de.from(h,h&&h.code,e,S)}}),Ju={http:nS,xhr:DS,fetch:VS};O.forEach(Ju,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vh=e=>`- ${e}`,zS=e=>O.isFunction(e)||e===null||e===!1,Fg={getAdapter:e=>{e=O.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!zS(n)&&(r=Ju[(o=String(n)).toLowerCase()],r===void 0))throw new de(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(vh).join(`
`):" "+vh(s[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Ju};function Pl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ni(null,e)}function wh(e){return Pl(e),e.headers=mn.from(e.headers),e.data=Dl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Fg.getAdapter(e.adapter||_d.adapter)(e).then(function(r){return Pl(e),r.data=Dl.call(e,e.transformResponse,r),r.headers=mn.from(r.headers),r},function(r){return Pg(r)||(Pl(e),r&&r.response&&(r.response.data=Dl.call(e,e.transformResponse,r.response),r.response.headers=mn.from(r.response.headers))),Promise.reject(r)})}const Vg="1.7.4",Sd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Sd[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const _h={};Sd.transitional=function(t,n,r){function i(s,o){return"[Axios v"+Vg+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new de(i(o," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!_h[o]&&(_h[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};function HS(e,t,n){if(typeof e!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new de("option "+s+" must be "+l,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+s,de.ERR_BAD_OPTION)}}const Yu={assertOptions:HS,validators:Sd},Gn=Yu.validators;class wa{constructor(t){this.defaults=t,this.interceptors={request:new dh,response:new dh}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Pr(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Yu.assertOptions(r,{silentJSONParsing:Gn.transitional(Gn.boolean),forcedJSONParsing:Gn.transitional(Gn.boolean),clarifyTimeoutError:Gn.transitional(Gn.boolean)},!1),i!=null&&(O.isFunction(i)?n.paramsSerializer={serialize:i}:Yu.assertOptions(i,{encode:Gn.function,serialize:Gn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&O.merge(s.common,s[n.method]);s&&O.forEach(["delete","get","head","post","put","patch","common"],d=>{delete s[d]}),n.headers=mn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let f,p=0,c;if(!l){const d=[wh.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,u),c=d.length,f=Promise.resolve(n);p<c;)f=f.then(d[p++],d[p++]);return f}c=a.length;let w=n;for(p=0;p<c;){const d=a[p++],y=a[p++];try{w=d(w)}catch(S){y.call(this,S);break}}try{f=wh.call(this,w)}catch(d){return Promise.reject(d)}for(p=0,c=u.length;p<c;)f=f.then(u[p++],u[p++]);return f}getUri(t){t=Pr(this.defaults,t);const n=Lg(t.baseURL,t.url);return Ig(n,t.params,t.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(t){wa.prototype[t]=function(n,r){return this.request(Pr(r||{},{method:t,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(Pr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}wa.prototype[t]=n(),wa.prototype[t+"Form"]=n(!0)});const Mo=wa;class Ed{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new Ni(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Ed(function(i){t=i}),cancel:t}}}const $S=Ed;function WS(e){return function(n){return e.apply(null,n)}}function KS(e){return O.isObject(e)&&e.isAxiosError===!0}const Xu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xu).forEach(([e,t])=>{Xu[t]=e});const GS=Xu;function zg(e){const t=new Mo(e),n=wg(Mo.prototype.request,t);return O.extend(n,Mo.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return zg(Pr(e,i))},n}const Ye=zg(_d);Ye.Axios=Mo;Ye.CanceledError=Ni;Ye.CancelToken=$S;Ye.isCancel=Pg;Ye.VERSION=Vg;Ye.toFormData=qa;Ye.AxiosError=de;Ye.Cancel=Ye.CanceledError;Ye.all=function(t){return Promise.all(t)};Ye.spread=WS;Ye.isAxiosError=KS;Ye.mergeConfig=Pr;Ye.AxiosHeaders=mn;Ye.formToJSON=e=>Dg(O.isHTMLForm(e)?new FormData(e):e);Ye.getAdapter=Fg.getAdapter;Ye.HttpStatusCode=GS;Ye.default=Ye;const Bl=Ye,qS=(()=>{var e,t,n;return((e=window==null?void 0:window.verifastSettings)==null?void 0:e.isLoggerEnabled)||((t=window==null?void 0:window.location)==null?void 0:t.hostname)==="localhost"||((n=window==null?void 0:window.location)==null?void 0:n.hostname)==="127.0.0.1"})(),ne=(...e)=>{qS&&console.log(...e)};function Tt(e,t){const n=Math.round(e[0]+(255-e[0])*t),r=Math.round(e[1]+(255-e[1])*t),i=Math.round(e[2]+(255-e[2])*t);return`rgb(${n}, ${r}, ${i})`}function QS(e){return e==null?"#FFFFFF":Tt(e,0)}function bd(e){return e&&{text_only:Ke.TEXT_ONLY,text_with_button:Ke.TEXT_WITH_BUTTON,text_with_placeholder:Ke.TEXT_WITH_PLACEHOLDER,transparent_with_buttons:Ke.TRANSPARENT_WITH_BUTTON}[e.toLowerCase()]||Ke.TEXT_ONLY}function JS(e){return e&&{open_bot:nr.OPEN_BOT,open_bot_send_text:nr.OPEN_BOT_SEND_TEXT_PARAMS}[e.toLowerCase()]||nr.OPEN_BOT}function YS(e){return e&&{open_bot:rr.OPEN_BOT,open_bot_send_text:rr.OPEN_BOT_SEND_TEXT_PARAMS}[e.toLowerCase()]||rr.OPEN_BOT}function XS(e,t){return e?re==="get-kerala-ayurveda.myshopify.com"?te.CUSTOM_KERELA_AYURVEDA:{ajax_add_to_cart:te.AJAX_ADD_TO_CART,shop_front_add_to_cart:te.SHOPFRONT_ADD_TO_CART,shop_flow_add_to_cart:te.SHOP_FLOW_ADD_TO_CART,gokwick_add_to_cart:te.GOKWICK_ADD_TO_CART,ship_rocket_add_to_cart:te.SHIP_ROCKET_ADD_TO_CART,add_ask_checkout_shopflow:te.ADD_ASK_CHECKOUT_SHOP_FLOW,add_ask_checkout_gokwick:te.ADD_ASK_CHECKOUT_GOKWICK,add_ask_checkout_ship_rocket:te.ADD_ASK_CHECKOUT_SHIP_ROCKET,add_ask_checkout_shopify:te.ADD_ASK_CHECKOUT_SHOPIFY,ajax_and_refresh:te.AJAX_AND_REFRESH,add_ask_checkout_bundler:te.ADD_ASK_CHECKOUT_BUNDLER,cv3_add_to_cart:te.CV3_ADD_TO_CART}[e.toLowerCase()]||te.SHOPFRONT_ADD_TO_CART:t!=null&&t.ajaxAddToCartFlow?te.AJAX_ADD_TO_CART:te.SHOPFRONT_ADD_TO_CART}function ZS(e){return e&&{small:mt.SMALL,medium:mt.MEDIUM,large:mt.LARGE,custom:mt.CUSTOM}[e.toLowerCase()]||mt.MEDIUM}function e1(e){return e&&{left:bt.LEFT,right:bt.RIGHT}[e.toLowerCase()]||bt.RIGHT}const xd=(e,t,n)=>{const r={[mt.SMALL]:[40,40],[mt.MEDIUM]:[60,60],[mt.LARGE]:[70,70],[mt.CUSTOM]:[t||60,n||60]};return e?r[e]:r[mt.MEDIUM]},Ll=e=>_a.includes("aiconvo")?!0:["hubbard","valvorx","seedwork"].includes(e),t1=e=>[""].includes(e),n1=(e,t)=>{const n={};return n[e]&&n[e].some(r=>t.startsWith(r))},an=(e,t,n,r="")=>e.replace(/\[\[product_name\]\]/g,t||"").replace(/\[\[collection_name\]\]/g,n||r),uo=e=>e.replace(/\[\[product_name\]\]/g,"").replace(/\[\[collection_name\]\]/g,""),r1=e=>["ramdevstore2.myshopify.com","testestsestest"].includes(e),i1=e=>["lifeelements-store.myshopify.com","testestsestest","valworx","hubbard","myhealinghands.myshopify.com","ba2b09-2.myshopify.com","7380c1-ce.myshopify.com"].includes(e),s1=e=>["nicktung","freemansland","unitest","zhenpinxuan","maximcolors","displaysystemsandprints","unimax.sg"].includes(e),o1=e=>i1(e)?null:s1(e)?"aiconvo":"verifast",a1={strategy:vg.BOTH,autoConnect:{main:["make-your-own-perfume.myshopify.com","eat-anytime.myshopify.com","ramdevstore1.myshopify.com","grandmaasecret-com.myshopify.com","oleumcottage-smallbatch-apothecary.myshopify.com","naturelandorganics.myshopify.com","ghar-soaps.myshopify.com","dr-vaidya.myshopify.com","maharishi-ayurveda-in.myshopify.com","skinvest-skincare.myshopify.com","adilqadrihashmi.myshopify.com","zero-harm.myshopify.com","verifast2","drrashel2.myshopify.com","ayanosh.myshopify.com"],alternate:[""]},onDialogOpen:{main:["index-1","index-2"],alternate:[""]}};function In(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}const l1=e=>{const t=new URLSearchParams(new URL(e).search),n=Object.fromEntries(t);n.action="AddCart",n.action_forward="/floating_cart",n.prod_id=n.prod_id||"5114",n.qty=n.qty||"1",n.num_attributes=n.num_attributes||"0",n.option1=n.option1||"8076 - Echo Midnight",window.parent.postMessage({type:"execute-function",functionBody:`
      return fetch('/floating_cart/AddCart', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: new URLSearchParams(${JSON.stringify(n)}),
        redirect: 'follow'
      })
      .then(response => {
        if (response.ok) {
          console.log("response", response)
          if (response.redirected) {
            window.location.href = "/viewcart";
          }
          return response.text();
        }
        throw new Error('Network response was not ok.');
      })
      .then(data => {
        console.log('Success:', data);
        return { success: true, data: data };
      })
      .catch(error => {
        console.error('Error:', error);
        return { success: false, error: error.message };
      });
    `},"*")},zr=(e,t,n)=>{try{const r=e.match(/\/cart\/(\d+):(\d+)/);if(!r){console.error("Invalid cart URL format");return}const[,i,s]=r,a=new URL(e).searchParams.get("note")||"came-from-verifast",l=new Date().toISOString(),u="verifast",f="chatbot",p=t.customerId,c={SHOP_FLO:"window.handleFloCartBtn();",GO_KWICK:"window.triggerGokwikCustomCheckout();",SHIP_ROCKET:"window.shiprocketCheckoutBuyCartHandler();",DEFAULT:"let cartDrawer = document.querySelector('cart-drawer'); if(!cartDrawer) cartDrawer = document.querySelector('new-cart-drawer'); if (cartDrawer) cartDrawer.open();",REFRESH:"window.location.reload();"};return window.parent.postMessage({type:"execute-function",functionBody:`
        return fetch('/cart/add.js', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            id: ${i},
            quantity: ${s},
            note: '${a}'
          }),
        })
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then(data => {
          console.log('Success:', data);
          // After successful add to cart, update cart attributes
          return fetch('/cart/update.js', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              attributes: {
                'verifast_source': 'chat_bot',
                'verifast_session': '${t.customerId}',
                'verifast_timestamp': '${l}',
                'utm_source': '${u}',
                'utm_medium': '${f}',
                'utm_term': '${p}'
              }
            })
          })
          .then(() => {
            ${c[n]}
          });
        })
        .catch(error => {
          console.error('Error:', error);
          return { success: false, error: error.message };
        });
      `},"*"),!0}catch(r){return console.error("Error handling Shopify cart:",r),!1}},u1=(e,t)=>{try{const n=e.match(/\/cart\/(\d+):(\d+)/);if(!n){console.error("Invalid cart URL format");return}const[,r,i]=n,o=new URL(e,window.location.origin).searchParams.get("note")||"came-from-verifast",a=new Date().toISOString(),l=`
      (function() {
        class ProductForm extends HTMLFormElement {
          #submitting = false;
          constructor() {
            super();
            this.productHandle = this.getAttribute('product_handle');
            // Bind the event so that "this" refers to the class instance
            this.addEventListener("submit", this._onSubmit.bind(this));
          }
          
          async _onSubmit(event) {
            event.preventDefault();
            if (this.#submitting) return;
            if (!this.checkValidity()) {
              this.reportValidity();
              return;
            }
            
            const submitButtons = Array.from(this.elements).filter((el) => el.type === "submit");
            submitButtons.forEach((btn) => btn.setAttribute("aria-busy", "true"));
            
            // Get the variant id, quantity, and note from the form inputs
            const variantId = this.elements.namedItem("id")?.value;
            const quantity = this.elements.namedItem("quantity")?.value || 1;
            const note = this.elements.namedItem("note")?.value || "";
            
            this.#submitting = true;
            try {
              // Add the product using JSON payload
              const addResponse = await fetch('cart/add.js', {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                  "X-Requested-With": "XMLHttpRequest"
                },
                body: JSON.stringify({
                  id: variantId,
                  quantity: parseInt(quantity, 10),
                  note: note
                })
              });
              const addData = await addResponse.json();
              if (!addResponse.ok) {
                throw new Error(addData.description || 'Error adding product to cart');
              }
              console.log("Product added:", addData);
              
              // Prepare custom attributes for the cart update
              const customAttributes = {
                'verifast_source': 'chat_bot',
                'verifast_session': this.elements.namedItem("customerId")?.value || 'defaultSession',
                'verifast_timestamp': new Date().toISOString(),
                'utm_source': this.elements.namedItem("utm_source")?.value || 'defaultSource',
                'utm_medium': this.elements.namedItem("utm_medium")?.value || 'defaultMedium',
                'utm_term': this.elements.namedItem("utm_term")?.value || 'defaultTerm'
              };
              
              // Update the cart attributes
              const updateResponse = await fetch('cart/update.js', {
                method: "POST",
                headers: {
                  "Content-Type": "application/json"
                },
                body: JSON.stringify({
                  attributes: customAttributes
                })
              });
              const updateData = await updateResponse.json();
              if (!updateResponse.ok) {
                throw new Error("Error updating cart attributes");
              }
              console.log("Cart attributes updated:", updateData);
              
              // Optionally dispatch a custom event for success
              this.dispatchEvent(new CustomEvent("cart:updated", {
                bubbles: true,
                detail: {
                  addData,
                  updateData
                }
              }));
            } catch (error) {
              console.error("Error in submission:", error);
              this.dispatchEvent(new CustomEvent("cart:error", {
                bubbles: true,
                detail: { error: error.message }
              }));
            } finally {
              submitButtons.forEach((btn) => btn.removeAttribute("aria-busy"));
              this.#submitting = false;
            }
          }
        }
        
        if (!window.customElements.get("product-form")) {
          window.customElements.define("product-form", ProductForm, { extends: "form" });
        }
        
        // Create a new form element using the custom element
        const form = document.createElement("form", { is: "product-form" });
        form.setAttribute("product_handle", "example-product-handle");
        
        // Hidden input for variant id
        const inputVariant = document.createElement("input");
        inputVariant.type = "hidden";
        inputVariant.name = "id";
        inputVariant.value = ${r}; 
        form.appendChild(inputVariant);
        
        // Hidden input for quantity (default 1)
        const inputQuantity = document.createElement("input");
        inputQuantity.type = "hidden";
        inputQuantity.name = "quantity";
        inputQuantity.value = ${i};
        form.appendChild(inputQuantity);
        
        // Hidden input for note
        const inputNote = document.createElement("input");
        inputNote.type = "hidden";
        inputNote.name = "note";
        inputNote.value = "${o}";
        form.appendChild(inputNote);
        
        // Optional hidden inputs for custom cart attributes
        const customerId = document.createElement("input");
        customerId.type = "hidden";
        customerId.name = "customerId";
        customerId.value = "${t.customerId}";
        form.appendChild(customerId);
        
        const utmSource = document.createElement("input");
        utmSource.type = "hidden";
        utmSource.name = "utm_source";
        utmSource.value = "verifast";
        form.appendChild(utmSource);
        
        const utmMedium = document.createElement("input");
        utmMedium.type = "hidden";
        utmMedium.name = "utm_medium";
        utmMedium.value = "chatbot";
        form.appendChild(utmMedium);
        
        const utmTerm = document.createElement("input");
        utmTerm.type = "hidden";
        utmTerm.name = "utm_term";
        utmTerm.value = "${t.customerId}";
        form.appendChild(utmTerm);
        
        // Create a submit button
        const submit = document.createElement("button");
        submit.type = "submit";
        submit.textContent = "Add to Cart";
        form.appendChild(submit);
        
        // Append the form to the document body
        document.body.appendChild(form);
        
        // Trigger the form submission
        form.dispatchEvent(new Event("submit", { cancelable: true, bubbles: true }));
      })();
    `;return window.parent.postMessage({type:"execute-function",functionBody:l},"*"),!0}catch(n){return console.error("Error handling Shopify cart:",n),!1}},c1=e=>Object.keys(e).length===0,d1=()=>{const e=new Date;try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone,n={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0},r=e.toLocaleString("en-US",{...n,timeZone:t});if(r&&typeof r=="string"&&r.length>0)return r;throw new Error("Invalid date format returned")}catch{try{return e.toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})}catch{return e.toString()}}},f1=()=>{window.parent.postMessage({type:"execute-function",functionBody:`const userData = JSON.parse(localStorage.getItem('verifast-user-permanent-data') || '{}');
    const scrollPosition = {
      scrollHeight: document.documentElement.scrollHeight,
      scrollTop: document.documentElement.scrollTop,
      clientHeight: document.documentElement.clientHeight,
      scrollPercentage: Math.round((document.documentElement.scrollTop / (document.documentElement.scrollHeight - document.documentElement.clientHeight)) * 100)
    };
    return JSON.stringify({
      ...userData,
      scrollPosition
    });`},"*")},Sh=(e,t)=>{try{const n=localStorage.getItem(`${e.selectedIndex}-user-data`);if(n){const r=JSON.parse(n),i=JSON.parse(t),o=[{visitedDays:r.visitedDays||[],eventCount:r.eventCount||0,hasPlacedAnOrder:r.hasPlacedAnOrder||!1,hasTalkedToBot:r.hasTalkedToBot||!1,scrollPosition:r.scrollPosition||{}}];r.history&&o.push(...r.history.slice(0,2));const a={...i,hasTalkedToBot:!0,history:o};return localStorage.setItem(`${e.selectedIndex}-user-data`,JSON.stringify(a)),a}else return localStorage.setItem(`${e.selectedIndex}-user-data`,t),JSON.parse(t)}catch(n){return ne("error in managing user properties",n),{}}},Eh=(e,t=3)=>{let n=0;const r=()=>{const i=Date.now(),s={...e,timestamp:i};return ne(`Sending message ${JSON.stringify(s)} at time ${new Date(i).toISOString()}`),window.parent.postMessage(s,"*"),new Promise((o,a)=>{const l=setTimeout(()=>{window.removeEventListener("message",u),n<t?(n++,r().then(o).catch(a)):a(new Error("Max retries reached"))},1e3),u=f=>{ne(`Received event ${JSON.stringify(f.data)}`),f.data.type===`${e.type}-ack`&&f.data.timestamp===i&&(clearTimeout(l),window.removeEventListener("message",u),JSON.stringify(f.data.receivedDimensions)===JSON.stringify(e.dimensions)?(ne("Dimensions match. Operation successful."),o()):(console.error("Dimension mismatch:",e.dimensions,f.data.receivedDimensions),a(new Error("Dimension mismatch"))))};window.addEventListener("message",u)})};return r()};function Zu(e){const t=e.match(/^(\d+\.?\d*)\s*SEK$/);if(t){const o=parseFloat(t[1]);if(!isNaN(o))return new Intl.NumberFormat("sv-SE",{style:"currency",currency:"SEK",minimumFractionDigits:2,maximumFractionDigits:2}).format(o)}const n=e.replace(/[^\d.]/g,"").trim(),r=parseFloat(n);if(isNaN(r))return e;let i="USD",s="en-US";return e.includes("INR")||e.includes("Rs")||e.includes("₹")?(i="INR",s="en-IN"):e.includes("$")?(i="USD",s="en-US"):e.toLowerCase().includes("r")?(i="ZAR",s="en-ZA"):e.includes("SEK")||e.includes("kr")?(i="SEK",s="sv-SE"):e.includes("GBP")&&(i="GBP",s="en-GB"),new Intl.NumberFormat(s,{style:"currency",currency:i,minimumFractionDigits:2,maximumFractionDigits:2}).format(r)}const Wi=(e,t,n)=>{const r=t===bt.LEFT?"left":"right";return`${n}-${e?"open":"close"}-animation-${r}`},h1=(e,t,n,r={})=>{var f,p;const i=(window==null?void 0:window.nudge_text_flag)??!1,s=(window==null?void 0:window.gb_cart_flow)??"shop_front_add_to_cart",o=(window==null?void 0:window.eventProperties)??{},a=`https://webhook-gateway.verifast.ai/api/track/shopify?sender=chatbotui&index_name=${n}&event=${e}`,l={Accept:"text/plain","Content-Type":"application/json"},u=JSON.stringify([{event:e,properties:{payload:r,token:"0527017678af18a1b91e3e8869a0acf8",time:Date.now(),distinct_id:t,verifast_uid:t,verifast_index:n,a_b_nudge_text_flag:i,proactive_properties:o,prefered_language:((f=window==null?void 0:window.navigator)==null?void 0:f.language)||"unknown",browser_languages:((p=window==null?void 0:window.navigator)==null?void 0:p.languages)||[],gb_cart_flow:s,event_name:e,coming_from:"backend_webhook_listener",url:Ps}}]);fetch(a,{method:"POST",headers:l,body:u}).then(c=>c.text()).then(c=>console.log(c)).catch(c=>console.error("Error:",c))},p1=()=>fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>e.ip).catch(e=>(console.error("Error fetching IP:",e),"unknown")),Ie=(e,t)=>{try{t&&h1(e,t.verifast_uid,t.verifast_index,t)}catch(n){ne("failed to send metrics",n)}},be=()=>Math.floor(Date.now()/1e3),m1=(e,t)=>{try{const n=`${e}-feedback-${t}`;return localStorage.getItem(n)!==null}catch(n){return ne("error checking feedback status",n),!1}},g1=(e,t)=>{try{const n=`${e}-feedback-${t}`,r={timestamp:Date.now(),customerId:t,selectedIndex:e};localStorage.setItem(n,JSON.stringify(r))}catch(n){ne("error marking feedback as given",n)}},y1=new URLSearchParams(window.location.search),K=JSON.parse(decodeURIComponent(y1.get("verifastSettings")||"{}")),v1=K.IS_DEV_MODE||!1;let _a=K.websocketUrl||"https://p-ws-async.verifast.ai",w1=K.alternateSocketUrl||"https://d-ws-async.verifast.ai",bh=_a,_1="https://events.verifast.ai";const Ps=K.currentPage,re=K.selectedIndex,ec=K.indexSuggestions,S1=K.headerImageUrl,E1=K.headerImageWidth,b1=K.headerImageHeight,tc=K.introMessage,x1=K.botName,T1=K.botSubText,Te=K.customerId,C1=K.is_shopify,nc=K.primaryHex||"#000000",k1=K.nudgeText,O1=K.nudgeTextSize,N1=K.nudgeTextColor,A1=K.nudgeMaxWidth;K.nudgeMaxHeight;const I1=K.nudgeVariant,R1=K.nudgeBackground,D1=K.nudgeAppearDelay,P1=K.nudgeDisappearDelay,B1=K.iconUrl,L1=K.agentIconSize,M1=K.agentIconPosition,U1=K.iconSpaceFromSide,j1=K.iconSpaceFromBottom,F1=K.iconWidth,V1=K.iconHeight;K.zIndex;const Td=K.currentPageHref||"",z1=K.pageType,H1=K.productTitle,$1=K.collectionTitle,W1=K.typingAnimation,K1=K.enableSocketAlways;K.enableProactiveNudge;const Uo=K.iconDisabledOnPhone,Yn=K.customerData,Hg=!K.nudge,G1=K.language;K.isAiConvo;const q1=K.carouselInsideCarousel,Q1=K.ajaxAddToCartFlow,J1=K.addToCart;K.cartFlow;const Y1=K.nudgeOnClickFlow,X1=K.iconOnClickFlow,Z1=K.metadataQuery,eE=K.socketConnectionRule,tE=K.similarProductReplace,nE=K.chatbotUIDesign,rE=K.secondIntroMessage,iE=K.speechRecognition,sE=K.storeType,oE=K.carouselType,aE=K.removeUtmSource,lE=["verifast","aiconvo","hide_provider"].includes(K.provider)?K.provider:"verifast";function uE(e){let t=0,n=0,r=0;return(e==null?void 0:e.length)==4?(t="0x"+e[1]+e[1],n="0x"+e[2]+e[2],r="0x"+e[3]+e[3]):e.length==7&&(t="0x"+e[1]+e[2],n="0x"+e[3]+e[4],r="0x"+e[5]+e[6]),[+t,+n,+r]}const rc=uE(nc);console.debug(`Converted primary hex ${nc} to primary rgb ${rc} of type ${typeof nc} and ${typeof rc}`);class cE{constructor(t){ye(this,"index");ye(this,"botName");ye(this,"botSubtitle");ye(this,"botIntro");ye(this,"secondIntroMessage");ye(this,"botHeaderConfig");ye(this,"urlRefObj");ye(this,"feature");ye(this,"selectedIndexSuggestions");ye(this,"shopify");ye(this,"bodyPrimaryColor");ye(this,"colorScheme");ye(this,"placeholderText");ye(this,"bgImage");ye(this,"hideSelfBranding");ye(this,"alignment");ye(this,"icon");ye(this,"nudge");ye(this,"flags");ye(this,"provider");ye(this,"cartflow");ye(this,"chatbotUIDesign");ye(this,"dimensions");ye(this,"currentPage");ye(this,"storeType");ye(this,"carouselType");ye(this,"currentPageHref");ye(this,"searchTerm");ye(this,"pageType");ye(this,"productTitle");ye(this,"collectionTitle");ye(this,"internalBotConfig");ye(this,"language");ye(this,"metadataQuery");ye(this,"socketConnectionRule");ye(this,"languageTranslations");var f,p,c,w,d,y,S,m,g,h,_,x,C,T,k,B,A,V,X,me,Q,ue,Z,Ce;const n=new URL(`https://${Ps}`);let r;try{r=new URL(Td||"https://example.com")}catch(I){console.error("Failed to parse URL:",I),r=new URL("https://example.com")}this.urlRefObj=r,this.index=t.index,this.botName=t.botName||"Shop Assistant",this.botSubtitle=t.botSubtitle??"",this.storeType=t.storeType||"default",this.botIntro=t.botIntro||"How can we help you?",this.secondIntroMessage=t.secondIntroMessage,this.botHeaderConfig={imageUrl:t.botHeaderLogoConfig.logoUrl||"https://verifast.ai/images/clients/default/brand_logo.png",height:t.botHeaderLogoConfig.height??10,width:t.botHeaderLogoConfig.width??10},this.productTitle=t.productTitle??"",this.collectionTitle=t.collectionTitle??"";const i=this.productTitle,s=this.collectionTitle,o=t.selectedIndexSuggestions??[];this.selectedIndexSuggestions=o.length===0||o[0]===""?[].map(I=>({label:uo(I),value:an(I,i,s)})):(t.selectedIndexSuggestions||[]).map(I=>({label:uo(I),value:an(I,i,s)})),this.shopify=t.shopify??!1,this.bodyPrimaryColor=((f=t.colorScheme)==null?void 0:f.primaryColor)??[47,148,245],this.colorScheme={primaryColor:((p=t.colorScheme)==null?void 0:p.primaryColor)??[47,148,245],messageContainerBG:QS(((c=t.colorScheme)==null?void 0:c.messageContainerBG)??void 0),completeBG:t.chatbotUIDesign===wi.TRANSPARENT?"":"white",textColors:{headerColor:Tt(((d=(w=t.colorScheme)==null?void 0:w.textColors)==null?void 0:d.headerColor)??[0,0,0],0),subHeaderColor:Tt(((S=(y=t.colorScheme)==null?void 0:y.textColors)==null?void 0:S.subHeaderColor)??[0,0,0],0)}},this.bgImage=t.bgImage?t.bgImage:{},this.feature={agent_handover:((m=t.feature)==null?void 0:m.agent_handover)??!1},this.placeholderText=["Ask me anything","You can talk to me in any language"],this.hideSelfBranding=["pee-safe.myshopify.com","peesafe"].includes(t.index),this.alignment=e1(t.alignment);const a=ZS(t.icon.size||"medium"),l=a===mt.LARGE?70:60,u=a===mt.LARGE?70:60;this.icon={url:t.icon.url||"https://storage.googleapis.com/cdn.asia.verifast.tech/images/chatbot/Black%20Icon%20Chatbot.png",size:a,width:t.icon.width?parseInt(t.icon.width):l,height:t.icon.height?parseInt(t.icon.height):u,spaceFromSide:t.icon.spaceFromSide??0,SpaceFromBottom:t.icon.SpaceFromBottom??0,borderColor:[255,255,255],iconOnClickFlow:YS(t.icon.iconOnClickFlow??"open_bot")},this.provider=t.provider||"verifast",this.metadataQuery=t.metadataQuery??{},this.socketConnectionRule={connectOn:((g=t.socketConnectionRule)==null?void 0:g.connectOn)??ga.ON_DIALOG_OPEN,onPageSendTime:((h=t.socketConnectionRule)==null?void 0:h.onPageSendTime)??30},this.chatbotUIDesign=t.chatbotUIDesign??wi.DEFAULT,this.nudge={text:t.nudge.text||"Hey! Chat with me",textSize:t.nudge.textSize??"12px",maxWidth:t.nudge.maxWidth&&t.nudge.maxWidth>0?t.nudge.maxWidth:160,maxHeight:t.nudge.maxHeight??0,nudgeVariant:bd(t.nudge.nudgeVariant??"text_only"),background:t.nudge.background??void 0,textColor:t.nudge.textColor??"white",appearDelay:t.nudge.appearDelay??3,disappearDelay:t.nudge.disappearDelay??26,nudgeOnClickFlow:JS(t.nudge.nudgeOnClickFlow??"open_bot")},this.flags={enableSocketAlways:t.flags.enableSocketAlways??!1,isIconAndNudgeDisabledOnPhone:t.flags.isIconAndNudgeDisabledOnPhone??!1,nudgeDisabled:t.flags.nudgeDisabled??!1,typingAnimation:t.flags.typingAnimation??!0,carouselInsideCarousel:t.flags.carouselInsideCarousel??!1,isBotOpenAtLoad:r.searchParams.get("verifast-bot-open")==="1",ajaxAddToCartFlow:t.flags.ajaxAddToCartFlow??!1,addToCart:t.flags.addToCart??!0,similarProductReplace:t.flags.similarProductReplace,speechRecognition:t.flags.speechRecognition??!1,removeUtmSource:t.flags.removeUtmSource??!1},this.cartflow=XS(t.cartflow??"",this.flags),this.currentPage=t.currentPage,this.currentPageHref=t.currentPageHref??"",this.pageType=t.pageType??"",this.language=t.language??"en",this.languageTranslations=g_[this.language],this.carouselType=t.carouselType??"default",this.internalBotConfig={cart_drawer_indentification:{elements:((x=(_=t.internalBotConfig)==null?void 0:_.cart_drawer_indentification)==null?void 0:x.elements)??[],classes:((T=(C=t.internalBotConfig)==null?void 0:C.cart_drawer_indentification)==null?void 0:T.classes)??[]},page_specific_nudges:((k=t.internalBotConfig)==null?void 0:k.page_specific_nudges)??{},page_specific_bubbles:((B=t.internalBotConfig)==null?void 0:B.page_specific_bubbles)??{},page_specific_intro:((A=t.internalBotConfig)==null?void 0:A.page_specific_intro)??{},nudgeTimings:{nudgeOpenTime:((X=(V=t.internalBotConfig)==null?void 0:V.nudgeTimings)==null?void 0:X.nudgeOpenTime)??1e4,nudgeCloseTime:((Q=(me=t.internalBotConfig)==null?void 0:me.nudgeTimings)==null?void 0:Q.nudgeCloseTime)??3e4},category_specific_nudges:((ue=t.internalBotConfig)==null?void 0:ue.category_specific_nudges)??{},category_specific_bubbles:((Z=t.internalBotConfig)==null?void 0:Z.category_specific_bubbles)??{},category_specific_intro:((Ce=t.internalBotConfig)==null?void 0:Ce.category_specific_intro)??{}},this.dimensions=t.dimensions??{botOpen:{width:"360px",height:"min(90vh, 850px)"},nudgeOpen:{width:"200px",height:"130px"},proActiveNudgeOpen:{width:"200px",height:"230px"}},this.nudge.text=an(this.nudge.text,i,s),this.botIntro=an(this.botIntro,i,s),this.secondIntroMessage=an(this.secondIntroMessage||"",i,s);for(const[I,P]of Object.entries(this.internalBotConfig.category_specific_bubbles))if(n.pathname.startsWith(I)){Array.isArray(P)&&P.length>0&&(this.selectedIndexSuggestions=P.map(W=>({label:uo(W),value:an(W,i,s)})));break}for(const[I,P]of Object.entries(this.internalBotConfig.category_specific_nudges))if(n.pathname.startsWith(I)){this.nudge.text=an(P,i,s);break}for(const[I,P]of Object.entries(this.internalBotConfig.category_specific_intro))if(n.pathname.startsWith(I)){this.botIntro=an(P,i,s);break}if(this.internalBotConfig.page_specific_bubbles[n.pathname]){const I=this.internalBotConfig.page_specific_bubbles[n.pathname];this.selectedIndexSuggestions=I.map(P=>({label:uo(P),value:an(P,i,s)}))}if(this.internalBotConfig.page_specific_nudges[n.pathname]&&(this.nudge.text=an(this.internalBotConfig.page_specific_nudges[n.pathname],i,s)),this.internalBotConfig.page_specific_intro[n.pathname]&&(this.botIntro=an(this.internalBotConfig.page_specific_intro[n.pathname],i,s)),this.searchTerm="",n.pathname.startsWith("/search")){const I=r.searchParams.get("q")??"";this.nudge.text=`Looking for ${I}?`,this.nudge.nudgeOnClickFlow=nr.OPEN_BOT_SEND_TEXT_PARAMS,this.icon.iconOnClickFlow=rr.OPEN_BOT_SEND_TEXT_PARAMS,this.searchTerm=I}r.searchParams.get("v-nudge")&&(this.nudge.text=r.searchParams.get("v-nudge")||this.nudge.text,this.nudge.appearDelay=.5)}}const ve=new cE({index:re,botName:x1,botSubtitle:T1,selectedIndexSuggestions:ec,botHeaderLogoConfig:{logoUrl:S1,height:b1,width:E1},colorScheme:{primaryColor:rc},botIntro:tc,secondIntroMessage:rE,shopify:C1,alignment:M1,icon:{url:B1,size:L1,width:F1,height:V1,spaceFromSide:U1,SpaceFromBottom:j1,iconOnClickFlow:X1},nudge:{text:k1,textSize:O1,nudgeVariant:I1,maxWidth:A1,background:R1,textColor:N1,appearDelay:D1,disappearDelay:P1,nudgeOnClickFlow:Y1},flags:{enableSocketAlways:K1,isIconAndNudgeDisabledOnPhone:Uo,nudgeDisabled:Hg,typingAnimation:W1,carouselInsideCarousel:q1,ajaxAddToCartFlow:Q1,addToCart:J1,similarProductReplace:tE,speechRecognition:iE,removeUtmSource:aE},cartflow:K.cartflow,chatbotUIDesign:nE,dimensions:K.dimensions,currentPage:Ps,storeType:sE,carouselType:oE,currentPageHref:Td,pageType:z1,productTitle:H1,collectionTitle:$1,metadataQuery:Z1,socketConnectionRule:eE,internalBotConfig:K.internalBotConfig,language:G1,provider:lE});var $g={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xh=Dt.createContext&&Dt.createContext($g),fr=function(){return fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},fr.apply(this,arguments)},dE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Wg(e){return e&&e.map(function(t,n){return Dt.createElement(t.tag,fr({key:n},t.attr),Wg(t.child))})}function Wn(e){return function(t){return Dt.createElement(fE,fr({attr:fr({},e.attr)},t),Wg(e.child))}}function fE(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=dE(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Dt.createElement("svg",fr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:fr(fr({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Dt.createElement("title",null,s),e.children)};return xh!==void 0?Dt.createElement(xh.Consumer,null,function(n){return t(n)}):t($g)}function Kg(e){return Wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"}}]})(e)}function hE(e){return Wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M192 448h128m64-240v32c0 70.4-57.6 128-128 128h0c-70.4 0-128-57.6-128-128v-32m128 160v80"}},{tag:"path",attr:{d:"M256 320a78.83 78.83 0 01-56.55-24.1A80.89 80.89 0 01176 239V128a79.69 79.69 0 0180-80c44.86 0 80 35.14 80 80v111c0 44.66-35.89 81-80 81z"}}]})(e)}function Gg(e){return Wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm43.4 289.1c7.5 7.5 7.5 19.8 0 27.3-3.8 3.8-8.7 5.6-13.6 5.6s-9.9-1.9-13.7-5.7l-94-94.3c-6.9-7.6-6.7-19.3.6-26.6l95.4-95.7c7.5-7.5 19.7-7.6 27.3 0 7.5 7.5 7.6 19.7 0 27.3l-81.9 81 79.9 81.1z"}}]})(e)}function qg(e){return Wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256zm244.5 0l-81.9-81.1c-7.5-7.5-7.5-19.8 0-27.3s19.8-7.5 27.3 0l95.4 95.7c7.3 7.3 7.5 19.1.6 26.6l-94 94.3c-3.8 3.8-8.7 5.7-13.7 5.7-4.9 0-9.9-1.9-13.6-5.6-7.5-7.5-7.6-19.7 0-27.3l79.9-81z"}}]})(e)}function pE(e){return Wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M277.375 427V167.296l119.702 119.702L427 256 256 85 85 256l29.924 29.922 119.701-118.626V427h42.75z"}}]})(e)}function mE(e){return Wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 448l416-192L48 64v149.333L346 256 48 298.667z"}}]})(e)}function Qg(e){return Wn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM403.029 192H360v-60c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v60h-43.029c-10.691 0-16.045 12.926-8.485 20.485l67.029 67.029c4.686 4.686 12.284 4.686 16.971 0l67.029-67.029c7.559-7.559 2.205-20.485-8.486-20.485z"}}]})(e)}function Th(e){return Wn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}}]})(e)}const gE=({images:e,botConfig:t,design:n,handleLinkClick:r,handleMoreVariantClick:i})=>{const s=E.useRef(null),[o,a]=E.useState(!1);E.useEffect(()=>{const f=s.current;f&&a(f.scrollWidth>f.clientWidth)},[e]);const l=(f,p,c="",w)=>{f.preventDefault(),f.stopPropagation(),r(p,c,w)},u=f=>{if(s.current){const c=s.current.scrollLeft,w=f==="left"?c-120:c+120;s.current.scrollTo({left:w,behavior:"smooth"})}};return v.jsxs("div",{className:"relative p-2 w-fit min-w-[25%] max-w-full rounded-xl",children:[v.jsx("div",{className:"flex overflow-x-auto space-x-3 py-2 px-1",ref:s,children:e&&e.map((f,p)=>v.jsx(yE,{item:f,botConfig:t,design:n,recordLinkClick:l,handleMoreVariantClick:i},p))}),o&&v.jsxs(v.Fragment,{children:[v.jsx("span",{onClick:()=>u("left"),className:"cursor-pointer absolute text-2xl left-1 opacity-50 hover:opacity-100 top-1/3 transform -translate-y-1/3",children:v.jsx(Gg,{})}),v.jsx("span",{onClick:()=>u("right"),className:"cursor-pointer absolute text-2xl right-1 opacity-50 hover:opacity-100 top-1/3 transform -translate-y-1/3",children:v.jsx(qg,{})})]})]})},yE=e=>{var o,a;const[t,n]=E.useState(0),r=Array.isArray(e.item.image_url)?e.item.image_url:[e.item.image_url];E.useEffect(()=>{let l;return e.botConfig.flags.carouselInsideCarousel&&r.length>1?l=setInterval(()=>{n(u=>u===r.length-1?0:u+1)},3e3):n(0),()=>{l&&clearInterval(l)}},[r.length,e.botConfig.flags.carouselInsideCarousel]);const i=(l,u,f,p)=>{var c;(c=f.price)!=null&&c.toLowerCase().includes("available")||e.recordLinkClick(l,u,p,{title:f.image_title})},s=e.botConfig.flags.carouselInsideCarousel?r[t]:r[0];return v.jsxs("div",{className:"flex w-[180px] flex-col cursor-pointer min-w-[180px] bg-white rounded-xl overflow-hidden relative shadow-md shadow-gray-400",onClick:l=>e.recordLinkClick(l,e.item.click_url||"","carousel"),children:[v.jsx("span",{className:"text-lg absolute top-2 z-30 right-2 text-blue-500",children:v.jsx(Th,{})}),v.jsxs("div",{className:"relative flex justify-center",children:[v.jsx("img",{src:s,alt:e.item.image_title,className:"h-[180px] border-b-2 text-center relative"}),e.botConfig.flags.carouselInsideCarousel&&r.length>1&&v.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center space-x-1",children:r.map((l,u)=>v.jsx("div",{className:`h-1.5 w-1.5 rounded-full ${u===t?"bg-blue-500":"bg-gray-300"}`},u))}),e.item.add_to_cart&&e.botConfig.flags.addToCart&&v.jsx("button",{onClick:l=>i(l,e.item.add_to_cart||"",e.item,""),className:"bg-white border-2 border-green-600 text-green-600 px-2 font-semibold rounded-lg py-1 absolute right-0 bottom-0",children:e.botConfig.languageTranslations.addButtonOverCarousel})]}),v.jsxs("div",{className:"py-2 px-2 flex-grow",children:[v.jsxs("div",{className:"flex space-x-2 justify-between",children:[e.item.image_title&&v.jsx("h1",{className:"text-[14px] line-clamp-3 underline",children:e.item.image_title}),v.jsx("div",{className:"flex flex-col justify-between items-end",children:e.item&&((o=e.item)==null?void 0:o.price)&&v.jsx("span",{className:"font-bold",children:Zu(e.item.price||"")})})]}),e.item.sub_heading&&v.jsx("p",{className:"text-[12px] line-clamp-1",children:e.item.sub_heading})]}),v.jsx("div",{className:"mt-auto",children:e.item.variants&&((a=e.item.variants)==null?void 0:a.length)>1||e.botConfig.flags.similarProductReplace?v.jsxs("div",{style:{background:e.design.s3Color},className:"flex text-blue-400 items-center text-[14px] justify-center space-x-1 mt-2 w-full border-t-[1px]",onClick:l=>e.handleMoreVariantClick(l,e.item),children:[v.jsx("button",{className:"px-1 rounded-md py-1",children:e.botConfig.flags.similarProductReplace?e.botConfig.languageTranslations.showSimilarProducts:e.botConfig.languageTranslations.showVariantsInCarousel}),v.jsx("span",{className:"text-lg",children:v.jsx(Th,{})})]}):e.item.add_to_cart&&e.botConfig.flags.addToCart?v.jsx("div",{style:{background:e.design.s3Color},className:"flex-end flex text-blue-400 items-center text-[14px] justify-center space-x-1 mt-2 w-full border-t-[1px]",onClick:l=>e.handleMoreVariantClick(l,e.item),children:v.jsxs("button",{onClick:l=>i(l,e.item.add_to_cart||"",e.item,""),className:"px-1 rounded-md py-1 flex space-x-3",children:[v.jsx("span",{children:e.botConfig.languageTranslations.addToCartText}),v.jsx("span",{className:"text-lg",children:v.jsx(Qg,{})})]})}):v.jsx("div",{style:{background:e.design.s3Color},className:"flex-end flex text-blue-400 items-center text-[14px] justify-center space-x-1 mt-2 w-full border-t-[1px]",children:v.jsx("button",{className:"px-1 rounded-md py-1 flex space-x-3"})})})]})},vE=({count:e,activeIndex:t,onDotClick:n})=>v.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:Array.from({length:e}).map((r,i)=>v.jsx("button",{className:`w-2 h-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-400 ${t===i?"bg-blue-500 w-4":"bg-gray-300 hover:bg-gray-400"}`,onClick:()=>n(i),"aria-label":`Go to slide ${i+1}`},i))}),wE=e=>{var s,o,a,l,u;const[t,n]=E.useState(0),r=Array.isArray(e.item.image_url)?e.item.image_url:[e.item.image_url];E.useEffect(()=>{let f;return e.botConfig.flags.carouselInsideCarousel&&r.length>1?f=setInterval(()=>{n(p=>p===r.length-1?0:p+1)},3e3):n(0),()=>{f&&clearInterval(f)}},[r.length,e.botConfig.flags.carouselInsideCarousel]);const i=e.botConfig.flags.carouselInsideCarousel?r[t]:r[0];return v.jsx("div",{className:`flex-none w-[180px] snap-center cursor-pointer rounded-xl shadow-[0_4px_8px_rgba(0,0,0,0.3)] bg-white overflow-hidden transition-all duration-300 hover:shadow-md focus-within:ring-2 focus-within:ring-blue-400 ${e.isActive?"scale-[1.02]":"scale-100"}`,onClick:f=>e.recordLinkClick(f,e.item.click_url||"","carousel"),children:v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-gray-50 border-b-2",children:[e.item&&v.jsx("img",{src:i,alt:e.item.image_title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105"}),e.botConfig.flags.carouselInsideCarousel&&r.length>1&&v.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center space-x-1",children:r.map((f,p)=>v.jsx("div",{className:`h-1.5 w-1.5 rounded-full ${p===t?"bg-blue-500":"bg-gray-300"}`},p))}),e.item.add_to_cart&&v.jsx("button",{onClick:f=>e.recordLinkClick(f,e.item.add_to_cart||"","add_to_cart",{title:e.item.image_title}),className:"absolute bottom-2 right-2 bg-blue-500 hover:bg-blue-600 text-white text-[12px] font-semibold px-3 py-1 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2",children:"ADD"})]}),v.jsxs("div",{className:"p-3",children:[v.jsx("h3",{className:"font-semibold text-[14px] text-gray-900 truncate",children:e.item.image_title}),v.jsxs("div",{className:"mt-2 flex flex-wrap items-baseline gap-1.5",children:[e.item&&((s=e.item)==null?void 0:s.price)&&v.jsx("span",{className:"text-[11px] font-bold",children:Zu(e.item.price||"")}),e.item&&((o=e.item)==null?void 0:o.compare_at_price)&&v.jsx("span",{className:"text-[11px] text-gray-400 line-through",children:Zu((a=e.item)==null?void 0:a.compare_at_price)}),((l=e.item)==null?void 0:l.compare_at_price)&&((u=e.item)==null?void 0:u.price)&&v.jsx("span",{className:"text-[11px] font-semibold text-green-500",children:(()=>{const f=d=>{const y=d.match(/(\d+\.?\d*)/);return y?parseFloat(y[1]):NaN},p=f(e.item.compare_at_price),c=f(e.item.price);if(isNaN(p)||isNaN(c)||p<=0||c>=p)return null;const w=Math.round((p-c)/p*100);return w>0?`${w}% off`:null})()})]})]}),v.jsx("div",{className:"px-3 pb-3",children:v.jsx("button",{onClick:f=>e.handleMoreVariantClick(f,e.item),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 text-[12px] font-medium py-1.5 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-300",children:e.botConfig.flags.similarProductReplace?e.botConfig.languageTranslations.showSimilarProducts:e.botConfig.languageTranslations.showVariantsInCarousel})})]})})},_E=({images:e,botConfig:t,design:n,handleLinkClick:r,handleMoreVariantClick:i})=>{const[s,o]=Dt.useState(0),[a,l]=Dt.useState(!1),u=Dt.useRef(null),f=d=>{if(!u.current)return;const{scrollWidth:y}=u.current,S=y/e.length;u.current.scrollTo({left:d*S,behavior:"smooth"}),o(d)},p=(d,y,S="",m)=>{d.preventDefault(),d.stopPropagation(),r(y,S,m)},c=()=>f(Math.max(0,s-1)),w=()=>f(Math.min(e.length-1,s+1));return v.jsxs("div",{className:"relative w-full",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[v.jsx("div",{ref:u,className:"flex gap-3 overflow-x-auto scrollbar-hide snap-x snap-mandatory scroll-smooth py-4 px-2 mt-2",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map((d,y)=>v.jsx(wE,{item:d,botConfig:t,design:n,isActive:y===s,recordLinkClick:p,handleMoreVariantClick:i},y))}),s>0&&v.jsx("button",{onClick:c,className:"absolute left-2 top-1/3 transform -translate-y-1/3 bg-white bg-opacity-80 backdrop-blur-sm p-1.5 rounded-full shadow-md transition-all duration-300 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Previous item",children:v.jsx(Gg,{size:16,className:"text-gray-800"})}),s<e.length-1&&v.jsx("button",{onClick:w,className:"absolute right-2 top-1/3 transform -translate-y-1/3 bg-white bg-opacity-80 backdrop-blur-sm p-1.5 rounded-full shadow-md transition-all duration-300 hover:bg-opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Next item",children:v.jsx(qg,{size:16,className:"text-gray-800"})}),e.length>1&&v.jsx(vE,{count:e.length,activeIndex:s,onDotClick:f})]})},co=Dt.forwardRef((e,t)=>{const n=Dt.useRef(null),[r,i]=E.useState(!1),[s,o]=E.useState(""),[a,l]=E.useState(!1);E.useEffect(()=>{const h=n.current;h&&i(h.scrollWidth>h.clientWidth)},[]);const u=E.useCallback(h=>{l(!0),o("");let _=0,x;const C=setTimeout(()=>{x=setInterval(()=>{_<=h.length?(o(h.slice(0,_)),_++):(clearInterval(x),l(!1))},10)},40);return()=>{clearTimeout(C),x&&clearInterval(x)}},[]);E.useEffect(()=>{if(e.stream&&e.message.type==="text"&&e.message.text)return u(e.message.text);e.message.type==="text"&&e.message.text&&o(e.message.text)},[e.message.text,e.stream,u]);const{message:f,design:p,sameDirection:c,handleLinkClick:w,botConfig:d}=e,y={backgroundColor:f.position==="left"?p.s3Color:p.primary,borderRadius:f.position==="left"?"0 12px 12px 12px":"12px 0 12px 12px"},S=(h,_,x="",C)=>{h.preventDefault(),h.stopPropagation(),w(_,x,C)},m=(h,_)=>{const x=/(^|[.!?]\s+)([^.!?]+?\?)/g,C=/\*\*(.*?)\*\*/g;try{let k=[],B=0;const A=V=>{try{typeof V=="string"?V.split(C).forEach((me,Q)=>{Q%2===0?k.push(T(me)):k.push(v.jsx("strong",{children:T(me)},`bold-${B}-${Q}`))}):k.push(V)}catch(X){console.error("Error in addProcessedText:",X),k.push(V)}};return h.replace(x,(V,X,me,Q)=>{try{Q>B&&A(h.slice(B,Q+X.length)),_!=="right"?k.push(v.jsx("strong",{children:T(me)},Q)):A(me),B=Q+V.length}catch(ue){console.error("Error in questionSentenceRegex replacement:",ue),Q>B&&k.push(h.slice(B,Q+V.length)),B=Q+V.length}return V}),B<h.length&&A(h.slice(B)),k.length>0?k:[h]}catch(k){return console.error("Error in renderTextWithLinks:",k),[h]}function T(k){try{let B=function(Q){const ue=/\[\[(.*?)\]\]/g,Z=[...Q.matchAll(ue)];if(Z.length===0)return[Q];const Ce=[];let I=0;for(const P of Z){const W=P.index,ee=W+P[0].length;W>I&&Ce.push(Q.slice(I,W));const fe=P[1].replace(/\s+/g,"");Ce.push(v.jsx("a",{href:`tel:${fe}`,style:{color:"blue",fontWeight:"bold"},children:P[1]},`phone-${W}`)),I=ee}return I<Q.length&&Ce.push(Q.slice(I)),Ce};const A=[];let V=0;const X=/((?:https?:\/\/|www\.)[^\s$.?#].[^\s]*?)(?=[)\]]|\s|$)/g,me=[...k.matchAll(X)];for(const Q of me){const ue=Q.index,Z=ue+Q[0].length;if(ue>V){const P=k.slice(V,ue);A.push(...B(P))}const Ce=Q[0].endsWith(".")?Q[0].slice(0,-1):Q[0],I=Ce.startsWith("www.")?`https://${Ce}`:Ce;Ce.includes("/cart/")?A.push(v.jsx("button",{onClick:P=>S(P,I),style:{backgroundColor:"blue",color:"white",border:"none",padding:"5px 10px",borderRadius:"5px",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"5px",margin:"0px 5px"},children:v.jsx(Qg,{})},`cart-${ue}`)):A.push(v.jsx("a",{href:I,onClick:P=>S(P,I),style:{color:"blue",fontWeight:`${re==="typsy-beauty.myshopify.com"?"bold":"normal"}`},children:"Click Here"},`link-${ue}`)),V=Z}if(V<k.length){const Q=k.slice(V);A.push(...B(Q))}return A.length>0?A:[k]}catch(B){return console.error("Error in processTextPart:",B),[k]}}},g=()=>{var _;return(((_=e.botConfig)==null?void 0:_.carouselType)||"default")==="old"?v.jsx(gE,{images:f.images||[],botConfig:d,design:p,handleLinkClick:w,handleMoreVariantClick:e.handleMoreVariantClick}):v.jsx(_E,{images:f.images||[],botConfig:d,design:p,handleLinkClick:w,handleMoreVariantClick:e.handleMoreVariantClick})};return v.jsx("div",{ref:t,className:`w-full relative select-none flex flex-col ${c?"mt-1":"mt-[12px]"} ${f.position==="left"?"text-black":"items-end text-white"}`,children:f.type==="text"?v.jsx("div",{style:y,className:"max-w-[90%] w-fit p-2 ",children:v.jsx("span",{className:"text-[14px] break-words overflow-wrap",children:m(a?s:f.text||"",e.message.position)})}):f.type==="images"&&g()})}),SE=({design:e})=>v.jsx("div",{className:" flex flex-col w-max my-[12px]",children:v.jsxs("div",{style:{backgroundColor:e.s3Color,borderRadius:"0 12px 12px 12px"},className:" px-4 py-2 ",children:[v.jsx("div",{style:{backgroundColor:e.s1Color},className:"dot"}),v.jsx("div",{style:{backgroundColor:e.s1Color},className:"dot"}),v.jsx("div",{style:{backgroundColor:e.s1Color},className:"dot"})]})}),EE=e=>{const[t,n]=E.useState(),[r,i]=E.useState(!1);return v.jsx("div",{className:"flex justify-end w-full py-[6px]",children:v.jsx("div",{style:{backgroundColor:`${r?e.design.s3Color:"#ffffff"}`,color:"#000000",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.25)"},className:`
          rounded-md
          px-3 py-[6px]
          w-max
          cursor-pointer
          transition-shadow duration-150 ease-in-out
          select-none
          box-border
        `,onClick:()=>{e.clickHandler(),n("animate-pulse")},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:v.jsx("p",{className:"text-[14px] whitespace-nowrap",children:e.suggestion.label})})})};function bE(e){return Wn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7L86.6 329.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128z"}}]})(e)}const xE=e=>{const t=n=>{e.onLinkClick&&e.onLinkClick()};return v.jsx("div",{className:"w-full text-center mt-[2px]",children:e.provider==="verifast"?v.jsxs("a",{href:"https://verifast.ai",target:"_blank",style:{color:e.primaryColor},className:"text-[8px]",onClick:t,children:["Powered by",v.jsx("span",{style:{color:e.primaryColor},className:"font-bold ml-1",children:"Verifast"})]}):e.provider==="aiconvo"?v.jsxs("a",{href:"https://aiconvo.sg",target:"_blank",style:{color:e.primaryColor},className:"text-[8px]",onClick:t,children:["Powered by",v.jsx("span",{style:{color:e.primaryColor},className:"font-bold ml-1",children:"Ai Convo"})]}):""})},ni=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),TE=e=>e===ni;var Sa=()=>/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"");const CE=(e,t,n)=>{let r;return function(){const i=this,s=arguments,o=function(){r=null},a=!r;clearTimeout(r),r=setTimeout(o,t),a&&e.apply(i,s)}},Ea=(...e)=>e.map(t=>t.trim()).join(" ").trim(),kE=/\s*\((.*?)\)\s*/g,OE=/(\(\?:[^)]+\))\?/g,NE=/(\(\?)?:\w+/g,AE=/\*/g,IE=/[-{}[\]+?.,\\^$|#]/g,RE=e=>e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace(IE,"\\$&").replace(kE,"(?:$1)?").replace(NE,(t,n)=>n?t:"([^\\s]+)").replace(AE,"(.*?)").replace(OE,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i")),DE=(e,t)=>{if(e=e.replace(/\s+/g,"").toLowerCase(),t=t.replace(/\s+/g,"").toLowerCase(),!e.length&&!t.length)return 1;if(!e.length||!t.length)return 0;if(e===t)return 1;if(e.length===1&&t.length===1||e.length<2||t.length<2)return 0;const n=new Map;for(let i=0;i<e.length-1;i++){const s=e.substring(i,i+2),o=n.has(s)?n.get(s)+1:1;n.set(s,o)}let r=0;for(let i=0;i<t.length-1;i++){const s=t.substring(i,i+2),o=n.has(s)?n.get(s):0;o>0&&(n.set(s,o-1),r++)}return 2*r/(e.length+t.length-2)},Jg=()=>typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0);function Ch(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){n(u);return}a.done?t(l):Promise.resolve(l).then(r,i)}function fo(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){Ch(s,r,i,o,a,"next",l)}function a(l){Ch(s,r,i,o,a,"throw",l)}o(void 0)})}}class Ml{setSpeechRecognition(t){const n=!!t&&(TE(t)||Jg());n&&(this.disableRecognition(),this.recognition=new t,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(n)}subscribe(t,n){this.subscribers[t]=n}unsubscribe(t){delete this.subscribers[t]}emitListeningChange(t){this.listening=t,Object.keys(this.subscribers).forEach(n=>{const{onListeningChange:r}=this.subscribers[n];r(t)})}emitMicrophoneAvailabilityChange(t){this.isMicrophoneAvailable=t,Object.keys(this.subscribers).forEach(n=>{const{onMicrophoneAvailabilityChange:r}=this.subscribers[n];r(t)})}emitTranscriptChange(t,n){Object.keys(this.subscribers).forEach(r=>{const{onTranscriptChange:i}=this.subscribers[r];i(t,n)})}emitClearTranscript(){Object.keys(this.subscribers).forEach(t=>{const{onClearTranscript:n}=this.subscribers[t];n()})}emitBrowserSupportsSpeechRecognitionChange(t){Object.keys(this.subscribers).forEach(n=>{const{onBrowserSupportsSpeechRecognitionChange:r,onBrowserSupportsContinuousListeningChange:i}=this.subscribers[n];r(t),i(t)})}disconnect(t){if(this.recognition&&this.listening)switch(t){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}disableRecognition(){this.recognition&&(this.recognition.onresult=()=>{},this.recognition.onend=()=>{},this.recognition.onerror=()=>{},this.listening&&this.stopListening())}onError(t){t&&t.error&&t.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}onRecognitionDisconnect(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}updateTranscript({results:t,resultIndex:n}){const r=n===void 0?t.length-1:n;this.interimTranscript="",this.finalTranscript="";for(let s=r;s<t.length;++s)t[s].isFinal&&(!Sa()||t[s][0].confidence>0)?this.updateFinalTranscript(t[s][0].transcript):this.interimTranscript=Ea(this.interimTranscript,t[s][0].transcript);let i=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(i=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,i||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}updateFinalTranscript(t){this.finalTranscript=Ea(this.finalTranscript,t)}resetTranscript(){this.disconnect("RESET")}startListening({continuous:t=!1,language:n}={}){var r=this;return fo(function*(){if(!r.recognition)return;const i=t!==r.recognition.continuous,s=n&&n!==r.recognition.lang;if((i||s)&&(r.listening&&(yield r.stopListening()),r.recognition.continuous=i?t:r.recognition.continuous,r.recognition.lang=s?n:r.recognition.lang),!r.listening){r.recognition.continuous||(r.resetTranscript(),r.emitClearTranscript());try{yield r.start(),r.emitListeningChange(!0)}catch(o){o instanceof DOMException||r.emitMicrophoneAvailabilityChange(!1)}}})()}abortListening(){var t=this;return fo(function*(){t.disconnect("ABORT"),t.emitListeningChange(!1),yield new Promise(n=>{t.onStopListening=n})})()}stopListening(){var t=this;return fo(function*(){t.disconnect("STOP"),t.emitListeningChange(!1),yield new Promise(n=>{t.onStopListening=n})})()}getRecognition(){return this.recognition}start(){var t=this;return fo(function*(){t.recognition&&!t.listening&&(yield t.recognition.start(),t.listening=!0)})()}stop(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}abort(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}constructor(t){this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=()=>{},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(t),Sa()&&(this.updateFinalTranscript=CE(this.updateFinalTranscript,250))}}const Yg="CLEAR_TRANSCRIPT",Xg="APPEND_TRANSCRIPT",PE=()=>({type:Yg}),BE=(e,t)=>({type:Xg,payload:{interimTranscript:e,finalTranscript:t}}),LE=(e,t)=>{switch(t.type){case Yg:return{interimTranscript:"",finalTranscript:""};case Xg:return{interimTranscript:t.payload.interimTranscript,finalTranscript:Ea(e.finalTranscript,t.payload.finalTranscript)};default:throw new Error}};function kh(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){n(u);return}a.done?t(l):Promise.resolve(l).then(r,i)}function Ul(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){kh(s,r,i,o,a,"next",l)}function a(l){kh(s,r,i,o,a,"throw",l)}o(void 0)})}}let ri=!!ni,jo=ri&&!Sa(),On;const ME=({transcribing:e=!0,clearTranscriptOnListen:t=!0,commands:n=[]}={})=>{const[r]=E.useState(Ln.getRecognitionManager()),[i,s]=E.useState(ri),[o,a]=E.useState(jo),[{interimTranscript:l,finalTranscript:u},f]=E.useReducer(LE,{interimTranscript:r.interimTranscript,finalTranscript:""}),[p,c]=E.useState(r.listening),[w,d]=E.useState(r.isMicrophoneAvailable),y=E.useRef(n);y.current=n;const S=()=>{f(PE())},m=E.useCallback(()=>{r.resetTranscript(),S()},[r]),g=(k,B,A)=>{const X=(typeof k=="object"?k.toString():k).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),me=DE(X,B);return me>=A?{command:k,commandWithoutSpecials:X,howSimilar:me,isFuzzyMatch:!0}:null},h=(k,B)=>{const V=RE(k).exec(B);return V?{command:k,parameters:V.slice(1)}:null},_=E.useCallback((k,B)=>{y.current.forEach(({command:A,callback:V,matchInterim:X=!1,isFuzzyMatch:me=!1,fuzzyMatchingThreshold:Q=.8,bestMatchOnly:ue=!1})=>{const Z=!B&&X?k.trim():B.trim(),I=(Array.isArray(A)?A:[A]).map(P=>me?g(P,Z,Q):h(P,Z)).filter(P=>P);if(me&&ue&&I.length>=2){I.sort((fe,Ne)=>Ne.howSimilar-fe.howSimilar);const{command:P,commandWithoutSpecials:W,howSimilar:ee}=I[0];V(W,Z,ee,{command:P,resetTranscript:m})}else I.forEach(P=>{if(P.isFuzzyMatch){const{command:W,commandWithoutSpecials:ee,howSimilar:fe}=P;V(ee,Z,fe,{command:W,resetTranscript:m})}else{const{command:W,parameters:ee}=P;V(...ee,{command:W,resetTranscript:m})}})})},[m]),x=E.useCallback((k,B)=>{e&&f(BE(k,B)),_(k,B)},[_,e]),C=E.useCallback(()=>{t&&S()},[t]);return E.useEffect(()=>{const k=Ln.counter;Ln.counter+=1;const B={onListeningChange:c,onMicrophoneAvailabilityChange:d,onTranscriptChange:x,onClearTranscript:C,onBrowserSupportsSpeechRecognitionChange:s,onBrowserSupportsContinuousListeningChange:a};return r.subscribe(k,B),()=>{r.unsubscribe(k)}},[e,t,r,x,C]),{transcript:Ea(u,l),interimTranscript:l,finalTranscript:u,listening:p,isMicrophoneAvailable:w,resetTranscript:m,browserSupportsSpeechRecognition:i,browserSupportsContinuousListening:o}},Ln={counter:0,applyPolyfill:e=>{On?On.setSpeechRecognition(e):On=new Ml(e);const t=!!e&&Jg();ri=t,jo=t},removePolyfill:()=>{On?On.setSpeechRecognition(ni):On=new Ml(ni),ri=!!ni,jo=ri&&!Sa()},getRecognitionManager:()=>(On||(On=new Ml(ni)),On),getRecognition:()=>Ln.getRecognitionManager().getRecognition(),startListening:Ul(function*({continuous:e,language:t}={}){yield Ln.getRecognitionManager().startListening({continuous:e,language:t})}),stopListening:Ul(function*(){yield Ln.getRecognitionManager().stopListening()}),abortListening:Ul(function*(){yield Ln.getRecognitionManager().abortListening()}),browserSupportsSpeechRecognition:()=>ri,browserSupportsContinuousListening:()=>jo},UE=e=>{const t=e.messeges,n=e.helperMessages,[r,i]=E.useState(""),[s,o]=E.useState(),a=E.useRef(null),l=E.useRef(null),[u,f]=E.useState(!0),[p,c]=E.useState(!1),[w,d]=E.useState(!1),[y,S]=E.useState(!1),[m,g]=E.useState(!1),[h,_]=E.useState(null),[x,C]=E.useState(0),T=E.useRef(null),[k,B]=E.useState(1),[A,V]=E.useState(!1),X=e.botConfig.colorScheme.primaryColor,me=Tt(X,.3),Q=Tt(X,.85),ue=Tt(X,.95),Z=`rgb(${X[0]}, ${X[1]}, ${X[2]})`,Ce={type:"text",position:"left",text:e.botConfig.botIntro},I={type:"text",position:"left",text:e.botConfig.secondIntroMessage},{transcript:P,listening:W,resetTranscript:ee,browserSupportsSpeechRecognition:fe,isMicrophoneAvailable:Ne}=ME();E.useEffect(()=>{P&&!m&&(i(P.trim()),ee())},[P,m,ee]),E.useEffect(()=>(g(W),W?(C(0),T.current=setInterval(()=>{C(F=>F+1)},1e3)):T.current&&(clearInterval(T.current),T.current=null),()=>{T.current&&clearInterval(T.current)}),[W]);const Xe=(F,J)=>{e.processQuery(F,J)},je=F=>()=>{e.sendMetrics("bubble_click",{bubble_content:F.value,bubble_label:F.label,verifast_index:re,verifast_uid:Te,current_time:be()}),z(F)};E.useEffect(()=>{e.chatHistoryLoaded.current&&!y&&a.current&&(a.current.scrollIntoView({behavior:"smooth"}),S(!0))},[e.messeges,e.chatHistoryLoaded]);const Ze=F=>{const J=l.current;if(!J)return;const Ae=F.target.value.trimStart();i(Ae);let Ut=window.getComputedStyle(J).lineHeight,jt=20;Ut!=="normal"&&(jt=parseFloat(Ut));let Nt;Ae===""?Nt=1:Nt=Math.ceil(J.scrollHeight/jt);const q=Math.min(Math.max(1,Nt),3);q!==k&&(J.rows=q,B(q))},R=F=>{F.key==="Enter"&&z()},Ot={primary:Z,s1Color:me,s2Color:Q,s3Color:ue};function ot(F,J){return F>0&&F<t.length&&t[F-1].position===J.position}const z=F=>{if(!F&&r.trim()==="")return;e.sendMetrics("time_query_enter_queue_send",{inputValue:F?F.value:r,verifast_index:re,verifast_uid:Te,current_time:be()});const J=In();F?(Xe(F.value,J),e.addUserMessageToChat(F.label,J)):(Xe(r,J),e.addUserMessageToChat(r,J),i("")),o(void 0),d(!0)},j=async()=>{if(!fe){_("Your browser doesn't support speech recognition"),e.sendMetrics("recording_error",{error_type:"browser_not_supported",verifast_index:re,verifast_uid:Te,current_time:be()});return}if(!Ne){_("Microphone access is required for speech recognition"),e.sendMetrics("recording_error",{error_type:"microphone_not_available",verifast_index:re,verifast_uid:Te,current_time:be()});return}if(m)Ln.stopListening(),P&&e.sendMetrics("recording_completed",{transcript_length:P.length,transcript:P,recording_duration:x,verifast_index:re,verifast_uid:Te,current_time:be()});else try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(J=>J.stop()),_(null),Ln.startListening({continuous:!0,language:"en-US"}),e.sendMetrics("recording_started",{verifast_index:re,verifast_uid:Te,current_time:be()}),e.notifyUFAttributes(re,e.queryData.customerId,"voice_note","True")}catch(F){console.error("Error accessing microphone:",F),_("Failed to access microphone. Please check your permissions."),e.sendMetrics("recording_error",{error_type:"microphone_access_failed",error_message:(F==null?void 0:F.message)||"Unknown error",verifast_index:re,verifast_uid:Te,current_time:be()})}};E.useEffect(()=>{if(h){const F=setTimeout(()=>{_(null)},5e3);return()=>clearTimeout(F)}},[h]),E.useEffect(()=>{const F=e.botConfig.placeholderText;let J=0;const Ae=setInterval(()=>{J=(J+1)%F.length,l.current&&(l.current.placeholder=F[J])},5e3);return()=>clearInterval(Ae)},[e.botConfig.placeholderText]);function Re(){}function se(F){{F.stopPropagation(),window.parent.postMessage("verifast-close-bot","*"),e.sendMetrics("close_button",{verifast_index:re,verifast_uid:Te,current_time:be()});const J=JSON.stringify({value:"bot_close_clicked"});e.notifyUFAttributes(re,e.queryData.customerId,"chatbot_interaction",J),e.onCloseButtonClick?e.onCloseButtonClick():e.handleBotTriggers&&e.handleBotTriggers(M.CLOSE_BOT,{source:ce.DIALOG_CLOSE_BUTTON})}}E.useEffect(()=>{if(a.current&&e.messeges.length>0){const F=a.current,J=new IntersectionObserver(([Ae])=>{f(Ae.isIntersecting),Ae.isIntersecting&&c(!1)},{root:null,threshold:.6});return J.observe(F),(w||t[t.length-1].position==="right")&&(F.scrollIntoView({behavior:"smooth"}),d(!1)),c(!0),()=>{J.unobserve(F)}}},[e.messeges]);const ge=()=>{a.current&&(a.current.scrollIntoView({behavior:"smooth"}),c(!1))},Be=F=>{const J=Math.floor(F/60),Ae=F%60;return`${J}:${Ae.toString().padStart(2,"0")}`};return v.jsxs("div",{style:{backgroundColor:e.botConfig.colorScheme.completeBG},className:"w-full h-full",children:[v.jsxs("div",{className:"w-full h-full flex flex-col",children:[v.jsxs("div",{style:{backgroundColor:e.botConfig.chatbotUIDesign===wi.TRANSPARENT?"rgb(0,0,0,0.2)":Z,borderBottom:e.botConfig.chatbotUIDesign===wi.TRANSPARENT?"2px solid white":""},className:"sticky top-0 w-full flex justify-between items-center py-3 px-5 border-b-2 border-white bg-black bg-opacity-20",onClick:Re,children:[v.jsx("div",{className:"w-14 h-14",children:v.jsx("img",{className:"rounded-full w-14 h-14",src:e.botConfig.botHeaderConfig.imageUrl,alt:"brand logo"})}),v.jsxs("div",{className:"flex-1 pl-4 text-black",children:[v.jsx("h2",{className:"font-bold text-base text-white",children:e.botConfig.botName}),v.jsx("p",{className:"text-xs",children:e.botConfig.botSubtitle})]}),v.jsx("div",{className:"text-white text-3xl w-max cursor-pointer",id:"cross-button",onClick:se,children:v.jsx(Kg,{})})]}),v.jsxs("div",{style:{...e.botConfig.bgImage},className:"flex-grow px-5 py-5 overflow-y-auto overflow-x-hidden",children:[!e.isMsgHistory&&v.jsx(co,{botConfig:e.botConfig,queryData:e.queryData,message:Ce,design:Ot,sameDirection:!1,handleLinkClick:e.handleLinkClick},"intro"),!e.isMsgHistory&&e.botConfig.secondIntroMessage&&e.currentBotState.isOpen&&v.jsx(co,{botConfig:e.botConfig,stream:!0,queryData:e.queryData,message:I,design:Ot,sameDirection:!1,handleLinkClick:e.handleLinkClick},"second-intro"),t.map((F,J)=>F.type==="text"&&F.text&&F.text.includes("||")?F.text.split("||").map((at,Ut)=>v.jsx(co,{ref:e.messeges.length-1===J?a:null,botConfig:e.botConfig,queryData:e.queryData,message:{...F,text:at},design:Ot,sameDirection:J>0,handleLinkClick:e.handleLinkClick},`${J}-${Ut}`)):F.type==="text"||F.type==="images"?v.jsx(co,{ref:e.messeges.length-1===J?a:null,message:F,design:Ot,botConfig:e.botConfig,queryData:e.queryData,sameDirection:ot(J,F),handleLinkClick:e.handleLinkClick,handleMoreVariantClick:e.handleMoreVariantClick},J):F.type==="notification"?v.jsx(jE,{color:ue,text:F.text||""},J):null),e.queryInProgress&&v.jsx(SE,{design:{primary:Z,s1Color:me,s2Color:Q,s3Color:ue}})]}),p&&!u&&v.jsx("div",{className:"w-full flex justify-center relative",children:v.jsx(FE,{onClick:ge})}),!e.isMsgHistory&&v.jsx("div",{className:"w-full px-5 my-3 flex flex-col ",children:n.map((F,J)=>v.jsx(EE,{suggestion:F,clickHandler:F.onClick??je(F),design:Ot},J))}),v.jsxs("div",{className:"w-full",children:[v.jsx("div",{style:{border:`2px solid ${Z}`,backgroundColor:ue},className:"mx-5 p-2 rounded-xl",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("textarea",{className:"w-full focus:outline-none focus:border-none bg-transparent resize-none overflow-y-auto max-h-[150px]",rows:k,value:r,onChange:Ze,onKeyDown:R,ref:l}),e.botConfig.flags.speechRecognition&&v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"cursor-pointer mx-2",onClick:j,title:m?"Click to stop recording":"Click to start recording",children:v.jsxs("div",{className:"relative",children:[v.jsx(hE,{size:24,color:m?"red":Z,className:m?"animate-pulse":""}),m&&v.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"})]})}),h&&v.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-red-500 text-white text-xs rounded-lg whitespace-nowrap",children:h}),m&&v.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-gray-800 text-white text-xs rounded-lg whitespace-nowrap",children:["Recording ",Be(x)]})]}),v.jsx("p",{className:`p-3 rounded-full transition-shadow duration-200 ease-in-out${r!==""?"cursor-pointer shadow-md":"opacity-50 cursor-not-allowed"}`,style:{backgroundColor:r!==""&&A?me:Q},onMouseEnter:()=>r!==""&&V(!0),onMouseLeave:()=>r!==""&&V(!1),onClick:()=>z(),children:v.jsx("span",{className:"",style:{color:r!==""?Z:ue},children:v.jsx(pE,{})})})]})}),v.jsx(xE,{botConfig:ve,primaryColor:Z,provider:ve.provider,onLinkClick:()=>{e.sendMetrics(`label_click:${o1(re)}`,{verifast_index:re,verifast_uid:Te,current_time:be()})}})]})]}),e.overlay&&v.jsx("div",{className:"absolute inset-0 z-50",children:e.overlay})]})},jE=e=>v.jsx("div",{className:"text-center text-gray-600 text-xs my-2 flex justify-center",children:v.jsx("span",{style:{backgroundColor:e.color},className:"px-3 py-1 rounded-sm ",children:e.text})}),FE=e=>v.jsxs("div",{className:`w-max text-md shadow-md shadow-gray-400 cursor-pointer animate-bounce hover:animate-none flex space-x-2 items-center px-2 py-1 rounded-xl
                        absolute bottom-0 z-30 bg-white select-none`,onClick:t=>e.onClick(t),children:[v.jsx(bE,{}),v.jsx("span",{children:"New messages"})]}),VE=e=>{const{useCases:t,use_case_conditions:n,conversation_count_condition:r,add_to_cart_condition:i,userMessageCount:s,hasPlacedAnOrder:o,hasGivenFeedback:a,messages:l}=e;let u=!1;n&&(u=t.some(d=>n.includes(d)));let f=!1;r&&(f=s>r);let p=!0;i||(p=!o);const c=!a,w=l.length>0;return u&&w&&p&&f&&c},Cn=Object.create(null);Cn.open="0";Cn.close="1";Cn.ping="2";Cn.pong="3";Cn.message="4";Cn.upgrade="5";Cn.noop="6";const Fo=Object.create(null);Object.keys(Cn).forEach(e=>{Fo[Cn[e]]=e});const ic={type:"error",data:"parser error"},Zg=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ey=typeof ArrayBuffer=="function",ty=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Cd=({type:e,data:t},n,r)=>Zg&&t instanceof Blob?n?r(t):Oh(t,r):ey&&(t instanceof ArrayBuffer||ty(t))?n?r(t):Oh(new Blob([t]),r):r(Cn[e]+(t||"")),Oh=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Nh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let jl;function zE(e,t){if(Zg&&e.data instanceof Blob)return e.data.arrayBuffer().then(Nh).then(t);if(ey&&(e.data instanceof ArrayBuffer||ty(e.data)))return t(Nh(e.data));Cd(e,!1,n=>{jl||(jl=new TextEncoder),t(jl.encode(n))})}const Ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ts=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ah.length;e++)ts[Ah.charCodeAt(e)]=e;const HE=e=>{let t=e.length*.75,n=e.length,r,i=0,s,o,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(r=0;r<n;r+=4)s=ts[e.charCodeAt(r)],o=ts[e.charCodeAt(r+1)],a=ts[e.charCodeAt(r+2)],l=ts[e.charCodeAt(r+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|a>>2,f[i++]=(a&3)<<6|l&63;return u},$E=typeof ArrayBuffer=="function",kd=(e,t)=>{if(typeof e!="string")return{type:"message",data:ny(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:WE(e.substring(1),t)}:Fo[n]?e.length>1?{type:Fo[n],data:e.substring(1)}:{type:Fo[n]}:ic},WE=(e,t)=>{if($E){const n=HE(e);return ny(n,t)}else return{base64:!0,data:e}},ny=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},ry="",KE=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((s,o)=>{Cd(s,!1,a=>{r[o]=a,++i===n&&t(r.join(ry))})})},GE=(e,t)=>{const n=e.split(ry),r=[];for(let i=0;i<n.length;i++){const s=kd(n[i],t);if(r.push(s),s.type==="error")break}return r};function qE(){return new TransformStream({transform(e,t){zE(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Fl;function ho(e){return e.reduce((t,n)=>t+n.length,0)}function po(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function QE(e,t){Fl||(Fl=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(ho(n)<1)break;const l=po(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(ho(n)<2)break;const l=po(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(ho(n)<8)break;const l=po(n,8),u=new DataView(l.buffer,l.byteOffset,l.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(ic);break}i=f*Math.pow(2,32)+u.getUint32(4),r=3}else{if(ho(n)<i)break;const l=po(n,i);a.enqueue(kd(s?l:Fl.decode(l),t)),r=0}if(i===0||i>e){a.enqueue(ic);break}}}})}const iy=4;function Je(e){if(e)return JE(e)}function JE(e){for(var t in Je.prototype)e[t]=Je.prototype[t];return e}Je.prototype.on=Je.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Je.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Je.prototype.off=Je.prototype.removeListener=Je.prototype.removeAllListeners=Je.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Je.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};Je.prototype.emitReserved=Je.prototype.emit;Je.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Je.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function sy(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const YE=Xt.setTimeout,XE=Xt.clearTimeout;function Ya(e,t){t.useNativeTimers?(e.setTimeoutFn=YE.bind(Xt),e.clearTimeoutFn=XE.bind(Xt)):(e.setTimeoutFn=Xt.setTimeout.bind(Xt),e.clearTimeoutFn=Xt.clearTimeout.bind(Xt))}const ZE=1.33;function eb(e){return typeof e=="string"?tb(e):Math.ceil((e.byteLength||e.size)*ZE)}function tb(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function nb(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function rb(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class ib extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Od extends Je{constructor(t){super(),this.writable=!1,Ya(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new ib(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=kd(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=nb(t);return n.length?"?"+n:""}}const oy="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),sc=64,sb={};let Ih=0,mo=0,Rh;function Dh(e){let t="";do t=oy[e%sc]+t,e=Math.floor(e/sc);while(e>0);return t}function ay(){const e=Dh(+new Date);return e!==Rh?(Ih=0,Rh=e):e+"."+Dh(Ih++)}for(;mo<sc;mo++)sb[oy[mo]]=mo;let ly=!1;try{ly=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ob=ly;function uy(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ob))return new XMLHttpRequest}catch{}if(!t)try{return new Xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ab(){}const lb=function(){return new uy({xdomain:!1}).responseType!=null}();class ub extends Od{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const n=t&&t.forceBase64;this.supportsBinary=lb&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};GE(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,KE(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=ay()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ci(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let ci=class Vo extends Je{constructor(t,n){super(),Ya(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=sy(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new uy(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Vo.requestsCount++,Vo.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ab,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Vo.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};ci.requestsCount=0;ci.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ph);else if(typeof addEventListener=="function"){const e="onpagehide"in Xt?"pagehide":"unload";addEventListener(e,Ph,!1)}}function Ph(){for(let e in ci.requests)ci.requests.hasOwnProperty(e)&&ci.requests[e].abort()}const Nd=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),go=Xt.WebSocket||Xt.MozWebSocket,Bh=!0,cb="arraybuffer",Lh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class db extends Od{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=Lh?{}:sy(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Bh&&!Lh?n?new go(t,n):new go(t):new go(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Cd(r,this.supportsBinary,s=>{const o={};try{Bh&&this.ws.send(s)}catch{}i&&Nd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=ay()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!go}}class fb extends Od{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=QE(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=qE();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this.writer.write(r).then(()=>{i&&Nd(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const hb={websocket:db,webtransport:fb,polling:ub},pb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function oc(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=pb.exec(e||""),s={},o=14;for(;o--;)s[mb[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=gb(s,s.path),s.queryKey=yb(s,s.query),s}function gb(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function yb(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}let cy=class Hr extends Je{constructor(t,n={}){super(),this.binaryType=cb,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=oc(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=oc(n.host).host),Ya(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=rb(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=iy,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new hb[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Hr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Hr.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Hr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const c=new Error("probe error");c.transport=n.name,this.emitReserved("upgradeError",c)}}))};function s(){r||(r=!0,f(),n.close(),n=null)}const o=p=>{const c=new Error("probe error: "+p);c.transport=n.name,s(),this.emitReserved("upgradeError",c)};function a(){o("transport closed")}function l(){o("socket closed")}function u(p){n&&p.name!==n.name&&s()}const f=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",u)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Hr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=eb(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:t,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Hr.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};cy.protocol=iy;function vb(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=oc(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const wb=typeof ArrayBuffer=="function",_b=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,dy=Object.prototype.toString,Sb=typeof Blob=="function"||typeof Blob<"u"&&dy.call(Blob)==="[object BlobConstructor]",Eb=typeof File=="function"||typeof File<"u"&&dy.call(File)==="[object FileConstructor]";function Ad(e){return wb&&(e instanceof ArrayBuffer||_b(e))||Sb&&e instanceof Blob||Eb&&e instanceof File}function zo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(zo(e[n]))return!0;return!1}if(Ad(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return zo(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&zo(e[n]))return!0;return!1}function bb(e){const t=[],n=e.data,r=e;return r.data=ac(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ac(e,t){if(!e)return e;if(Ad(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ac(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ac(e[r],t));return n}return e}function xb(e,t){return e.data=lc(e.data,t),delete e.attachments,e}function lc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=lc(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=lc(e[n],t));return e}const Tb=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Cb=5;var Se;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Se||(Se={}));class kb{constructor(t){this.replacer=t}encode(t){return(t.type===Se.EVENT||t.type===Se.ACK)&&zo(t)?this.encodeAsBinary({type:t.type===Se.EVENT?Se.BINARY_EVENT:Se.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Se.BINARY_EVENT||t.type===Se.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=bb(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Mh(e){return Object.prototype.toString.call(e)==="[object Object]"}class Id extends Je{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Se.BINARY_EVENT;r||n.type===Se.BINARY_ACK?(n.type=r?Se.EVENT:Se.ACK,this.reconstructor=new Ob(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ad(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Se[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Se.BINARY_EVENT||r.type===Se.BINARY_ACK){const s=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(s,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(s,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(s,n+1))}if(t.charAt(++n)){const s=this.tryParse(t.substr(n));if(Id.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Se.CONNECT:return Mh(n);case Se.DISCONNECT:return n===void 0;case Se.CONNECT_ERROR:return typeof n=="string"||Mh(n);case Se.EVENT:case Se.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Tb.indexOf(n[0])===-1);case Se.ACK:case Se.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ob{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=xb(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Nb=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Id,Encoder:kb,get PacketType(){return Se},protocol:Cb},Symbol.toStringTag,{value:"Module"}));function cn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Ab=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fy extends Je{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[cn(t,"open",this.onopen.bind(this)),cn(t,"packet",this.onpacket.bind(this)),cn(t,"error",this.onerror.bind(this)),cn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Ab.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:Se.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===t&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...o)=>{this.io.clearTimeoutFn(s),n.apply(this,[null,...o])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,s)=>{n.push((o,a)=>r?o?s(o):i(a):i(o)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Se.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Se.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Se.EVENT:case Se.BINARY_EVENT:this.onevent(t);break;case Se.ACK:case Se.BINARY_ACK:this.onack(t);break;case Se.DISCONNECT:this.ondisconnect();break;case Se.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Se.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Ai(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ai.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ai.prototype.reset=function(){this.attempts=0};Ai.prototype.setMin=function(e){this.ms=e};Ai.prototype.setMax=function(e){this.max=e};Ai.prototype.setJitter=function(e){this.jitter=e};class uc extends Je{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ya(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Ai({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||Nb;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new cy(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=cn(n,"open",function(){r.onopen(),t&&t()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=cn(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(cn(t,"ping",this.onping.bind(this)),cn(t,"data",this.ondata.bind(this)),cn(t,"error",this.onerror.bind(this)),cn(t,"close",this.onclose.bind(this)),cn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Nd(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new fy(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ki={};function Ho(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=vb(e,t.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Ki[i]&&s in Ki[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let l;return a?l=new uc(r,t):(Ki[i]||(Ki[i]=new uc(r,t)),l=Ki[i]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(Ho,{Manager:uc,Socket:fy,io:Ho,connect:Ho});const Ib=()=>{const e=E.useRef(null),t=E.useRef(null),n=E.useRef(!1),r=E.useRef(!1),i=E.useRef([]),s=E.useCallback((p,c,w=!1)=>{const d=()=>w?r.current:!0,y=S=>m=>{if(d()){S(m);try{if(S===c.onQueryResponse){const g=m.messageId??"messageid_not_present",h=m.referenceId??"referenceid_not_present",_=m.backendResponseTime??0,x=Date.now(),C={messageId:g,referenceId:h,backendToFrontendLatency:x-_};u("query_response_ack",C)}}catch{Ie("failed_query_response_ack",{verifast_index:"not_present",verifast_uid:"not_present",response_data:m,current_time:be()})}}};p.on("bot_config",y(c.onBotConfig||(()=>{}))),p.on("session_state",y(c.onSessionState||(()=>{}))),p.on("query_response",y(c.onQueryResponse||(()=>{}))),p.on("user_message_broadcast",y(c.onUserMessageBroadcast||(()=>{}))),p.on("chat_history",y(c.onChatHistory||(()=>{}))),p.on("room_notification_broadcast",y(c.onRoomNotification||(()=>{}))),p.on("proactive_nudge",y(c.onProactiveNudge||(()=>{}))),p.on("nudge_proactive_v1",y(c.onNudgeProactiveV1||(()=>{}))),p.on("notification",y(c.onNotification||(()=>{}))),p.on("new_cart_link",y(c.onCartLink||(()=>{}))),p.on("followup_question",y(c.onFollowupQuestion||(()=>{}))),p.on("action_events",y(c.onActionEvents||(()=>{}))),p.on("client_action",y(c.onClientForm||(()=>{}))),p.on("bot_actions",y(c.onBotActions||(()=>{})))},[]),o=E.useCallback((p,c)=>{const w=c==="main"?p.websocketUrl:w1;ne(`Initializing ${c} socket`);try{const d=Ho(w,{withCredentials:!0,autoConnect:!0,transports:["websocket"],query:{selectedIndex:p.selectedIndex,sessionId:p.customerId,session_id:p.customerId}});return s(d,p.eventHandlers,c==="alternate"),c==="main"&&(d.emit("get_bot_config",{index_name:p.selectedIndex,session_id:p.customerId}),d.emit("get_session_state",{index_name:p.selectedIndex,session_id:p.customerId})),d}catch(d){return console.error(`Failed to initialize ${c} socket:`,d),null}},[s]),a=E.useCallback(p=>{for(;i.current.length>0;){const c=i.current.shift();c&&(ne(`Processing queued message: ${c.eventName}`),c.callback?(p.emit(c.eventName,c.payload,c.callback),c.sendToAlternate&&t.current&&t.current.emit(c.eventName,c.payload,c.callback)):(p.emit(c.eventName,c.payload),c.sendToAlternate&&t.current&&t.current.emit(c.eventName,c.payload)))}},[]),l=E.useCallback((p,c,w,d,y)=>{const{selectedIndex:S,processAlternateSocket:m=!1}=p;r.current=m;const g=()=>{var _,x;return d||w.connectOn===ga.ON_PAGE_SPEND_TIME&&y?!0:((x=(_=c.autoConnect)==null?void 0:_.main)==null?void 0:x.includes(S))||w.connectOn===ga.AUTOCONNECT},h=()=>{var _,x,C,T;return d?(x=(_=c.onDialogOpen)==null?void 0:_.alternate)==null?void 0:x.includes(S):(T=(C=c.autoConnect)==null?void 0:C.alternate)==null?void 0:T.includes(S)};if(g()&&!e.current){ne("Starting main socket initialization...");const _=o(p,"main");_&&(e.current=_,n.current=!0,a(_))}if(h()&&!t.current){ne("Starting alternate socket initialization...");const _=o(p,"alternate");_&&(t.current=_)}},[o,a]),u=E.useCallback((p,c,w,d=!0)=>{if(!e.current){ne(`Socket not ready, queuing message: ${p}`),i.current.push({eventName:p,payload:c,callback:w,sendToAlternate:d}),Ie("message_queued",{...c,verifast_index:c.selectedIndex,verifast_uid:c.sessionId,current_time:be()});return}w?(e.current.emit(p,c,w),d&&t.current&&t.current.emit(p,c,w)):(e.current.emit(p,c),d&&t.current&&t.current.emit(p,c))},[]),f=E.useCallback(()=>{e.current&&(e.current.disconnect(),e.current=null,n.current=!1),t.current&&(t.current.disconnect(),t.current=null),i.current=[]},[]);return{initializeByRule:l,disconnectSockets:f,mainSocket:e.current,alternateSocket:t.current,isMainSocketInitialized:n.current,emitOrQueue:u,getQueueLength:()=>i.current.length}},Rb=({title:e,text:t,onAccept:n,onReject:r})=>{const[i,s]=E.useState(!1),o=(a,l)=>{const u=/(https?:\/\/[^\s]+)/g;return a.split(u).map((p,c)=>p.match(u)?v.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:l||p},c):p)};return v.jsx("div",{className:"w-full h-full fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 z-50",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:e}),v.jsx("div",{className:"text-gray-700 mb-4",children:o(t,"Terms & Conditions")}),v.jsxs("div",{className:"flex items-start mb-4",children:[v.jsx("input",{type:"checkbox",id:"gdpr-consent",className:"mt-1 mr-2",checked:i,onChange:a=>s(a.target.checked)}),v.jsx("label",{htmlFor:"gdpr-consent",className:"text-sm text-gray-600",children:"I have read and agree to the terms and conditions"})]}),v.jsxs("div",{className:"flex text-xs space-x-4",children:[v.jsx("button",{onClick:r,className:"w-full border-2 border-blue-600 hover:bg-blue-600 hover:text-white text-blue-600 font-bold py-2 px-2 rounded transition duration-200",children:"I DO NOT ACCEPT"}),v.jsx("button",{onClick:n,disabled:!i,className:`w-full border-2 border-blue-600 font-bold py-2 px-4 rounded transition duration-200 ${i?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 border-gray-300 text-gray-500 cursor-not-allowed"}`,children:"I ACCEPT"})]})]})})},Db=({option:e,name:t,value:n,onChange:r,checked:i,required:s})=>v.jsxs("label",{className:"relative flex items-center p-4 cursor-pointer border rounded-lg hover:bg-gray-50 transition-colors",children:[v.jsx("input",{type:"radio",name:t,value:e,checked:i,onChange:r,required:s,className:"w-4 h-4 text-primary border-gray-300 focus:ring-primary"}),v.jsx("span",{className:"ml-2 text-gray-700",children:e})]}),Pb=({option:e,checked:t,onChange:n})=>v.jsxs("label",{className:"relative flex items-center p-4 cursor-pointer border rounded-lg hover:bg-gray-50 transition-colors",children:[v.jsx("input",{type:"checkbox",checked:t,onChange:n,className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),v.jsx("span",{className:"ml-2 text-gray-700",children:e})]}),Bb=({type:e,value:t,onChange:n,required:r})=>v.jsx("input",{type:e,value:t,onChange:n,required:r,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),Lb=({queryData:e,formData:t,onClose:n,onSubmit:r,variant:i="default"})=>{const[s,o]=E.useState({}),[a,l]=E.useState({}),u=e.botConfig.colorScheme.primaryColor,f=Tt(u,.3);Tt(u,.85),Tt(u,.95);const p=d=>{if(!d.dependent_on||!d.show_if)return!0;const y=s[d.dependent_on];return d.show_if.equals.includes(y)},c=d=>{d.preventDefault();const y={},S=t.sections.flatMap(_=>_.questions),m=S.filter(_=>{if(!p(_))return!1;const x=s[_.question_id];if(!x&&_.required)return y[_.question_id]="This field is required",!0;if(_.validation_rules)try{const C=_.validation_rules;if(C.startsWith("number_of_digits:")){const T=parseInt(C.split(":")[1]);if(x.length!==T)return y[_.question_id]=`Please enter exactly ${T} digits`,!0}}catch(C){console.error("Error parsing validation rules:",C)}return!1});if(m.length>0){l(y);const _=m[0],x=document.querySelector(`[name="${_.question_id}"]`);x instanceof HTMLElement&&x.focus();return}const g=In(),h=Object.entries(s).map(([_,x])=>{const C=S.find(T=>T.question_id===_);return`${C==null?void 0:C.question}: ${Array.isArray(x)?x.join(", "):x}`}).join(`
`);r(h,g)},w=d=>{if(!p(d))return null;switch(d.type){case"rating":case"mcq":return v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.options.map(y=>v.jsx(Db,{option:y,name:d.question_id,value:y,checked:s[d.question_id]===y,onChange:S=>{o(m=>({...m,[d.question_id]:S.target.value}))},required:d.required},y))}),a[d.question_id]&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:a[d.question_id]})]});case"text":return v.jsxs("div",{className:"space-y-2",children:[v.jsx(Bb,{type:d.text_field_type||"text",value:s[d.question_id]||"",onChange:y=>{if(d.validation_rules){const S=d.validation_rules;if(S.startsWith("number_of_digits:")){const m=parseInt(S.split(":")[1]);if(y.target.value.length>m)return}}o(S=>({...S,[d.question_id]:y.target.value}))},required:d.required,className:a[d.question_id]?"border-red-500":""}),a[d.question_id]&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:a[d.question_id]})]});case"checkbox":return v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.options.map(y=>{const S=s[d.question_id]||[];return v.jsx(Pb,{option:y,checked:S.includes(y),onChange:m=>{o(g=>{const h=g[d.question_id]||[],_=m.target.checked?[...h,y]:h.filter(x=>x!==y);return{...g,[d.question_id]:_}})}},y)})}),a[d.question_id]&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:a[d.question_id]})]})}};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:v.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"sticky z-10 top-0 bg-white px-6 py-4 border-b flex justify-between items-center",children:[v.jsx("h2",{className:"text-xl font-semibold",children:t.title}),v.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:v.jsx("span",{className:"text-2xl",children:"×"})})]}),v.jsxs("div",{className:"p-6",children:[v.jsx("p",{className:"text-gray-600 mb-6",children:t.description}),v.jsxs("form",{onSubmit:c,className:"space-y-8",children:[t.sections.map(d=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-medium mb-2",children:d.title}),d.description&&v.jsx("p",{className:"text-gray-600",children:d.description})]}),d.questions.map(y=>v.jsxs("div",{className:"space-y-3",children:[v.jsxs("label",{className:"block font-medium",children:[y.question,y.required&&v.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),w(y)]},y.question_id))]},d.section_id)),v.jsx("div",{className:"flex gap-3 pt-4",children:v.jsx("button",{style:{backgroundColor:f},type:"submit",className:"flex-1 px-4 py-2 text-white rounded-lg transition-colors",children:"Submit"})})]})]})]})})},Mb=({isVisible:e,onClose:t,onSubmit:n,botConfig:r})=>{const[i,s]=E.useState(0),[o,a]=E.useState(""),[l,u]=E.useState(!1),f=r.colorScheme.primaryColor,p=`rgb(${f[0]}, ${f[1]}, ${f[2]})`,c=async()=>{if(i!==0){u(!0);try{await n(i,o),t()}catch(d){console.error("Error submitting feedback:",d)}finally{u(!1)}}},w=()=>{l||t()};return e?v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 w-96 max-w-[90vw] max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"How was your experience?"}),v.jsx("button",{onClick:w,disabled:l,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:v.jsx(Kg,{size:20})})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Rate your chat experience:"}),v.jsx("div",{className:"flex justify-center space-x-3",children:[{value:1,emoji:"😞"},{value:2,emoji:"🙂"},{value:3,emoji:"😊"}].map(d=>v.jsx("button",{onClick:()=>s(d.value),disabled:l,className:`text-3xl transition-all transform hover:scale-110 ${i===d.value?"scale-110":"opacity-60 hover:opacity-100"} disabled:opacity-50`,children:d.emoji},d.value))}),v.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:i===0&&"Click an emoji to rate"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm text-gray-600 mb-2",children:"Additional feedback (optional):"}),v.jsx("textarea",{value:o,onChange:d=>a(d.target.value),disabled:l,placeholder:"Tell us more about your experience...",className:"w-full p-3 border border-gray-300 rounded-md resize-none h-24 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",maxLength:500}),v.jsxs("p",{className:"text-xs text-gray-500 text-right mt-1",children:[o.length,"/500"]})]}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:w,disabled:l,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),v.jsx("button",{onClick:c,disabled:i===0||l,style:{backgroundColor:p},className:"px-4 py-2 text-white rounded-md hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Submitting...":"Submit"})]})]})}):null};var Hn={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let Ub=0;function Vs(e,t){const n=`atom${++Ub}`,r={toString(){return(Hn?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=jb,r.write=Fb),t&&(r.write=t),r}function jb(e){return e(this)}function Fb(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const Uh=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,cc=e=>"init"in e,Vl=e=>!!e.write,ba=new WeakMap,dc=e=>{var t;return fc(e)&&!((t=ba.get(e))!=null&&t[1])},Vb=(e,t)=>{const n=ba.get(e);if(n)n[1]=!0,n[0].forEach(r=>r(t));else if((Hn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},zb=e=>{if(ba.has(e))return;const t=[new Set,!1];ba.set(e,t);const n=()=>{t[1]=!0};e.then(n,n),e.onCancel=r=>{t[0].add(r)}},fc=e=>typeof(e==null?void 0:e.then)=="function",jh=e=>"v"in e||"e"in e,yo=e=>{if("e"in e)throw e.e;if((Hn?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},hy=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},Fh=(e,t,n,r,i)=>{var s;if((Hn?"production":void 0)!=="production"&&r===t)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,i.n),dc(n.v)&&hy(t,n.v,i),(s=i.m)==null||s.t.add(t),e&&Hb(e,r,t)},Gi=()=>({D:new Map,H:new Set,M:new Set,L:new Set}),ds=(e,t,n)=>{e[t].add(n)},Vh=(e,t,n)=>{e.D.has(t)||(e.D.set(t,new Set),ds(e,"M",()=>{var r;(r=n.m)==null||r.l.forEach(i=>ds(e,"M",i))}))},Hb=(e,t,n)=>{const r=e.D.get(t);r&&r.add(n)},$b=(e,t)=>e.D.get(t),_r=e=>{let t,n=!1;const r=i=>{try{i()}catch(s){n||(t=s,n=!0)}};for(;e.H.size||e.M.size||e.L.size;)e.D.clear(),e.H.forEach(r),e.H.clear(),e.M.forEach(r),e.M.clear(),e.L.forEach(r),e.L.clear();if(n)throw t},py=(...[e,t,n,r])=>{const i=(m,g,h)=>{const _="v"in g,x=g.v,C=dc(g.v)?g.v:null;if(fc(h)){zb(h);for(const T of g.d.keys())hy(m,h,e(T));g.v=h}else g.v=h;delete g.e,delete g.x,(!_||!Object.is(x,g.v))&&(++g.n,C&&Vb(C,h))},s=(m,g)=>{var h;const _=e(g);if(jh(_)&&(_.m&&!_.x||Array.from(_.d).every(([A,V])=>s(m,A).n===V)))return _;_.d.clear();let x=!0;const C=A=>{if(Uh(g,A)){const X=e(A);if(!jh(X))if(cc(A))i(A,X,A.init);else throw new Error("no atom init");return yo(X)}const V=s(m,A);try{return yo(V)}finally{if(x)Fh(m,g,_,A,V);else{const X=Gi();Fh(X,g,_,A,V),p(X,g,_),_r(X)}}};let T,k;const B={get signal(){return T||(T=new AbortController),T.signal},get setSelf(){return(Hn?"production":void 0)!=="production"&&!Vl(g)&&console.warn("setSelf function cannot be used with read-only atom"),!k&&Vl(g)&&(k=(...A)=>{if((Hn?"production":void 0)!=="production"&&x&&console.warn("setSelf function cannot be called in sync"),!x)return f(g,...A)}),k}};try{const A=t(g,C,B);if(i(g,_,A),fc(A)){(h=A.onCancel)==null||h.call(A,()=>T==null?void 0:T.abort());const V=()=>{if(_.m){const X=Gi();p(X,g,_),_r(X)}};A.then(V,V)}return _}catch(A){return delete _.v,_.e=A,delete _.x,++_.n,_}finally{x=!1}},o=m=>yo(s(void 0,m)),a=(m,g,h)=>{var _,x;const C=new Map;for(const T of((_=h.m)==null?void 0:_.t)||[]){const k=e(T);k.m&&C.set(T,k)}for(const T of h.p)C.set(T,e(T));return(x=$b(m,g))==null||x.forEach(T=>{C.set(T,e(T))}),C},l=(m,g,h)=>{const _=[],x=new Set,C=new Set,T=[[g,h]];for(;T.length>0;){const[k,B]=T[T.length-1];if(C.has(k)){T.pop();continue}if(x.has(k)){_.push([k,B,B.n]),C.add(k),B.x=!0,T.pop();continue}x.add(k);for(const[A,V]of a(m,k,B))k!==A&&!x.has(A)&&T.push([A,V])}ds(m,"H",()=>{const k=new Set([g]);for(let B=_.length-1;B>=0;--B){const[A,V,X]=_[B];let me=!1;for(const Q of V.d.keys())if(Q!==A&&k.has(Q)){me=!0;break}me&&(s(m,A),p(m,A,V),X!==V.n&&(Vh(m,A,V),k.add(A))),delete V.x}})},u=(m,g,...h)=>{let _=!0;const x=T=>yo(s(m,T)),C=(T,...k)=>{const B=e(T);try{if(Uh(g,T)){if(!cc(T))throw new Error("atom not writable");const A=B.n,V=k[0];i(T,B,V),p(m,T,B),A!==B.n&&(Vh(m,T,B),l(m,T,B));return}else return u(m,T,...k)}finally{_||_r(m)}};try{return n(g,x,C,...h)}finally{_=!1}},f=(m,...g)=>{const h=Gi();try{return u(h,m,...g)}finally{_r(h)}},p=(m,g,h)=>{if(h.m&&!dc(h.v)){for(const _ of h.d.keys())h.m.d.has(_)||(c(m,_,e(_)).t.add(g),h.m.d.add(_));for(const _ of h.m.d||[])if(!h.d.has(_)){h.m.d.delete(_);const x=w(m,_,e(_));x==null||x.t.delete(g)}}},c=(m,g,h)=>{if(!h.m){s(m,g);for(const _ of h.d.keys())c(m,_,e(_)).t.add(g);if(h.m={l:new Set,d:new Set(h.d.keys()),t:new Set},Vl(g)){const _=h.m;let x;const C=(T,k)=>{let B=!0;x=(...A)=>{try{return u(T,g,...A)}finally{B||_r(T)}};try{return k()}finally{B=!1}};ds(m,"L",()=>{const T=C(m,()=>r(g,(...k)=>x(...k)));T&&(_.u=k=>C(k,T))})}}return h.m},w=(m,g,h)=>{if(h.m&&!h.m.l.size&&!Array.from(h.m.t).some(_=>{var x;return(x=e(_).m)==null?void 0:x.d.has(g)})){const _=h.m.u;_&&ds(m,"L",()=>_(m)),delete h.m;for(const x of h.d.keys()){const C=w(m,x,e(x));C==null||C.t.delete(g)}return}return h.m};return{get:o,set:f,sub:(m,g)=>{const h=Gi(),_=e(m),C=c(h,m,_).l;return C.add(g),_r(h),()=>{C.delete(g);const T=Gi();w(T,m,_),_r(T)}},unstable_derive:m=>py(...m(e,t,n,r))}},Wb=e=>{const t=new WeakMap,n=new Set;let r,i=0;const s=e.unstable_derive((l,u,f,p)=>(r=l,[c=>{let w=t.get(c);if(!w){const d=l(c);w=new Proxy(d,{set(y,S,m){return S==="m"&&n.add(c),Reflect.set(y,S,m)},deleteProperty(y,S){return S==="m"&&n.delete(c),Reflect.deleteProperty(y,S)}}),t.set(c,w)}return w},u,(c,w,d,...y)=>i?d(c,...y):f(c,w,d,...y),p])),o=s.set;return Object.assign(s,{dev4_get_internal_weak_map:()=>({get:l=>{const u=r(l);if(u.n!==0)return u}}),dev4_get_mounted_atoms:()=>n,dev4_restore_atoms:l=>{o({read:()=>null,write:(f,p)=>{++i;try{for(const[c,w]of l)cc(c)&&p(c,w)}finally{--i}}})}})},Kb=()=>{const e=new WeakMap,n=py(r=>{if((Hn?"production":void 0)!=="production"&&!r)throw new Error("Atom is undefined or null");let i=e.get(r);return i||(i={d:new Map,p:new Set,n:0},e.set(r,i)),i},(r,...i)=>r.read(...i),(r,...i)=>r.write(...i),(r,...i)=>{var s;return(s=r.onMount)==null?void 0:s.call(r,...i)});return(Hn?"production":void 0)!=="production"?Wb(n):n};let qi;const Gb=()=>(qi||(qi=Kb(),(Hn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=qi),globalThis.__JOTAI_DEFAULT_STORE__!==qi&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),qi);var my={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const qb=E.createContext(void 0),gy=e=>{const t=E.useContext(qb);return(e==null?void 0:e.store)||t||Gb()},hc=e=>typeof(e==null?void 0:e.then)=="function",yy=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},Qb=Dt.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(yy(e),e)}),zl=new WeakMap,zh=e=>{let t=zl.get(e);return t||(t=new Promise((n,r)=>{let i=e;const s=l=>u=>{i===l&&n(u)},o=l=>u=>{i===l&&r(u)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(u=>{if((my?"production":void 0)!=="production"&&u===l)throw new Error("[Bug] p is not updated even after cancelation");hc(u)?(zl.set(u,t),i=u,u.then(s(u),o(u)),a(u)):n(u)})};e.then(s(e),o(e)),a(e)}),zl.set(e,t)),t};function Jb(e,t){const n=gy(t),[[r,i,s],o]=E.useReducer(u=>{const f=n.get(e);return Object.is(u[0],f)&&u[1]===n&&u[2]===e?u:[f,n,e]},void 0,()=>[n.get(e),n,e]);let a=r;(i!==n||s!==e)&&(o(),a=n.get(e));const l=t==null?void 0:t.delay;if(E.useEffect(()=>{const u=n.sub(e,()=>{if(typeof l=="number"){const f=n.get(e);hc(f)&&yy(zh(f)),setTimeout(o,l);return}o()});return o(),u},[n,e,l]),E.useDebugValue(a),hc(a)){const u=zh(a);return Qb(u)}return a}function Rd(e,t){const n=gy(t);return E.useCallback((...i)=>{if((my?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function Dn(e,t){return[Jb(e,t),Rd(e,t)]}const Xa=Vs(""),Yb={text:"dasdasdas",iframeDimension:{height:"100vh",width:"100vw"},type:$a.DEFAULT,variant:_n.MODAL,buttons:[{text:"Button 1"}],width:300,duration:15,placeholder:"Type your message"},Xb=Vs(Yb),vy=Vs(""),wy=Vs([]),_y=Vs(""),Hl={addToCart:"Great choice! I have added the product to cart. Would you like to continue chatting or proceed to checkout?",checkoutButton:"Proceed to checkout"},Zb={[te.SHOP_FLOW_ADD_TO_CART]:e=>{const t=zr(e.url,e.queryData,"SHOP_FLO");return Nn(e),t&&e.onSuccess&&e.onSuccess(),t??!1},[te.GOKWICK_ADD_TO_CART]:e=>{const t=zr(e.url,e.queryData,"GO_KWICK");return Nn(e),t&&e.onSuccess&&e.onSuccess(),t??!1},[te.SHIP_ROCKET_ADD_TO_CART]:e=>{const t=zr(e.url,e.queryData,"SHIP_ROCKET");return Nn(e),t&&e.onSuccess&&e.onSuccess(),t??!1},[te.AJAX_ADD_TO_CART]:e=>{const t=zr(e.url,e.queryData,"DEFAULT");return Nn(e),t&&e.onSuccess&&e.onSuccess(),t??!1},[te.CV3_ADD_TO_CART]:e=>(Nn(e),l1(e.url),!0),[te.SHOPFRONT_ADD_TO_CART]:e=>{const t={index_name:e.queryData.selectedIndex,session_id:e.queryData.customerId,cart_link:e.url,bot_page:e.queryData.currentPage??""};return Nn(e),e.emitOrQueue("add_to_cart",t),!0},[te.CUSTOM_KERELA_AYURVEDA]:e=>{const t=u1(e.url,e.queryData);return Nn(e),t&&e.onSuccess&&e.onSuccess(),t??!1},[te.AJAX_AND_REFRESH]:e=>{const t=zr(e.url,e.queryData,"REFRESH");return Nn(e),t&&e.onSuccess&&e.onSuccess(),t??!1},[te.ADD_ASK_CHECKOUT_SHOP_FLOW]:e=>Qi(e,te.ADD_ASK_CHECKOUT_SHOP_FLOW),[te.ADD_ASK_CHECKOUT_SHIP_ROCKET]:e=>Qi(e,te.ADD_ASK_CHECKOUT_SHIP_ROCKET),[te.ADD_ASK_CHECKOUT_SHOPIFY]:e=>Qi(e,te.ADD_ASK_CHECKOUT_SHOPIFY),[te.ADD_ASK_CHECKOUT_GOKWICK]:e=>Qi(e,te.ADD_ASK_CHECKOUT_GOKWICK),[te.ADD_ASK_CHECKOUT_BUNDLER]:e=>Qi(e,te.ADD_ASK_CHECKOUT_BUNDLER)},ex={[te.ADD_ASK_CHECKOUT_SHOP_FLOW]:()=>{window.parent.postMessage({type:"execute-function",functionBody:`
        window.Shopflo.openCheckout();
        return true;
      `},"*")},[te.ADD_ASK_CHECKOUT_GOKWICK]:()=>{window.parent.postMessage({type:"execute-function",functionBody:`
        window.triggerGokwikCustomCheckout();
        return true;
      `},"*")},[te.ADD_ASK_CHECKOUT_SHIP_ROCKET]:()=>{window.parent.postMessage({type:"execute-function",functionBody:`
        window.shiprocketCheckoutBuyCartHandler();
        return true;
      `},"*")},[te.ADD_ASK_CHECKOUT_SHOPIFY]:()=>{window.parent.postMessage({type:"execute-function",functionBody:`
        window.open("/checkout", "_blank");
        return true;
      `},"*")},[te.ADD_ASK_CHECKOUT_BUNDLER]:()=>{window.parent.postMessage({type:"execute-function",functionBody:`
        try{
          initWithBundlrDiscountapp();
        } catch(e){
          console.error("failed to open checkout bundle", e) ;
        }
        return true;
      `},"*")},[te.AJAX_AND_REFRESH]:()=>{},[te.SHOP_FLOW_ADD_TO_CART]:()=>{},[te.SHIP_ROCKET_ADD_TO_CART]:()=>{},[te.GOKWICK_ADD_TO_CART]:()=>{},[te.AJAX_ADD_TO_CART]:()=>{},[te.CV3_ADD_TO_CART]:()=>{},[te.SHOPFRONT_ADD_TO_CART]:()=>{},[te.CUSTOM_KERELA_AYURVEDA]:()=>{}},tx=e=>{const t=ex[e.type];t&&(t(),e.onSuccess&&e.onSuccess())},Qi=(e,t)=>{const n=zr(e.url,e.queryData,"DEFAULT");return Nn(e),nx(e,t),n??!1},Nn=e=>{var r,i;const t=(r=e==null?void 0:e.productMetadata)==null?void 0:r.title,n={type:"text",position:"right",text:`${(i=e.botConfig.languageTranslations)==null?void 0:i.addToCartText} - ${t||""}`,renderType:$e.LIVE};e.setMessages(s=>[...s,n]),e.notifyChatMessage(n.text??"","Customer",!1)},nx=(e,t)=>{setTimeout(()=>{const r={type:"text",position:"left",text:Hl.addToCart,renderType:$e.LIVE};e.setMessages(i=>[...i,r]),e.notifyChatMessage(r.text??"","AI",!1)},1e3);const n=[{text:Hl.checkoutButton,onClick:()=>{const r={type:"text",position:"right",text:Hl.checkoutButton,renderType:$e.LIVE};e.setMessages(i=>[...i,r]),e.notifyChatMessage(r.text??"","Customer",!1),tx({type:t})}}];setTimeout(()=>{const r=n.map(i=>({value:i.text,label:i.text,onClick:i.onClick}));e.setHelperMessages(r)},1500)},rx=e=>{const{botConfig:t,url:n}=e,r=Zb[t.cartflow];return r?r(e):!1},ix=(e,t,n,r=30,i=1*60*60*1e3)=>{const s=E.useRef(null),o="persistentTimerStart_"+e,a="persistentTimerEventNotified_"+e;E.useEffect(()=>{const l=Date.now();let u=localStorage.getItem(o);if(u){const d=parseInt(u,10);l-d>i&&(localStorage.removeItem(o),u=null)}u||(u=l.toString(),localStorage.setItem(o,u));const f=parseInt(u,10),p=l-f,c=r*1e3-p,w=()=>{t();const d=Date.now();let y=localStorage.getItem(a),S=!1;if(y){const m=parseInt(y,10);if(d-m>i)S=!0;else{const g=l.toString();localStorage.setItem(a,g)}}else S=!0;S&&(n(),localStorage.setItem(a,d.toString()))};return c<=0?w():s.current=window.setTimeout(w,c),()=>{s.current!==null&&clearTimeout(s.current)}},[t,n,r,i,o,a])};function sx(e){return decodeURIComponent(escape(atob(e)))}const Ji=(e,t,n,r,i)=>({type:e,position:"left",...n&&{text:n},...r&&{images:r},renderType:t}),ox=e=>{var Wd,Kd,Gd,qd;const[t,n]=E.useState(!1);E.useRef(!1);const[r,i]=E.useState(e.currentBotState.botConfig.selectedIndexSuggestions),[s,o]=E.useState([]),a=E.useRef(0),l=E.useRef(0),u=E.useRef(0),f=E.useRef(!1),[p,c]=Dn(Xa),[w,d]=Dn(vy),y=E.useRef(0),[S,m]=E.useState(!1),g=E.useRef(!1),h=E.useRef(null),_=E.useRef(null),[x,C]=E.useState(!1),T=E.useRef(null),k=E.useRef(null),B=E.useRef(!1),[A,V]=E.useState(!1),[X,me]=E.useState(null),[Q,ue]=Dn(wy),[Z,Ce]=E.useState(!1),[I,P]=E.useState([]),W=E.useRef(!1),ee=E.useRef(!1),fe=E.useRef(!1);E.useRef(!1);const[Ne,Xe]=Dn(_y),[je,Ze]=E.useState(!0),[R,Ot]=E.useState({introMessage:tc,selectedIndex:re,websocketUrl:_a,indexSuggestions:ec,currentPage:Ps,customerId:Te,botConfig:e.currentBotState.botConfig}),[ot,z]=E.useState(null),{initializeByRule:j,disconnectSockets:Re,mainSocket:se,alternateSocket:ge,emitOrQueue:Be,getQueueLength:F}=Ib(),J=E.useRef(!1),Ae=E.useRef(!1);ix(R.selectedIndex,()=>{j({selectedIndex:R.selectedIndex,customerId:R.customerId,websocketUrl:R.websocketUrl,eventHandlers:at},e.socketConnectionRule,e.currentBotState.botConfig.socketConnectionRule,e.currentBotState.isOpen,!0)},()=>{},e.currentBotState.botConfig.socketConnectionRule.onPageSendTime),E.useEffect(()=>(se&&(window.mainSocket=se),()=>{delete window.mainSocket}),[se]);const at=E.useMemo(()=>({onBotConfig:b=>{try{const N=JSON.parse(b);ne("bot config received",N),h.current=N}catch(N){console.error("Failed to parse bot config:",JSON.stringify(N))}},onClientForm:b=>{try{ne("Received form data:",b),me(b),V(!0)}catch(N){console.error("Error processing form data:",N)}},onSessionState:b=>{console.debug(`session_state is ${JSON.stringify(b)}`),T.current=b},onQueryResponse:b=>{var U;if(Lv("time_query_response",{verifast_index:re,verifast_uid:Te,current_time:be().toString()}),u.current>0&&(u.current=0,a.current+=1),(U=b.msg_attribute)!=null&&U.usecases){const L=Array.isArray(b.msg_attribute.usecases)?b.msg_attribute.usecases:[b.msg_attribute.usecases];P(L)}if(b.feedback_config){const L=b.feedback_config;z(L)}y.current=b._message_pos??0;const N=b._message_pos??0;n(!0),setTimeout(()=>{sn(b)},N*2e3)},onBotActions:b=>{b&&e.handleBotTriggers(M.BOT_ACTION,b)},onChatHistory:b=>{if(ne("handle Chat History called"),g.current)return;const N=b.map(U=>{try{if(U.text.includes("message_hints"))try{return JSON.parse(U.text),null}catch{}if(U.text.startsWith("HACKY_IMG_DATA")){const L=U.text.replace("HACKY_IMG_DATA",""),G=JSON.parse(L),le=Ut(G);return Ji("images",$e.HISTORY,void 0,le)}return{type:U.actor==="notification"?"notification":"text",position:U.actor==="AI"||U.actor==="agent"?"left":"right",text:U.text,renderType:$e.HISTORY}}catch(L){throw console.error("Error deserializing message:",L),Ie("message_deserialization_error",{verifast_index:R.selectedIndex,verifast_uid:R.customerId,error:L instanceof Error?L.message:String(L),message_text:U.text,current_time:be()}),L}}).filter(U=>U!==null);(!N||N.length==0)&&Ze(!1),o(U=>[...N,...U]),g.current=!0},onUserMessageBroadcast:b=>{o(N=>N.slice(-5).some(G=>G.id&&b.id&&G.id===b.id||G.type==="text"&&G.position==="right"&&G.text===b.text)?N:[...N,{id:b.id,type:"text",position:"right",text:b.text}])},onRoomNotification:b=>{const N={type:b.type,text:b.text,position:"",renderType:$e.LIVE};m(Nt([N])),n(!1),o(U=>[...U,N])},onProactiveNudge:b=>{window.parent.postMessage({event_name:"proactive_nudge",nudge_data:b},"*")},onNudgeProactiveV1:b=>{var U,L,G,le,_e,pe,Ge,At;ne("received pro active nudge v1",b);const N={type:_i.PROACTIVE,variant:b.variant?bd(b.variant):Ke.TEXT_WITH_BUTTON,text:b.text,iframeDimension:{width:((L=(U=b.config)==null?void 0:U.iframeDimension)==null?void 0:L.width)||"200px",height:((le=(G=b.config)==null?void 0:G.iframeDimension)==null?void 0:le.height)||"120px"},width:300,buttons:(pe=(_e=b.config)==null?void 0:_e.buttons)==null?void 0:pe.map(kn=>({text:kn})),duration:((Ge=b.config)==null?void 0:Ge.duration)||15,renderer:$e.PROACTIVE};(At=b.config)!=null&&At.placeholder&&(N.placeholder=b.config.placeholder,N.variant=Ke.TEXT_WITH_PLACEHOLDER),e.handleBotTriggers(M.NEW_NUDGE,{source:ce.DIALOG_CLOSE_BUTTON,nudgeConfig:N})},onCartLink:b=>{ne("handle cart data",b),window.parent.postMessage({type:"execute-function",functionBody:`
          const originalUrl = new URL('${b.cart_link}');
          const firstItemStr = originalUrl.pathname.replace('/cart/', '');
          const [firstVariantId, firstQuantityStr] = firstItemStr.split(':');
          const firstQuantity = Number(firstQuantityStr);
    
          return fetch('/cart.js', {
            method: 'GET',
            headers: { 'Content-Type': 'application/json' }
          })
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(cartData => {
            // Convert fetched items into objects for easy processing.
            const fetchedItems = cartData.items.map(item => ({
              variant: String(item.variant_id),
              quantity: Number(item.quantity)
            }));
            
            // Initialize the updated quantity for the first item.
            let updatedFirstQuantity = firstQuantity;
            // Build a new array excluding the item matching the first variant.
            const remainingItems = [];
            fetchedItems.forEach(item => {
              if (item.variant === firstVariantId) {
                // Increase the first item's quantity by the fetched item's quantity.
                updatedFirstQuantity += item.quantity;
              } else {
                remainingItems.push(item);
              }
            });
            
            // Build the new cart items string with the updated first item first.
            const combinedItemsStr = [
              \`\${firstVariantId}:\${updatedFirstQuantity}\`,
              ...remainingItems.map(item => \`\${item.variant}:\${item.quantity}\`)
            ].join(',');
            
            // Update only the pathname with the new items string.
            originalUrl.pathname = \`/cart/\${combinedItemsStr}\`;
            
            console.log('Original cart link:', '${b.cart_link}');
            console.log('Updated cart link:', originalUrl.toString());
            window.location.href = originalUrl.toString();
            return originalUrl.toString();
          })
          .catch(error => {
            console.error('Error:', error);
            return { success: false, error: error.message };
          });
        `},"*")},onNotification:b=>{var U,L,G,le,_e,pe,Ge,At;ne("received pro active nudge v1",b);const N={type:$a.PROACTIVE,variant:b.variant?b.variant:_n.MODAL,heading:b.heading??"",title:b.title??"",text:b.text??"",iframeDimension:{width:((L=(U=b.config)==null?void 0:U.iframeDimension)==null?void 0:L.width)||"200px",height:((le=(G=b.config)==null?void 0:G.iframeDimension)==null?void 0:le.width)||"120px"},width:((_e=b.config)==null?void 0:_e.width)||"400px",buttons:(Ge=(pe=b.config)==null?void 0:pe.buttons)==null?void 0:Ge.map(kn=>({text:kn})),duration:((At=b.config)==null?void 0:At.duration)||15};e.handleBotTriggers(M.NEW_NOTIFICATION,{source:ce.DIALOG_CLOSE_BUTTON,notificationConfig:N})},onFollowupQuestion:b=>{try{const N=JSON.parse(b),U=N._message_pos??2;setTimeout(()=>{const L=N.questions.map(G=>({value:G,label:G,renderer:$e.BACKEND}));i(L)},U*2e3)}catch(N){console.error("Failure while processing helperMessageStreamHandler:",N,`with data ${b}`)}},onActionEvents:b=>{try{b.event_type==="CLOSE_BOT"&&(window.parent.postMessage("verifast-close-bot","*"),Ie("close_button",{verifast_index:re,verifast_uid:Te,current_time:be()}))}catch{ne("failed to send close bot event source action events")}}}),[R.selectedIndex]);E.useEffect(()=>{e.currentBotState.isOpen&&!g.current&&Be("get_history",{session_id:R.customerId,index_name:R.selectedIndex})},[e.currentBotState.isOpen,se]),E.useEffect(()=>{if(p){const b=p,N=In();St(b,N),Y(b,N),n(!0),c("")}if(w){const b=w;In();const N=Ji("text",$e.PROACTIVE,b,void 0);rt(N),d("")}Q.length>0&&(i(Q),ue([]))},[p,w,Q]);const Ut=E.useCallback(b=>b.map(N=>{var L,G,le,_e;const U=((L=N.variants)==null?void 0:L.map(pe=>q(pe.image_url,pe.image_title,void 0,pe.click_url,pe.price,pe.compare_at_price,pe.add_to_cart,void 0,[])))||[];return q(N.image_url,N.image_title,void 0,N.click_url,((G=U[0])==null?void 0:G.price)??(N==null?void 0:N.price)??void 0,((le=U[0])==null?void 0:le.compare_at_price)??(N==null?void 0:N.compare_at_price)??void 0,((_e=U[0])==null?void 0:_e.add_to_cart)??(N==null?void 0:N.add_to_cart)??void 0,void 0,U)}),[]);E.useEffect(()=>{j({selectedIndex:R.selectedIndex,customerId:R.customerId,websocketUrl:R.websocketUrl,eventHandlers:at},e.socketConnectionRule,e.currentBotState.botConfig.socketConnectionRule,e.currentBotState.isOpen)},[e.currentBotState.isOpen]),E.useEffect(()=>{const b=new URLSearchParams(window.location.search),N=b.get("data"),U=b.get("reset");let L;if(U?L=In():L=b.get("customerId"),N){const G=sx(N);ne(G);const le=JSON.parse(G);ne(le);const _e=le.botConfig,pe={selectedIndex:_e.index||re,botConfig:_e||e.currentBotState.botConfig,indexSuggestions:_e.selectedIndexSuggestions||ec,introMessage:_e.botIntro||tc,currentPage:Ps,websocketUrl:le.websocketUrl||_a,customerId:L||Te};i(pe.indexSuggestions),Ot(pe),ne(pe)}},[]);const jt=(b,N=!0)=>{T.current||(T.current={state:{}}),T.current.state||(T.current.state={}),b==="nudged_for_contact"?T.current.state.nudged_for_contact=!0:b==="nudged_for_leaving"&&(T.current.state.nudged_for_leaving=!0),N&&(se==null||se.emit("update_session_state",{session_id:R.customerId,index_name:R.selectedIndex,state:{[b]:!0}}))};function Nt(b){const N=b.slice().reverse();for(let U of N.reverse()){if(U.type==="notification"&&U.text&&U.text.includes("AI will respond now"))return!0;if(U.type==="notification"&&U.text&&U.text.includes("AI won't respond now"))return!1}return!1}E.useEffect(()=>{var le,_e,pe,Ge,At,kn;m(Nt(s));let b=null;const N=l.current>0,U=((_e=(le=h.current)==null?void 0:le.features)==null?void 0:_e.user_not_responding)??!1,L=!(((Ge=(pe=T==null?void 0:T.current)==null?void 0:pe.state)==null?void 0:Ge.nudged_for_contact)??!1),G=!B.current;return console.debug(`Rerendered UI setting buffer interval ${N} and ${U} and ${G} and ${L}`),N&&L&&U&&G&&(b=setInterval(()=>{var Pi,Bi,et,Qd;const jr=(Bi=(Pi=h.current)==null?void 0:Pi.user_not_responding_config)==null?void 0:Bi.notification;jr&&(rt(Ji("text",$e.NOTIFICATION,jr)),Ee(jr),jt("nudged_for_contact"),window.parent.postMessage({isMinimized:!1},"*"));const Di=(Qd=(et=h.current)==null?void 0:et.user_not_responding_config)==null?void 0:Qd.bubbles;Di&&i(Di.map(Jd=>({label:Jd,value:Jd})))},((kn=(At=h.current)==null?void 0:At.user_not_responding_config)==null?void 0:kn.wait_time)??5e3)),()=>{b&&clearInterval(b)}},[s,h.current,T.current]),E.useEffect(()=>{s&&s.length>0&&r.length>0&&r[0].renderer!==$e.BACKEND&&i([]),g.current&&s.length==0&&Bl.get(`${_1}/cache/${re}/config`).then(b=>{var N,U;_.current=b.data,ne(_),(U=(N=b.data)==null?void 0:N.gdpr)!=null&&U.text&&C(!0)})},[g.current]);const q=(b,N,U,L,G,le,_e,pe,Ge)=>({image_url:b,...N&&{image_title:N},...U&&{sub_heading:U},...L&&{click_url:L},...G&&{price:G},...le&&{compare_at_price:le},..._e&&{add_to_cart:_e},...pe&&{current_variant_id:pe},...Ge&&{variants:Ge}}),rt=b=>{o(N=>[...N,b])},_t=(b,N,U=!1)=>{if(Ll(R.selectedIndex))return Bl.post(`${bh}/external/add_chat/${R.selectedIndex}`,{index_name:R.selectedIndex,sessionId:R.customerId,message:U?"HACKY_IMG_DATA"+b:b,actor:N}).catch(L=>{Ie("FRONTEND_API_CALL_FAILED",{verifast_index:re,verifast_uid:Te,error:`${N.toLowerCase()}_message_failed`,current_time:be()})});{const L=N==="Customer"?"user_message":"ai_message";se==null||se.emit(L,{session_id:R.customerId,index_name:R.selectedIndex,message:U?"HACKY_IMG_DATA"+b:b}),ge&&(ge==null||ge.emit(L,{session_id:R.customerId,index_name:R.selectedIndex,message:U?"HACKY_IMG_DATA"+b:b}))}},ae=async(b,N,U,L)=>{Ll(R.selectedIndex)||(Be("add_user_attribute",{index_name:b,session_id:N,uf_name:U,uf_val:L}),ge==null||ge.emit("add_user_attribute",{index_name:b,session_id:N,uf_name:U,uf_val:L}))},he=async(b,N,U,L)=>{if(!Ll(R.selectedIndex))Be("add_uf",{index_name:b,session_id:N,uf_name:U,uf_val:L}),ge==null||ge.emit("add_uf",{index_name:b,session_id:N,uf_name:U,uf_val:L});else try{await Bl.post(`${bh}/shopify/create_attribute`,{index_name:b,session_id:N,uf_name:U,uf_val:L}).then(G=>{}).catch(G=>Ie("attach_attribute_failed",{error:G,uf:U,value:L,verifast_index:b,verifast_uid:N,current_time:be()}))}catch{Ie("attach_attribute_failed",{uf:U,value:L,verifast_index:b,verifast_uid:N,current_time:be()})}},oe=b=>b.map(N=>q(N.image_url,N.image_title,void 0,N.click_url,N.price,N.compare_at_price,N.add_to_cart,void 0,[])),Oe=(b,N)=>{if(b.stopPropagation(),!(N!=null&&N.variants))return;const U=N.variants,L={text:e.currentBotState.botConfig.flags.similarProductReplace?"Similar Products":"Show more variants",value:e.currentBotState.botConfig.flags.similarProductReplace?`Similar Products <<${N.image_title}>>`:"Show more variants"},G={type:"text",position:"right",text:L.text,id:In(),renderType:$e.DEFAULT};if(o(le=>[...le,G]),e.currentBotState.botConfig.flags.similarProductReplace){const le=In();St(L.value,le),n(!0)}else{_t(G.text||"","Customer");const _e={type:"images",position:"left",images:oe(U),id:In(),renderType:$e.DEFAULT};o(pe=>[...pe,_e]),_t(JSON.stringify(_e.images),"AI",!0)}},sn=b=>{let N;if(b.type==="images"&&b.images){const U=b.images.map(L=>{var Ge,At,kn,jr,Di,Pi,Bi;const G=(L.variants||[]).map(et=>q(et.image_url,et.image_title,void 0,et.click_url||L.click_url,et.price,et.compare_at_price,et.add_to_cart,void 0,[]));let le=null,_e=L.image_title;const pe=et=>et&&typeof et=="string"&&!et.toLowerCase().startsWith("not available");if(pe((Ge=G[0])==null?void 0:Ge.price))le=G[0].price;else for(let et=1;et<G.length;et++)if(pe((At=G[et])==null?void 0:At.price)){le=G[et].price,_e=`${L.image_title} - ${((jr=(kn=L.variants)==null?void 0:kn[et])==null?void 0:jr.image_title)||""}`;break}return!le&&pe(L.price)&&(le=L.price,_e=L.image_title),le||(le=((Di=G[0])==null?void 0:Di.price)||L.price||"",_e=L.image_title),q(L.image_url,_e,void 0,L.click_url,le,((Pi=G[0])==null?void 0:Pi.compare_at_price)??L.compare_at_price??void 0,((Bi=G[0])==null?void 0:Bi.add_to_cart)||L.add_to_cart,void 0,G)});N=Ji("images",$e.LIVE,void 0,U,b.id)}else N=Ji("text",$e.LIVE,b.text,void 0,b.id);b.botAction&&b.botAction.openBot&&e.handleBotTriggers(M.BOT_ACTION,b.botAction),rt(N),!b.has_further_part&&b._message_pos===y.current&&n(!1)};E.useEffect(()=>{["972808.myshopify.com","krishnaayurved.myshopify.com"].includes(R.selectedIndex)&&Yn&&!ee.current&&(ae(R.selectedIndex,R.customerId,"customer_past_data",Yn),ee.current=!0),["kaya-science.myshopify.com"].includes(R.selectedIndex)&&fe&&!fe.current&&(ae(R.selectedIndex,R.customerId,"customer_session_id",R.customerId),fe.current=!0)},[R,Yn]),E.useEffect(()=>{const b=N=>{N.data};return window.addEventListener("message",b),()=>{window.removeEventListener("message",b)}},[]);const St=async(b,N)=>{const U=In(),L=Date.now();se?Ie("new_customer_message",{message:b,verifast_index:re,verifast_uid:R.customerId}):(Ie("chat_started",{message:b,verifast_index:R.selectedIndex,verifast_uid:R.customerId}),j({selectedIndex:R.selectedIndex,customerId:R.customerId,websocketUrl:R.websocketUrl,eventHandlers:at},e.socketConnectionRule,R.botConfig.socketConnectionRule,!0));const G=Sh(R,Ne);let le={query:b,selectedIndex:R.selectedIndex,sessionId:R.customerId,botPage:Td||R.currentPage,typed_response:!0,messageId:N,referenceId:U,sent_time:L,userProperties:{},browserTime:d1(),...R.botConfig.metadataQuery};G&&(le.userProperties=G),Be("query",le),ge&&ge.emit("query",le,pe=>{pe||ne("Alternate socket query not acknowledged")});const _e=new Date().getTime();u.current=_e,l.current+=1,i([]),qt(),J.current||(J.current=!0,p1().then(pe=>{he(R.selectedIndex,R.customerId,"invalid_ip",pe),Ae.current||(Ae.current=!0,getClientLocation(pe).then(Ge=>{he(R.selectedIndex,R.customerId,"location",Ge)}).catch(Ge=>{console.error("error getting location",Ge)}))}));try{if(!W.current){W.current=!0;const pe={os:/iPhone|iPad|iPod/i.test(navigator.userAgent)?"iOS":/Android/i.test(navigator.userAgent)?"Android":/Win/i.test(navigator.userAgent)?"Windows":/Mac/i.test(navigator.userAgent)?"MacOS":"other",isMobile:/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),browser:navigator.vendor||"Unknown",screen:`${window.screen.width}x${window.screen.height}`};he(R.selectedIndex,R.customerId,"invalid_device_info",JSON.stringify(pe))}}catch(pe){console.error("error getting device info",pe)}return ne(Yn,ee.current),Yn&&!ee.current&&(ae(R.selectedIndex,R.customerId,"customer_past_data",Yn),ee.current=!0),k.current!==null&&(jt("nudged_for_leaving"),Ee(k.current),k.current=null),Promise.resolve()},Ee=b=>{se==null||se.emit("add_ai_message",{session_id:R.customerId,index_name:R.selectedIndex,message:b}),ge==null||ge.emit("add_ai_message",{session_id:R.customerId,index_name:R.selectedIndex,message:b})},Y=(b,N)=>{n(!0),o(U=>{const L={id:N,type:"text",position:"right",text:b,renderType:$e.LIVE};return[...U,L]})},qt=()=>{f.current=!0},Ri=(b,N,U)=>{const L=new URL(b);N&&!L.searchParams.has("click_source")&&L.searchParams.append("click_source",N),(!L.searchParams.has("utm_source")||L.searchParams.get("utm_source")!=="verifast")&&L.searchParams.set("utm_source","verifast"),R.botConfig.flags.removeUtmSource&&L.searchParams.delete("utm_source");let G=!1;for(const[le,_e]of L.searchParams.entries())if(_e.startsWith("http://")||_e.startsWith("https://")){G=!0;break}if(b=G?L.toString():decodeURIComponent(L.toString()),Ie("chat_link_click",{url:b,source:N||"gpt_response",verifast_uid:R.customerId}),b.includes("/cart/"))Ws(b,U);else if(R.selectedIndex.includes("myshopify")&&(b.includes("/products")||b.includes("/collections")||b.includes("/cart"))){const le=new URL(b),_e=le.hostname,pe=new URL(`https://${e.currentBotState.botConfig.currentPage}`);let Ge=pe.hostname;_e.includes(pe.host)&&(Ge=_e);const At=`https://${Ge}${le.pathname}${le.search}`;window.parent.postMessage({event_name:"page_location_replace",cartLink:At},"*")}else window.parent.postMessage({type:"execute-function",functionBody:`
            window.open('${b}', '_blank');
            return true;
          `},"*");se==null||se.emit("link_interactions",{client_event:{type:"click"},link:b,index_name:R.selectedIndex,session_id:R.customerId}),ge&&(ge==null||ge.emit("link_interactions",{client_event:{type:"click"},link:b,index_name:R.selectedIndex,session_id:R.customerId}))},Ws=(b,N)=>{const U={url:b,queryData:R,botConfig:e.currentBotState.botConfig,emitOrQueue:Be,setMessages:o,setHelperMessages:i,notifyChatMessage:_t,onSuccess:()=>{e.handleBotTriggers(M.CLOSE_BOT,{})}};N!=null&&N.title&&(U.productMetadata=N),rx(U)},Lv=(b,N)=>Ie(b,{...N,verifast_index:re,verifast_uid:R.customerId,current_time:be()}),Mv=()=>{he(re,Te,"consent",JSON.stringify({value:"accepted"})),C(!1)},Uv=()=>{he(re,Te,"consent",JSON.stringify({value:"rejected"})),e.handleBotTriggers(M.CLOSE_BOT,{})},jv=async(b,N)=>{try{const L={rating:(G=>{switch(G){case 1:return"1";case 2:return"2";case 3:return"3";default:return""}})(b),feedback:N||""};await ae(R.selectedIndex,R.customerId,"chat_rating",L.rating||""),await ae(R.selectedIndex,R.customerId,"chat_feedback",L.feedback||""),g1(R.selectedIndex,R.customerId)}catch(U){console.error("Error submitting feedback:",U)}},Fv=()=>{const b=Sh(R,Ne),N=(b==null?void 0:b.hasPlacedAnOrder)||!1,U=m1(R.selectedIndex,R.customerId),L={useCases:I,use_case_conditions:ot==null?void 0:ot.use_cases,conversation_count_condition:ot==null?void 0:ot.conversation_count,add_to_cart_condition:ot==null?void 0:ot.add_to_cart,userMessageCount:l.current,hasPlacedAnOrder:N,hasGivenFeedback:U,messages:s};VE(L)?Ce(!0):e.handleBotTriggers&&e.handleBotTriggers(M.CLOSE_BOT,{source:ce.DIALOG_CLOSE_BUTTON})};return v.jsx(v.Fragment,{children:v.jsx(UE,{messeges:s,isMsgHistory:je,queryInProgress:S?!1:t,processQuery:St,addUserMessageToChat:Y,helperMessages:r,botConfig:R.botConfig,queryData:R,currentBotState:e.currentBotState,handleLinkClick:Ri,chatHistoryLoaded:g,handleMoreVariantClick:Oe,sendMetrics:(b,N)=>Ie(b,{...N,verifast_index:R.selectedIndex,verifast_uid:R.customerId,current_time:be()}),handleBotTriggers:e.handleBotTriggers,notifyUFAttributes:he,onCloseButtonClick:Fv,overlay:x?v.jsx(Rb,{title:((Kd=(Wd=_.current)==null?void 0:Wd.gdpr)==null?void 0:Kd.title)||"Consent",text:((qd=(Gd=_.current)==null?void 0:Gd.gdpr)==null?void 0:qd.text)||"Please accept our GDPR terms.",onAccept:Mv,onReject:Uv}):A&&X?v.jsx(Lb,{queryData:R,formData:X,onClose:()=>V(!1),onSubmit:(b,N)=>{Y(b,N),St(b,N),n(!0),V(!1)}}):Z?v.jsx(Mb,{isVisible:Z,onClose:()=>{Ce(!1),e.handleBotTriggers&&e.handleBotTriggers(M.CLOSE_BOT,{source:ce.DIALOG_CLOSE_BUTTON})},onSubmit:async(b,N)=>{await jv(b,N),Ce(!1),e.handleBotTriggers&&e.handleBotTriggers(M.CLOSE_BOT,{source:ce.DIALOG_CLOSE_BUTTON})},botConfig:R.botConfig}):void 0})})},ax=E.createContext(null),$l={didCatch:!1,error:null};class lx extends E.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=$l}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:s,reason:"imperative-api"}),this.setState($l)}}componentDidCatch(t,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&ux(t.resetKeys,i)){var s,o;(s=(o=this.props).onReset)===null||s===void 0||s.call(o,{next:i,prev:t.resetKeys,reason:"keys"}),this.setState($l)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:s,error:o}=this.state;let a=t;if(s){const l={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")a=n(l);else if(r)a=E.createElement(r,l);else if(i===null||E.isValidElement(i))a=i;else throw o}return E.createElement(ax.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function ux(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}const cx=e=>{var o;const[t,n]=E.useState({}),[r,i]=E.useState(!1);E.useEffect(()=>{if(e.currentBotState.botConfig){const a=e.currentBotState.botConfig.icon,[l,u]=xd(a.size,a.width,a.height);i(a.size===mt.CUSTOM),ne("sizing",a),n({width:`${l}px`,height:`${u}px`,borderColor:a.borderColor?`rgb(${a.borderColor[0]},${a.borderColor[1]},${a.borderColor[2]})`:"transparent",borderRadius:a.size===mt.CUSTOM?"0.375rem":"9999px"})}},[e.currentBotState.botConfig]);const s=()=>{e.handleBotTriggers(M.TOGGLE_BOT,{})};return v.jsx(v.Fragment,{children:((o=e.currentBotState.botConfig)==null?void 0:o.icon)&&v.jsxs("div",{className:`
            relative
            cursor-pointer
            transition-transform
            duration-200
            ease-in-out
            hover:scale-105 
          `,onClick:s,children:[v.jsx("div",{style:t,className:` overflow-hidden ${r?"rounded-sm":"rounded-full border-4"}`,children:v.jsx("img",{src:e.currentBotState.botConfig.icon.url,alt:"chatbot-icon",className:"w-full h-full object-cover"})}),!r&&v.jsx("div",{style:{width:"16px",height:"16px"},className:"absolute bg-green-500 rounded-full bottom-1 right-0 border-2 border-white",children:" "}),e.botStateRef.current.isNudgePreviouslyClosed&&!r&&v.jsx("div",{className:"absolute -top-0 -right-0 bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-xs font-bold",children:"1"})]})})},dx=e=>v.jsx("div",{children:v.jsx(cx,{botStateRef:e.botStateRef,currentBotState:e.currentBotState,setCurrentBotState:e.setCurrentBotState,handleBotTriggers:e.handleBotTriggers})}),fx=()=>{if(ve&&ve.colorScheme&&ve.colorScheme.primaryColor){const e=ve.colorScheme.primaryColor,t=Tt(e,.3),n=Tt(e,.85),r=Tt(e,.95);return{primary:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,s1:t,s2:n,s3:r}}return{primary:"rgb(0, 0, 0)",s1:"rgb(0, 0, 0)",s2:"rgb(0, 0, 0)",s3:"rgb(0, 0, 0)"}},Wl={isOpen:!1,isNudgeOpen:!1,isNotificationOpen:!1,isNudgePreviouslyClosed:!1,isAllNudgeDisabled:!1,isBasicNudgeDisabled:!1,isAttributionNudgeDisabled:!1,nudgeTriggerTimer:0,currentPage:"",pageHistory:[],currentNudge:{type:_i.DEFAULT,variant:ve.nudge.nudgeVariant,text:ve.nudge.text,placeholder:"Chat With me",buttons:ve.selectedIndexSuggestions.map(e=>({text:e.label})),iframeDimension:ve.dimensions.nudgeOpen,duration:10,width:ve.nudge.maxWidth||300},nudgeHistory:[],botConfig:ve,colorShades:fx()},hx=e=>{var a;const[t,n]=E.useState(""),r=E.useRef(null),[i,s]=E.useState();E.useEffect(()=>{const l=e.nudge.text;let u=0;const f=setTimeout(()=>{const p=setInterval(()=>{u<=l.length?(n(l.slice(0,u)),u++):clearInterval(p)},30);return()=>{clearInterval(p)}},750);return()=>{clearTimeout(f)}},[e.nudge.text]),E.useEffect(()=>{if(e.currentBotState.colorShades){ne("color shade got triggered");const l={background:e.currentBotState.botConfig.nudge.background?e.currentBotState.botConfig.nudge.background:`linear-gradient(to bottom, ${e.currentBotState.colorShades.primary} 0%, ${e.currentBotState.colorShades.s1} 100%)`};ne("nudge text size ",e.currentBotState.botConfig.nudge.textSize);const u={fontSize:e.currentBotState.botConfig.nudge.textSize,color:e.currentBotState.botConfig.nudge.textColor};s({card:l,text:u})}},[e.currentBotState.colorShades]);function o(l){Ie("TEXT_ONLY_NUDGE:click",{verifast_index:re,verifast_uid:Te,current_time:be(),nudge_text:e.nudge.text}),l===ce.NUDGE_BODY?e.handleBotTriggers(M.CLICK_NUDGE,{source:l}):l===ce.NUDGE_CLOSE_BUTTON&&e.handleBotTriggers(M.CLOSE_NUDGE,{source:l})}return v.jsxs("div",{className:"relative w-max ",children:[v.jsx("div",{style:i==null?void 0:i.card,className:"w-full h-full rounded-xl shadow-md shadow-gray-500 cursor-pointer",onClick:()=>o(ce.NUDGE_BODY),children:v.jsx("div",{className:`w-full h-full ${((a=e.currentBotState.botConfig)==null?void 0:a.alignment)===bt.LEFT?"pl-[20px]":"pr-[20px]"}`,children:v.jsx("p",{ref:r,style:i==null?void 0:i.text,className:"px-[8px] py-[12px] whitespace-pre-line",children:t})})}),v.jsx("div",{className:"absolute flex justify-center items-center rounded-full border-[1px] border-gray-600 w-[16px] h-[16px] bg-white -top-[6px] -right-[6px] z-[99999] cursor-pointer",onClick:()=>o(ce.NUDGE_CLOSE_BUTTON),children:v.jsx("span",{className:"text-gray-600 text-[10px]",children:"✖"})})]})},px=e=>{var p,c;const[t,n]=E.useState(""),[r,i]=E.useState([]),s=E.useRef(null),[o,a]=E.useState(),l=Rd(Xa);E.useEffect(()=>{const w=e.nudge.text;let d=0;const y=setInterval(()=>{d<=w.length?(n(w.slice(0,d)),d++):(clearInterval(y),u())},30);return()=>{clearInterval(y)}},[e.nudge.text]);const u=()=>{const w=e.nudge.buttons||[];let d=0;const y=()=>{d<w.length&&(i(S=>[...S,w[d]]),setTimeout(()=>{d++,y()},200))};y()};E.useEffect(()=>{if(e.currentBotState.colorShades){ne("color shade got triggered");const w={background:e.currentBotState.botConfig.nudge.background?e.currentBotState.botConfig.nudge.background:`linear-gradient(to bottom, ${e.currentBotState.colorShades.primary} 0%, ${e.currentBotState.colorShades.s1} 100%)`},d={fontSize:e.currentBotState.botConfig.nudge.textSize,color:e.currentBotState.botConfig.nudge.textColor};a({card:w,text:d})}},[e.currentBotState.colorShades]);function f(w){Ie("TEXT_WITH_BUTTON:click",{verifast_index:re,verifast_uid:Te,current_time:be()}),w===ce.NUDGE_BODY?e.handleBotTriggers(M.CLICK_NUDGE,{source:w}):w===ce.NUDGE_CLOSE_BUTTON&&e.handleBotTriggers(M.CLOSE_NUDGE,{source:w})}return v.jsxs("div",{className:"relative w-full shadow-2xl",children:[v.jsx("div",{style:o==null?void 0:o.card,className:"w-full h-full pb-2 rounded-xl shadow-md shadow-gray-500 cursor-pointer",onClick:()=>f(ce.NUDGE_BODY),children:v.jsxs("div",{className:`w-full h-full ${((p=e.currentBotState.botConfig)==null?void 0:p.alignment)===bt.LEFT?"pl-4":"pr-4"}`,children:[v.jsx("p",{ref:s,style:o==null?void 0:o.text,className:"px-2 py-4 whitespace-pre-line",children:t}),v.jsx("div",{className:`w-11/12 mx-2 space-y-[10px] flex flex-col ${((c=e.currentBotState.botConfig)==null?void 0:c.alignment)===bt.LEFT?"justify-end":"justify-start"}`,children:r.map((w,d)=>v.jsx(mx,{button:w,colorShade:e.currentBotState.colorShades,onClick:()=>l(w.text)},d))})]})}),v.jsx("div",{className:"absolute flex justify-center items-center rounded-full border-[1px] border-gray-600 w-[16px] h-[16px] bg-white -top-[6px] -right-[6px] z-[99999] cursor-pointer",onClick:()=>f(ce.NUDGE_CLOSE_BUTTON),children:v.jsx("span",{className:"text-gray-600 text-[10px]",children:"✖"})})]})},mx=e=>v.jsx(v.Fragment,{children:e.colorShade&&v.jsx("div",{style:{backgroundColor:e.colorShade.s3,border:`2px solid ${e.colorShade.s2}`},className:"w-full flex justify-start items-center rounded-2xl button-with-shadow hover:shadow-inner",children:v.jsx("p",{className:"m-0 py-[1px] px-2 text-black text-[10px] border-none focus:border-none",onClick:()=>e.onClick(e.button.text),children:e.button.text})})}),gx=e=>{var a,l;const[t,n]=E.useState(""),r=E.useRef(null),[i,s]=E.useState();E.useEffect(()=>{const u=e.nudge.text;let f=0;const p=setInterval(()=>{f<=u.length?(n(u.slice(0,f)),f++):clearInterval(p)},30);return()=>{clearInterval(p)}},[e.nudge.text]),E.useEffect(()=>{if(e.currentBotState.colorShades){ne("color shade got triggered");const u={background:e.currentBotState.botConfig.nudge.background?e.currentBotState.botConfig.nudge.background:`linear-gradient(to bottom, ${e.currentBotState.colorShades.primary} 0%, ${e.currentBotState.colorShades.s1} 100%)`},f={fontSize:e.currentBotState.botConfig.nudge.textSize,color:e.currentBotState.botConfig.nudge.textColor};s({card:u,text:f})}},[e.currentBotState.colorShades]);function o(u){Ie("TEXT_ONLY_NUDGE:click",{verifast_index:re,verifast_uid:Te,current_time:be()}),u===ce.NUDGE_BODY?e.handleBotTriggers(M.CLICK_NUDGE,{source:u}):u===ce.NUDGE_CLOSE_BUTTON&&e.handleBotTriggers(M.CLOSE_NUDGE,{source:u})}return v.jsxs("div",{className:"relative w-full shadow-md shadow-gray-500",children:[v.jsx("div",{style:i==null?void 0:i.card,className:"w-full h-full rounded-xl cursor-pointer",onClick:()=>o(ce.NUDGE_BODY),children:v.jsxs("div",{className:`w-full h-full ${((a=e.currentBotState.botConfig)==null?void 0:a.alignment)===bt.LEFT?"pl-8":"pr-8"}`,children:[v.jsx("p",{ref:r,style:i==null?void 0:i.text,className:"px-2 py-4 whitespace-pre-line",children:t}),v.jsx("div",{className:`${((l=e.currentBotState.botConfig)==null?void 0:l.alignment)===bt.LEFT?"pl-6":"pr-[30px]"}`,children:v.jsxs("div",{style:{backgroundColor:e.currentBotState.colorShades.s3,borderColor:e.currentBotState.colorShades.s3},className:"w-full flex items-center mt-2 rounded-2xl overflow-hidden text-black border-2  ",children:[v.jsx("input",{style:{backgroundColor:e.currentBotState.colorShades.s3},className:"px-1 py-1 border-1 w-full outline-none italic text-[11px]",type:"text",name:"demo nudge text",id:"nudge-text-placeholder",placeholder:e.nudge.placeholder}),v.jsx("span",{style:{color:e.currentBotState.colorShades.primary},className:"pr-1 text-[20px]",children:v.jsx(mE,{})})]})})]})}),v.jsx("div",{className:"absolute flex justify-center items-center rounded-full border-[1px] border-gray-600 w-[16px] h-[16px] bg-white -top-[6px] -right-[6px] z-[99999] cursor-pointer",onClick:()=>o(ce.NUDGE_CLOSE_BUTTON),children:v.jsx("span",{className:"text-gray-600 text-[10px]",children:"✖"})})]})},yx=e=>{var l,u,f,p;const[t,n]=E.useState([]),[r,i]=E.useState(),s=Rd(Xa),o=E.useRef(!1);E.useEffect(()=>{var c;if(!o.current&&((c=e.nudge)!=null&&c.buttons)&&Array.isArray(e.nudge.buttons)){const w=[...e.nudge.buttons].filter(d=>d&&typeof d=="object");o.current=!0,w.forEach((d,y)=>{setTimeout(()=>{n(S=>[...S,d])},y*300)})}},[(l=e.nudge)==null?void 0:l.buttons]),E.useEffect(()=>{var c,w,d,y,S,m,g;if((c=e.currentBotState)!=null&&c.colorShades){ne("color shade got triggered");const h={background:"transparent",border:"none",boxShadow:"none"},_={fontSize:(y=(d=(w=e.currentBotState)==null?void 0:w.botConfig)==null?void 0:d.nudge)==null?void 0:y.textSize,color:((g=(m=(S=e.currentBotState)==null?void 0:S.botConfig)==null?void 0:m.nudge)==null?void 0:g.textColor)||"#000000"};i({card:h,text:_})}},[(u=e.currentBotState)==null?void 0:u.colorShades]);function a(c){Ie("TRANSPARENT_TEXT_WITH_BUTTON:click",{verifast_index:re,verifast_uid:Te,current_time:be()}),c===ce.NUDGE_BODY?e.handleBotTriggers(M.CLICK_NUDGE,{source:c}):c===ce.NUDGE_CLOSE_BUTTON&&e.handleBotTriggers(M.CLOSE_NUDGE,{source:c})}return v.jsxs("div",{className:"relative w-full",children:[v.jsx("div",{style:r==null?void 0:r.card,className:"w-full h-full cursor-pointer",onClick:()=>a(ce.NUDGE_BODY),children:v.jsxs("div",{className:`w-full h-full flex flex-col gap-2 ${((p=(f=e.currentBotState)==null?void 0:f.botConfig)==null?void 0:p.alignment)===bt.LEFT?"items-start":"items-end"}`,children:[e.nudge.text&&v.jsx("div",{className:"opacity-0",style:{animation:"fadeIn 0.3s ease-out forwards",animationDelay:`${1*.1}s`},children:v.jsx("div",{style:{background:e.currentBotState.botConfig.nudge.background?e.currentBotState.botConfig.nudge.background:`linear-gradient(to bottom, ${e.currentBotState.colorShades.primary} 0%, ${e.currentBotState.colorShades.s1} 100%)`},className:" rounded-2xl shadow-lg",children:v.jsx("p",{className:"text-white text-[14px] mb-2 px-4 py-3",children:e.nudge.text})})},"buttn-text"),t.map((c,w)=>{var d;return v.jsx("div",{className:"opacity-0",style:{animation:"fadeIn 0.3s ease-out forwards",animationDelay:`${w*.3}s`},children:v.jsx(vx,{button:c,colorShade:(d=e.currentBotState)==null?void 0:d.colorShades,onButtonClick:y=>s(y)})},w)})]})}),v.jsx("div",{className:"absolute flex justify-center items-center rounded-full w-[16px] h-[16px] bg-white/80 -top-[6px] -right-[6px] z-[99999] cursor-pointer hover:bg-white transition-colors duration-200 shadow-sm",onClick:()=>a(ce.NUDGE_CLOSE_BUTTON),children:v.jsx("span",{className:"text-gray-600 text-[10px]",children:"✖"})}),v.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(8px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})},vx=({button:e,colorShade:t,onButtonClick:n})=>!e||!e.text?null:v.jsx(v.Fragment,{children:t&&v.jsx("div",{className:"flex justify-center items-center px-3 py-2 bg-white rounded-2xl shadow-xl hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>n(e.text),children:v.jsx("p",{className:"m-0 text-gray-700 text-sm font-medium",children:e.text})})}),wx=e=>{const[t,n]=E.useState();E.useEffect(()=>{e.currentNudge&&n(e.currentNudge)},[e.currentNudge]);const r={[Ke.TEXT_ONLY]:hx,[Ke.TEXT_WITH_BUTTON]:px,[Ke.TEXT_WITH_PLACEHOLDER]:gx,[Ke.TRANSPARENT_WITH_BUTTON]:yx},i=()=>{if(!t)return null;const s=r[t.variant];return v.jsx(s,{nudge:t,handleBotTriggers:e.handleBotTriggers,currentBotState:e.currentBotState,setCurrentBotState:e.setCurrentBotState})};return v.jsx(v.Fragment,{children:i()})};class Hh{constructor(){ye(this,"strategy")}setStrategy(t){this.strategy=t}getDimensions(){return this.strategy.getDimensions()}}class Kl{constructor(t){this.dimensions=t}getDimensions(){return{width:this.dimensions.width,height:this.dimensions.height,isDialogOpened:!0}}}class $h{constructor(t){this.dimensions=t}getDimensions(){return{width:this.dimensions.width,height:this.dimensions.height,isDialogOpened:!1}}}class Wh{constructor(t){this.dimensions=t}getDimensions(){return{width:this.dimensions.width,height:this.dimensions.height,isDialogOpened:!1}}}class Kh{constructor(t){this.dimensions=t}getDimensions(){var t,n;return{width:((t=this.dimensions)==null?void 0:t.width)||"100vw",height:((n=this.dimensions)==null?void 0:n.height)||"100vh",isDialogOpened:!0,isFullScreenRequested:!0}}}class Gh{constructor(t="75px",n="75px"){this.width=t,this.height=n}getDimensions(){return{width:this.width,height:this.height,isDialogOpened:!1}}}var $={},pc={exports:{}};(function(e,t){(function(n,r){var i="1.0.39",s="",o="?",a="function",l="undefined",u="object",f="string",p="major",c="model",w="name",d="type",y="vendor",S="version",m="architecture",g="console",h="mobile",_="tablet",x="smarttv",C="wearable",T="embedded",k=500,B="Amazon",A="Apple",V="ASUS",X="BlackBerry",me="Browser",Q="Chrome",ue="Edge",Z="Firefox",Ce="Google",I="Huawei",P="LG",W="Microsoft",ee="Motorola",fe="Opera",Ne="Samsung",Xe="Sharp",je="Sony",Ze="Xiaomi",R="Zebra",Ot="Facebook",ot="Chromium OS",z="Mac OS",j=" Browser",Re=function(ae,he){var oe={};for(var Oe in ae)he[Oe]&&he[Oe].length%2===0?oe[Oe]=he[Oe].concat(ae[Oe]):oe[Oe]=ae[Oe];return oe},se=function(ae){for(var he={},oe=0;oe<ae.length;oe++)he[ae[oe].toUpperCase()]=ae[oe];return he},ge=function(ae,he){return typeof ae===f?Be(he).indexOf(Be(ae))!==-1:!1},Be=function(ae){return ae.toLowerCase()},F=function(ae){return typeof ae===f?ae.replace(/[^\d\.]/g,s).split(".")[0]:r},J=function(ae,he){if(typeof ae===f)return ae=ae.replace(/^\s\s*/,s),typeof he===l?ae:ae.substring(0,k)},Ae=function(ae,he){for(var oe=0,Oe,sn,St,Ee,Y,qt;oe<he.length&&!Y;){var Ri=he[oe],Ws=he[oe+1];for(Oe=sn=0;Oe<Ri.length&&!Y&&Ri[Oe];)if(Y=Ri[Oe++].exec(ae),Y)for(St=0;St<Ws.length;St++)qt=Y[++sn],Ee=Ws[St],typeof Ee===u&&Ee.length>0?Ee.length===2?typeof Ee[1]==a?this[Ee[0]]=Ee[1].call(this,qt):this[Ee[0]]=Ee[1]:Ee.length===3?typeof Ee[1]===a&&!(Ee[1].exec&&Ee[1].test)?this[Ee[0]]=qt?Ee[1].call(this,qt,Ee[2]):r:this[Ee[0]]=qt?qt.replace(Ee[1],Ee[2]):r:Ee.length===4&&(this[Ee[0]]=qt?Ee[3].call(this,qt.replace(Ee[1],Ee[2])):r):this[Ee]=qt||r;oe+=2}},at=function(ae,he){for(var oe in he)if(typeof he[oe]===u&&he[oe].length>0){for(var Oe=0;Oe<he[oe].length;Oe++)if(ge(he[oe][Oe],ae))return oe===o?r:oe}else if(ge(he[oe],ae))return oe===o?r:oe;return he.hasOwnProperty("*")?he["*"]:ae},Ut={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},jt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Nt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[w,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[w,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[w,S],[/opios[\/ ]+([\w\.]+)/i],[S,[w,fe+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[S,[w,fe+" GX"]],[/\bopr\/([\w\.]+)/i],[S,[w,fe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[S,[w,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[w,S],[/quark(?:pc)?\/([-\w\.]+)/i],[S,[w,"Quark"]],[/\bddg\/([\w\.]+)/i],[S,[w,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[w,"UC"+me]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[S,[w,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[w,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[w,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[w,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[S,[w,"Smart Lenovo "+me]],[/(avast|avg)\/([\w\.]+)/i],[[w,/(.+)/,"$1 Secure "+me],S],[/\bfocus\/([\w\.]+)/i],[S,[w,Z+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[w,fe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[w,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[w,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[w,fe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[w,"MIUI "+me]],[/fxios\/([-\w\.]+)/i],[S,[w,Z]],[/\bqihu|(qi?ho?o?|360)browser/i],[[w,"360"+j]],[/\b(qq)\/([\w\.]+)/i],[[w,/(.+)/,"$1Browser"],S],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[w,/(.+)/,"$1"+j],S],[/samsungbrowser\/([\w\.]+)/i],[S,[w,Ne+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[w,/_/g," "],S],[/metasr[\/ ]?([\d\.]+)/i],[S,[w,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[w,"Sogou Mobile"],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[w,S],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[w],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[w,Ot],S],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[w,S],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[w,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[w,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[w,Q+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[w,Q+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[w,"Android "+me]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[w,S],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[S,[w,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[S,w],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[w,[S,at,Ut]],[/(webkit|khtml)\/([\w\.]+)/i],[w,S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[w,"Netscape"],S],[/(wolvic)\/([\w\.]+)/i],[w,S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[w,Z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[w,[S,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[w,[S,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,Be]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,s,Be]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,Be]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[y,Ne],[d,_]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[y,Ne],[d,h]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[y,A],[d,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[y,A],[d,_]],[/(macintosh);/i],[c,[y,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[y,Xe],[d,h]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[y,I],[d,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[y,I],[d,h]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[y,Ze],[d,h]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[y,Ze],[d,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[y,"OPPO"],[d,h]],[/\b(opd2\d{3}a?) bui/i],[c,[y,"OPPO"],[d,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[y,"Vivo"],[d,h]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[y,"Realme"],[d,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[y,ee],[d,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[y,ee],[d,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[y,P],[d,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[y,P],[d,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[y,"Lenovo"],[d,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[y,"Nokia"],[d,h]],[/(pixel c)\b/i],[c,[y,Ce],[d,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[y,Ce],[d,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[y,je],[d,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[y,je],[d,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[y,"OnePlus"],[d,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[y,B],[d,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[y,B],[d,h]],[/(playbook);[-\w\),; ]+(rim)/i],[c,y,[d,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[y,X],[d,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[y,V],[d,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[y,V],[d,h]],[/(nexus 9)/i],[c,[y,"HTC"],[d,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[c,/_/g," "],[d,h]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[y,"TCL"],[d,_]],[/(itel) ((\w+))/i],[[y,Be],c,[d,at,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[y,"Acer"],[d,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[y,"Meizu"],[d,h]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[y,"Ulefone"],[d,h]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[y,"Nothing"],[d,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,c,[d,h]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,c,[d,_]],[/(surface duo)/i],[c,[y,W],[d,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[y,"Fairphone"],[d,h]],[/(u304aa)/i],[c,[y,"AT&T"],[d,h]],[/\bsie-(\w*)/i],[c,[y,"Siemens"],[d,h]],[/\b(rct\w+) b/i],[c,[y,"RCA"],[d,_]],[/\b(venue[\d ]{2,7}) b/i],[c,[y,"Dell"],[d,_]],[/\b(q(?:mv|ta)\w+) b/i],[c,[y,"Verizon"],[d,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[y,"Barnes & Noble"],[d,_]],[/\b(tm\d{3}\w+) b/i],[c,[y,"NuVision"],[d,_]],[/\b(k88) b/i],[c,[y,"ZTE"],[d,_]],[/\b(nx\d{3}j) b/i],[c,[y,"ZTE"],[d,h]],[/\b(gen\d{3}) b.+49h/i],[c,[y,"Swiss"],[d,h]],[/\b(zur\d{3}) b/i],[c,[y,"Swiss"],[d,_]],[/\b((zeki)?tb.*\b) b/i],[c,[y,"Zeki"],[d,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],c,[d,_]],[/\b(ns-?\w{0,9}) b/i],[c,[y,"Insignia"],[d,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[y,"NextBook"],[d,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],c,[d,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],c,[d,h]],[/\b(ph-1) /i],[c,[y,"Essential"],[d,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[y,"Envizen"],[d,_]],[/\b(trio[-\w\. ]+) b/i],[c,[y,"MachSpeed"],[d,_]],[/\btu_(1491) b/i],[c,[y,"Rotor"],[d,_]],[/(shield[\w ]+) b/i],[c,[y,"Nvidia"],[d,_]],[/(sprint) (\w+)/i],[y,c,[d,h]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[y,W],[d,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[y,R],[d,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[y,R],[d,h]],[/smart-tv.+(samsung)/i],[y,[d,x]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[y,Ne],[d,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,P],[d,x]],[/(apple) ?tv/i],[y,[c,A+" TV"],[d,x]],[/crkey/i],[[c,Q+"cast"],[y,Ce],[d,x]],[/droid.+aft(\w+)( bui|\))/i],[c,[y,B],[d,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[y,Xe],[d,x]],[/(bravia[\w ]+)( bui|\))/i],[c,[y,je],[d,x]],[/(mitv-\w{5}) bui/i],[c,[y,Ze],[d,x]],[/Hbbtv.*(technisat) (.*);/i],[y,c,[d,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,J],[c,J],[d,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,c,[d,g]],[/droid.+; (shield) bui/i],[c,[y,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[c,[y,je],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[y,W],[d,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[y,Ne],[d,C]],[/((pebble))app/i],[y,c,[d,C]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[y,A],[d,C]],[/droid.+; (glass) \d/i],[c,[y,Ce],[d,C]],[/droid.+; (wt63?0{2,3})\)/i],[c,[y,R],[d,C]],[/(quest( \d| pro)?)/i],[c,[y,Ot],[d,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[d,T]],[/(aeobc)\b/i],[c,[y,B],[d,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[d,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[d,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,h]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[w,ue+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[w,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[w,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,w]],os:[[/microsoft (windows) (vista|xp)/i],[w,S],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[w,[S,at,jt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[S,at,jt],[w,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[w,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[w,z],[S,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[S,w],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[w,S],[/\(bb(10);/i],[S,[w,X]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[w,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[w,Z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[w,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[w,"watchOS"]],[/crkey\/([\d\.]+)/i],[S,[w,Q+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[w,ot],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[w,S],[/(sunos) ?([\w\.\d]*)/i],[[w,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[w,S]]},q=function(ae,he){if(typeof ae===u&&(he=ae,ae=r),!(this instanceof q))return new q(ae,he).getResult();var oe=typeof n!==l&&n.navigator?n.navigator:r,Oe=ae||(oe&&oe.userAgent?oe.userAgent:s),sn=oe&&oe.userAgentData?oe.userAgentData:r,St=he?Re(Nt,he):Nt,Ee=oe&&oe.userAgent==Oe;return this.getBrowser=function(){var Y={};return Y[w]=r,Y[S]=r,Ae.call(Y,Oe,St.browser),Y[p]=F(Y[S]),Ee&&oe&&oe.brave&&typeof oe.brave.isBrave==a&&(Y[w]="Brave"),Y},this.getCPU=function(){var Y={};return Y[m]=r,Ae.call(Y,Oe,St.cpu),Y},this.getDevice=function(){var Y={};return Y[y]=r,Y[c]=r,Y[d]=r,Ae.call(Y,Oe,St.device),Ee&&!Y[d]&&sn&&sn.mobile&&(Y[d]=h),Ee&&Y[c]=="Macintosh"&&oe&&typeof oe.standalone!==l&&oe.maxTouchPoints&&oe.maxTouchPoints>2&&(Y[c]="iPad",Y[d]=_),Y},this.getEngine=function(){var Y={};return Y[w]=r,Y[S]=r,Ae.call(Y,Oe,St.engine),Y},this.getOS=function(){var Y={};return Y[w]=r,Y[S]=r,Ae.call(Y,Oe,St.os),Ee&&!Y[w]&&sn&&sn.platform&&sn.platform!="Unknown"&&(Y[w]=sn.platform.replace(/chrome os/i,ot).replace(/macos/i,z)),Y},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Oe},this.setUA=function(Y){return Oe=typeof Y===f&&Y.length>k?J(Y,k):Y,this},this.setUA(Oe),this};q.VERSION=i,q.BROWSER=se([w,S,p]),q.CPU=se([m]),q.DEVICE=se([c,y,d,g,h,x,_,C,T]),q.ENGINE=q.OS=se([w,S]),e.exports&&(t=e.exports=q),t.UAParser=q;var rt=typeof n!==l&&(n.jQuery||n.Zepto);if(rt&&!rt.ua){var _t=new q;rt.ua=_t.getResult(),rt.ua.get=function(){return _t.getUA()},rt.ua.set=function(ae){_t.setUA(ae);var he=_t.getResult();for(var oe in he)rt.ua[oe]=he[oe]}}})(typeof window=="object"?window:Hv)})(pc,pc.exports);var _x=pc.exports;Object.defineProperty($,"__esModule",{value:!0});function Sx(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var gt=E,Pe=Sx(gt),Sy=_x,vr=new Sy,wt=vr.getBrowser(),Ex=vr.getCPU(),Gt=vr.getDevice(),Dd=vr.getEngine(),wr=vr.getOS(),zs=vr.getUA(),Ey=function(t){return vr.setUA(t)},Hs=function(t){if(!t){console.error("No userAgent string was provided");return}var n=new Sy(t);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},by=Object.freeze({ClientUAInstance:vr,browser:wt,cpu:Ex,device:Gt,engine:Dd,os:wr,ua:zs,setUa:Ey,parseUserAgent:Hs});function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){Cx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fs(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function xx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tx(e,t,n){return t&&Qh(e.prototype,t),n&&Qh(e,n),e}function Cx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mc(){return mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mc.apply(this,arguments)}function kx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yc(e,t)}function gc(e){return gc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gc(e)}function yc(e,t){return yc=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},yc(e,t)}function Ox(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rn(e,t){if(e==null)return{};var n=Ox(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nx(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $o(e)}function Ax(e,t){return Ix(e)||Rx(e,t)||Dx(e,t)||Px()}function Ix(e){if(Array.isArray(e))return e}function Rx(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Dx(e,t){if(e){if(typeof e=="string")return Jh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jh(e,t)}}function Jh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Px(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ht={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Mt={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},Ii={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},Bx={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Lx=function(t){switch(t){case ht.Mobile:return{isMobile:!0};case ht.Tablet:return{isTablet:!0};case ht.SmartTv:return{isSmartTV:!0};case ht.Console:return{isConsole:!0};case ht.Wearable:return{isWearable:!0};case ht.Browser:return{isBrowser:!0};case ht.Embedded:return{isEmbedded:!0};default:return Bx}},Mx=function(t){return Ey(t)},ie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return t||n},Pd=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},Bd=function(t){var n=Pd();return n&&n.platform&&(n.platform.indexOf(t)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},Ux=function(t,n,r,i,s){return{isBrowser:t,browserMajorVersion:ie(n.major),browserFullVersion:ie(n.version),browserName:ie(n.name),engineName:ie(r.name),engineVersion:ie(r.version),osName:ie(i.name),osVersion:ie(i.version),userAgent:ie(s)}},Yh=function(t,n,r,i){return bx({},t,{vendor:ie(n.vendor),model:ie(n.model),os:ie(r.name),osVersion:ie(r.version),ua:ie(i)})},jx=function(t,n,r,i){return{isSmartTV:t,engineName:ie(n.name),engineVersion:ie(n.version),osName:ie(r.name),osVersion:ie(r.version),userAgent:ie(i)}},Fx=function(t,n,r,i){return{isConsole:t,engineName:ie(n.name),engineVersion:ie(n.version),osName:ie(r.name),osVersion:ie(r.version),userAgent:ie(i)}},Vx=function(t,n,r,i){return{isWearable:t,engineName:ie(n.name),engineVersion:ie(n.version),osName:ie(r.name),osVersion:ie(r.version),userAgent:ie(i)}},zx=function(t,n,r,i,s){return{isEmbedded:t,vendor:ie(n.vendor),model:ie(n.model),engineName:ie(r.name),engineVersion:ie(r.version),osName:ie(i.name),osVersion:ie(i.version),userAgent:ie(s)}};function Hx(e){var t=e?Hs(e):by,n=t.device,r=t.browser,i=t.engine,s=t.os,o=t.ua,a=Lx(n.type),l=a.isBrowser,u=a.isMobile,f=a.isTablet,p=a.isSmartTV,c=a.isConsole,w=a.isWearable,d=a.isEmbedded;if(l)return Ux(l,r,i,s,o);if(p)return jx(p,i,s,o);if(c)return Fx(c,i,s,o);if(u||f)return Yh(a,n,s,o);if(w)return Vx(w,i,s,o);if(d)return zx(d,n,i,s,o)}var xy=function(t){var n=t.type;return n===ht.Mobile},Ty=function(t){var n=t.type;return n===ht.Tablet},Cy=function(t){var n=t.type;return n===ht.Mobile||n===ht.Tablet},ky=function(t){var n=t.type;return n===ht.SmartTv},xa=function(t){var n=t.type;return n===ht.Browser},Oy=function(t){var n=t.type;return n===ht.Wearable},Ny=function(t){var n=t.type;return n===ht.Console},Ay=function(t){var n=t.type;return n===ht.Embedded},Iy=function(t){var n=t.vendor;return ie(n)},Ry=function(t){var n=t.model;return ie(n)},Dy=function(t){var n=t.type;return ie(n,"browser")},Py=function(t){var n=t.name;return n===Ii.Android},By=function(t){var n=t.name;return n===Ii.Windows},Ly=function(t){var n=t.name;return n===Ii.MAC_OS},My=function(t){var n=t.name;return n===Ii.WindowsPhone},Uy=function(t){var n=t.name;return n===Ii.IOS},jy=function(t){var n=t.version;return ie(n)},Fy=function(t){var n=t.name;return ie(n)},Vy=function(t){var n=t.name;return n===Mt.Chrome},zy=function(t){var n=t.name;return n===Mt.Firefox},Hy=function(t){var n=t.name;return n===Mt.Chromium},Ta=function(t){var n=t.name;return n===Mt.Edge},$y=function(t){var n=t.name;return n===Mt.Yandex},Wy=function(t){var n=t.name;return n===Mt.Safari||n===Mt.MobileSafari},Ky=function(t){var n=t.name;return n===Mt.MobileSafari},Gy=function(t){var n=t.name;return n===Mt.Opera},qy=function(t){var n=t.name;return n===Mt.InternetExplorer||n===Mt.Ie},Qy=function(t){var n=t.name;return n===Mt.MIUI},Jy=function(t){var n=t.name;return n===Mt.SamsungBrowser},Yy=function(t){var n=t.version;return ie(n)},Xy=function(t){var n=t.major;return ie(n)},Zy=function(t){var n=t.name;return ie(n)},ev=function(t){var n=t.name;return ie(n)},tv=function(t){var n=t.version;return ie(n)},nv=function(){var t=Pd(),n=t&&t.userAgent&&t.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},di=function(t){return typeof t=="string"&&t.indexOf("Edg/")!==-1},rv=function(){var t=Pd();return t&&(/iPad|iPhone|iPod/.test(t.platform)||t.platform==="MacIntel"&&t.maxTouchPoints>1)&&!window.MSStream},En=function(){return Bd("iPad")},iv=function(){return Bd("iPhone")},sv=function(){return Bd("iPod")},ov=function(t){return ie(t)};function av(e){var t=e||by,n=t.device,r=t.browser,i=t.os,s=t.engine,o=t.ua;return{isSmartTV:ky(n),isConsole:Ny(n),isWearable:Oy(n),isEmbedded:Ay(n),isMobileSafari:Ky(r)||En(),isChromium:Hy(r),isMobile:Cy(n)||En(),isMobileOnly:xy(n),isTablet:Ty(n)||En(),isBrowser:xa(n),isDesktop:xa(n),isAndroid:Py(i),isWinPhone:My(i),isIOS:Uy(i)||En(),isChrome:Vy(r),isFirefox:zy(r),isSafari:Wy(r),isOpera:Gy(r),isIE:qy(r),osVersion:jy(i),osName:Fy(i),fullBrowserVersion:Yy(r),browserVersion:Xy(r),browserName:Zy(r),mobileVendor:Iy(n),mobileModel:Ry(n),engineName:ev(s),engineVersion:tv(s),getUA:ov(o),isEdge:Ta(r)||di(o),isYandex:$y(r),deviceType:Dy(n),isIOS13:rv(),isIPad13:En(),isIPhone13:iv(),isIPod13:sv(),isElectron:nv(),isEdgeChromium:di(o),isLegacyEdge:Ta(r)&&!di(o),isWindows:By(i),isMacOs:Ly(i),isMIUI:Qy(r),isSamsungBrowser:Jy(r)}}var lv=ky(Gt),uv=Ny(Gt),cv=Oy(Gt),$x=Ay(Gt),Wx=Ky(wt)||En(),Kx=Hy(wt),Za=Cy(Gt)||En(),dv=xy(Gt),fv=Ty(Gt)||En(),hv=xa(Gt),Gx=xa(Gt),pv=Py(wr),mv=My(wr),gv=Uy(wr)||En(),qx=Vy(wt),Qx=zy(wt),Jx=Wy(wt),Yx=Gy(wt),yv=qy(wt),Xx=jy(wr),Zx=Fy(wr),eT=Yy(wt),tT=Xy(wt),nT=Zy(wt),rT=Iy(Gt),iT=Ry(Gt),sT=ev(Dd),oT=tv(Dd),aT=ov(zs),lT=Ta(wt)||di(zs),uT=$y(wt),cT=Dy(Gt),dT=rv(),fT=En(),hT=iv(),pT=sv(),mT=nv(),gT=di(zs),yT=Ta(wt)&&!di(zs),vT=By(wr),wT=Ly(wr),_T=Qy(wt),ST=Jy(wt),ET=function(t){if(!t||typeof t!="string"){console.error("No valid user agent string was provided");return}var n=Hs(t),r=n.device,i=n.browser,s=n.os,o=n.engine,a=n.ua;return av({device:r,browser:i,os:s,engine:o,ua:a})},bT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return pv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},xT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return hv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},TT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return yv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},CT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return gv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},kT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return Za?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},OT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return fv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},NT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return mv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},AT=function(t){var n=t.renderWithFragment,r=t.children;t.viewClassName,t.style;var i=rn(t,["renderWithFragment","children","viewClassName","style"]);return dv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},IT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return lv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},RT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return uv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},DT=function(t){var n=t.renderWithFragment,r=t.children,i=rn(t,["renderWithFragment","children"]);return cv?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",i,r):null},PT=function(t){var n=t.renderWithFragment,r=t.children;t.viewClassName,t.style;var i=t.condition,s=rn(t,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?Pe.createElement(gt.Fragment,null,r):Pe.createElement("div",s,r):null};function BT(e){return function(t){kx(n,t);function n(r){var i;return xx(this,n),i=Nx(this,gc(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind($o(i)),i.onOrientationChange=i.onOrientationChange.bind($o(i)),i.onPageLoad=i.onPageLoad.bind($o(i)),i.state={isLandscape:!1,isPortrait:!1},i}return Tx(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":fs(window))!==void 0&&Za&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Pe.createElement(e,mc({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Pe.Component)}function LT(){var e=gt.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),t=Ax(e,2),n=t[0],r=t[1],i=gt.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&r(o)},[n.orientation]);return gt.useEffect(function(){return(typeof window>"u"?"undefined":fs(window))!==void 0&&Za&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function vv(e){var t=e||window.navigator.userAgent;return Hs(t)}function MT(e){var t=e||window.navigator.userAgent,n=vv(t),r=av(n);return[r,n]}$.AndroidView=bT;$.BrowserTypes=Mt;$.BrowserView=xT;$.ConsoleView=RT;$.CustomView=PT;$.IEView=TT;$.IOSView=CT;$.MobileOnlyView=AT;$.MobileView=kT;$.OsTypes=Ii;$.SmartTVView=IT;$.TabletView=OT;$.WearableView=DT;$.WinPhoneView=NT;$.browserName=nT;$.browserVersion=tT;$.deviceDetect=Hx;$.deviceType=cT;$.engineName=sT;$.engineVersion=oT;$.fullBrowserVersion=eT;$.getSelectorsByUserAgent=ET;$.getUA=aT;$.isAndroid=pv;$.isBrowser=hv;$.isChrome=qx;$.isChromium=Kx;$.isConsole=uv;$.isDesktop=Gx;$.isEdge=lT;$.isEdgeChromium=gT;$.isElectron=mT;$.isEmbedded=$x;$.isFirefox=Qx;$.isIE=yv;$.isIOS=gv;$.isIOS13=dT;$.isIPad13=fT;$.isIPhone13=hT;$.isIPod13=pT;$.isLegacyEdge=yT;$.isMIUI=_T;$.isMacOs=wT;var vo=$.isMobile=Za;$.isMobileOnly=dv;$.isMobileSafari=Wx;$.isOpera=Yx;$.isSafari=Jx;$.isSamsungBrowser=ST;$.isSmartTV=lv;$.isTablet=fv;$.isWearable=cv;$.isWinPhone=mv;$.isWindows=vT;$.isYandex=uT;$.mobileModel=iT;$.mobileVendor=rT;$.osName=Zx;$.osVersion=Xx;$.parseUserAgent=Hs;$.setUserAgent=Mx;$.useDeviceData=vv;$.useDeviceSelectors=MT;$.useMobileOrientation=LT;$.withOrientationChange=BT;const UT=()=>{const e=E.useRef(null),t=E.useRef(null),n=()=>{e.current&&(clearTimeout(e.current),e.current=null),t.current&&(clearTimeout(t.current),t.current=null)},r=()=>{e.current&&(clearTimeout(e.current),e.current=null)},i=()=>{t.current&&(clearTimeout(t.current),t.current=null)};return{clearTimers:n,clearAppearTimer:r,clearDisappearTimer:i,setAppearTimer:(a,l)=>{r(),e.current=setTimeout(a,l*1e3)},setDisappearTimer:(a,l)=>{i(),t.current=setTimeout(a,l*1e3)}}},wv={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource};function jT(){return wv}function Gl(e){let t=2166136261;const n=e.length;for(let r=0;r<n;r++)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}function el(e,t,n){return n===2?Gl(Gl(e+t)+"")%1e4/1e4:n===1?Gl(t+e)%1e3/1e3:null}function FT(e){return e<=0?[]:new Array(e).fill(1/e)}function Ld(e,t){return e>=t[0]&&e<t[1]}function VT(e,t){const n=el("__"+t[0],e,1);return n===null?!1:n>=t[1]&&n<t[2]}function zT(e,t){for(let n=0;n<t.length;n++)if(Ld(e,t[n]))return n;return-1}function _v(e){try{const t=e.replace(/([^\\])\//g,"$1\\/");return new RegExp(t)}catch(t){console.error(t);return}}function Sv(e,t){if(!t.length)return!1;let n=!1,r=!1;for(let i=0;i<t.length;i++){const s=WT(e,t[i].type,t[i].pattern);if(t[i].include===!1){if(s)return!1}else n=!0,s&&(r=!0)}return r||!n}function HT(e,t,n){try{let r=t.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");return n&&(r="\\/?"+r.replace(/(^\/|\/$)/g,"")+"\\/?"),new RegExp("^"+r+"$","i").test(e)}catch{return!1}}function $T(e,t){try{const n=new URL(t.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),r=[[e.host,n.host,!1],[e.pathname,n.pathname,!0]];return n.hash&&r.push([e.hash,n.hash,!1]),n.searchParams.forEach((i,s)=>{r.push([e.searchParams.get(s)||"",i,!1])}),!r.some(i=>!HT(i[0],i[1],i[2]))}catch{return!1}}function WT(e,t,n){try{const r=new URL(e,"https://_");if(t==="regex"){const i=_v(n);return i?i.test(r.href)||i.test(r.href.substring(r.origin.length)):!1}else if(t==="simple")return $T(r,n);return!1}catch{return!1}}function KT(e,t,n){t=t===void 0?1:t,t<0?t=0:t>1&&(t=1);const r=FT(e);n=n||r,n.length!==e&&(n=r);const i=n.reduce((o,a)=>a+o,0);(i<.99||i>1.01)&&(n=r);let s=0;return n.map(o=>{const a=s;return s+=o,[a,a+t*o]})}function GT(e,t,n){if(!t)return null;const r=t.split("?")[1];if(!r)return null;const i=r.replace(/#.*/,"").split("&").map(s=>s.split("=",2)).filter(s=>{let[o]=s;return o===e}).map(s=>{let[,o]=s;return parseInt(o)});return i.length>0&&i[0]>=0&&i[0]<n?i[0]:null}function qT(e){try{return e()}catch(t){return console.error(t),!1}}const ql=e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0));async function hs(e,t,n){if(t=t||"",n=n||globalThis.crypto&&globalThis.crypto.subtle||wv.SubtleCrypto,!n)throw new Error("No SubtleCrypto implementation found");try{const r=await n.importKey("raw",ql(t),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[i,s]=e.split("."),o=await n.decrypt({name:"AES-CBC",iv:ql(i)},r,ql(s));return new TextDecoder().decode(o)}catch{throw new Error("Failed to decrypt")}}function Ca(e){return typeof e=="string"?e:JSON.stringify(e)}function Qt(e){typeof e=="number"&&(e=e+""),(!e||typeof e!="string")&&(e="0");const t=e.replace(/(^v|\+.*$)/g,"").split(/[-.]/);return t.length===3&&t.push("~"),t.map(n=>n.match(/^[0-9]+$/)?n.padStart(5," "):n).join("-")}function QT(){let e;try{e="1.3.1"}catch{e=""}return e}function JT(e,t){let n,r;try{n=new URL(e),r=new URL(t)}catch(i){return console.error(`Unable to merge query strings: ${i}`),t}return n.searchParams.forEach((i,s)=>{r.searchParams.has(s)||r.searchParams.set(s,i)}),r.toString()}function Xh(e){return typeof e=="object"&&e!==null}function Ql(e){return e.urlPatterns&&e.variations.some(t=>Xh(t)&&"urlRedirect"in t)?"redirect":e.variations.some(t=>Xh(t)&&(t.domMutations||"js"in t||"css"in t))?"visual":"unknown"}async function Ev(e,t){return new Promise(n=>{let r=!1,i;const s=o=>{r||(r=!0,i&&clearTimeout(i),n(o||null))};t&&(i=setTimeout(()=>s(),t)),e.then(o=>s(o)).catch(()=>s())})}const yt={staleTTL:1e3*60,maxAge:1e3*60*60*4,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:2e4,disableCache:!1},bn=jT(),Si={fetchFeaturesCall:e=>{let{host:t,clientKey:n,headers:r}=e;return bn.fetch(`${t}/api/features/${n}`,{headers:r})},fetchRemoteEvalCall:e=>{let{host:t,clientKey:n,payload:r,headers:i}=e;const s={method:"POST",headers:{"Content-Type":"application/json",...i},body:JSON.stringify(r)};return bn.fetch(`${t}/api/eval/${n}`,s)},eventSourceCall:e=>{let{host:t,clientKey:n,headers:r}=e;return r?new bn.EventSource(`${t}/sub/${n}`,{headers:r}):new bn.EventSource(`${t}/sub/${n}`)},startIdleListener:()=>{let e;if(!(typeof window<"u"&&typeof document<"u"))return;const n=()=>{document.visibilityState==="visible"?(window.clearTimeout(e),nC()):document.visibilityState==="hidden"&&(e=window.setTimeout(tC,yt.idleStreamInterval))};return document.addEventListener("visibilitychange",n),()=>document.removeEventListener("visibilitychange",n)},stopIdleListener:()=>{}};try{globalThis.localStorage&&(bn.localStorage=globalThis.localStorage)}catch{}const Ei=new Map;let Zh=!1;const Mn=new Map,wo=new Map,bi=new Map,xi=new Set;function YT(e){Object.assign(yt,e),yt.backgroundSync||aC()}async function XT(e){let{instance:t,timeout:n,skipCache:r,allowStale:i,backgroundSync:s}=e;return s||(yt.backgroundSync=!1),rC({instance:t,allowStale:i,timeout:n,skipCache:r})}function ZT(e){const t=$s(e),n=Ei.get(t)||new Set;n.add(e),Ei.set(t,n)}function eC(e){Ei.forEach(t=>t.delete(e))}function tC(){bi.forEach(e=>{e&&(e.state="idle",jd(e))})}function nC(){bi.forEach(e=>{e&&e.state==="idle"&&Fd(e)})}async function ep(){try{if(!bn.localStorage)return;await bn.localStorage.setItem(yt.cacheKey,JSON.stringify(Array.from(Mn.entries())))}catch{}}async function rC(e){let{instance:t,allowStale:n,timeout:r,skipCache:i}=e;const s=$s(t),o=Md(t),a=new Date,l=new Date(a.getTime()-yt.maxAge+yt.staleTTL);await iC();const u=!yt.disableCache&&!i?Mn.get(o):void 0;return u&&(n||u.staleAt>a)&&u.staleAt>l?(u.sse&&xi.add(s),u.staleAt<a?vc(t):Ud(t),{data:u.data,success:!0,source:"cache"}):await Ev(vc(t),r)||{data:null,success:!1,source:"timeout",error:new Error("Timeout")}}function $s(e){const[t,n]=e.getApiInfo();return`${t}||${n}`}function Md(e){const t=$s(e);if(!("isRemoteEval"in e)||!e.isRemoteEval())return t;const n=e.getAttributes(),r=e.getCacheKeyAttributes()||Object.keys(e.getAttributes()),i={};r.forEach(a=>{i[a]=n[a]});const s=e.getForcedVariations(),o=e.getUrl();return`${t}||${JSON.stringify({ca:i,fv:s,url:o})}`}async function iC(){if(!Zh){Zh=!0;try{if(bn.localStorage){const e=await bn.localStorage.getItem(yt.cacheKey);if(!yt.disableCache&&e){const t=JSON.parse(e);t&&Array.isArray(t)&&t.forEach(n=>{let[r,i]=n;Mn.set(r,{...i,staleAt:new Date(i.staleAt)})}),bv()}}}catch{}if(!yt.disableIdleStreams){const e=Si.startIdleListener();e&&(Si.stopIdleListener=e)}}}function bv(){const e=Array.from(Mn.entries()).map(n=>{let[r,i]=n;return{key:r,staleAt:i.staleAt.getTime()}}).sort((n,r)=>n.staleAt-r.staleAt),t=Math.min(Math.max(0,Mn.size-yt.maxEntries),Mn.size);for(let n=0;n<t;n++)Mn.delete(e[n].key)}function xv(e,t,n){const r=n.dateUpdated||"",i=new Date(Date.now()+yt.staleTTL),s=yt.disableCache?void 0:Mn.get(t);if(s&&r&&s.version===r){s.staleAt=i,ep();return}yt.disableCache||(Mn.set(t,{data:n,version:r,staleAt:i,sse:xi.has(e)}),bv()),ep();const o=Ei.get(e);o&&o.forEach(a=>sC(a,n))}async function sC(e,t){await e.setPayload(t||e.getPayload())}async function vc(e){const{apiHost:t,apiRequestHeaders:n}=e.getApiHosts(),r=e.getClientKey(),i="isRemoteEval"in e&&e.isRemoteEval(),s=$s(e),o=Md(e);let a=wo.get(o);return a||(a=(i?Si.fetchRemoteEvalCall({host:t,clientKey:r,payload:{attributes:e.getAttributes(),forcedVariations:e.getForcedVariations(),forcedFeatures:Array.from(e.getForcedFeatures().entries()),url:e.getUrl()},headers:n}):Si.fetchFeaturesCall({host:t,clientKey:r,headers:n})).then(u=>{if(!u.ok)throw new Error(`HTTP error: ${u.status}`);return u.headers.get("x-sse-support")==="enabled"&&xi.add(s),u.json()}).then(u=>(xv(s,o,u),Ud(e),wo.delete(o),{data:u,success:!0,source:"network"})).catch(u=>(wo.delete(o),{data:null,source:"error",success:!1,error:u})),wo.set(o,a)),a}function Ud(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=$s(e),r=Md(e),{streamingHost:i,streamingHostRequestHeaders:s}=e.getApiHosts(),o=e.getClientKey();if(t&&xi.add(n),yt.backgroundSync&&xi.has(n)&&bn.EventSource){if(bi.has(n))return;const a={src:null,host:i,clientKey:o,headers:s,cb:l=>{try{if(l.type==="features-updated"){const u=Ei.get(n);u&&u.forEach(f=>{vc(f)})}else if(l.type==="features"){const u=JSON.parse(l.data);xv(n,r,u)}a.errors=0}catch{Tv(a)}},errors:0,state:"active"};bi.set(n,a),Fd(a)}}function Tv(e){if(e.state!=="idle"&&(e.errors++,e.errors>3||e.src&&e.src.readyState===2)){const t=Math.pow(3,e.errors-3)*(1e3+Math.random()*1e3);jd(e),setTimeout(()=>{["idle","active"].includes(e.state)||Fd(e)},Math.min(t,3e5))}}function jd(e){e.src&&(e.src.onopen=null,e.src.onerror=null,e.src.close(),e.src=null,e.state==="active"&&(e.state="disabled"))}function Fd(e){e.src=Si.eventSourceCall({host:e.host,clientKey:e.clientKey,headers:e.headers}),e.state="active",e.src.addEventListener("features",e.cb),e.src.addEventListener("features-updated",e.cb),e.src.onerror=()=>Tv(e),e.src.onopen=()=>{e.errors=0}}function oC(e,t){jd(e),bi.delete(t)}function aC(){xi.clear(),bi.forEach(oC),Ei.clear(),Si.stopIdleListener()}function Jl(e,t){if(t.streaming){if(!e.getClientKey())throw new Error("Must specify clientKey to enable streaming");t.payload&&Ud(e,!0),ZT(e)}}var lC=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,Vd={revert:function(){}},ka=new Map,zd=new Set;function uC(e){return e==="html"?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[e]}}function tl(e){var t=ka.get(e);return t||(t={element:e,attributes:{}},ka.set(e,t)),t}function nl(e,t,n,r,i){var s=n(e),o={isDirty:!1,originalValue:s,virtualValue:s,mutations:[],el:e,_positionTimeout:null,observer:new MutationObserver(function(){if(!(t==="position"&&o._positionTimeout)){t==="position"&&(o._positionTimeout=setTimeout(function(){o._positionTimeout=null},1e3));var a=n(e);t==="position"&&a.parentNode===o.virtualValue.parentNode&&a.insertBeforeNode===o.virtualValue.insertBeforeNode||a!==o.virtualValue&&(o.originalValue=a,i(o))}}),mutationRunner:i,setValue:r,getCurrentValue:n};return t==="position"&&e.parentNode?o.observer.observe(e.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):o.observer.observe(e,uC(t)),o}function rl(e,t){var n=t.getCurrentValue(t.el);t.virtualValue=e,e&&typeof e!="string"?(!n||e.parentNode!==n.parentNode||e.insertBeforeNode!==n.insertBeforeNode)&&(t.isDirty=!0,tp()):e!==n&&(t.isDirty=!0,tp())}function cC(e){var t=e.originalValue;e.mutations.forEach(function(n){return t=n.mutate(t)}),rl(xC(t),e)}function dC(e){var t=new Set(e.originalValue.split(/\s+/).filter(Boolean));e.mutations.forEach(function(n){return n.mutate(t)}),rl(Array.from(t).filter(Boolean).join(" "),e)}function fC(e){var t=e.originalValue;e.mutations.forEach(function(n){return t=n.mutate(t)}),rl(t,e)}function hC(e){var t=e.parentSelector,n=e.insertBeforeSelector,r=document.querySelector(t);if(!r)return null;var i=n?document.querySelector(n):null;return n&&!i?null:{parentNode:r,insertBeforeNode:i}}function pC(e){var t=e.originalValue;e.mutations.forEach(function(n){var r=n.mutate(),i=hC(r);t=i||t}),rl(t,e)}var mC=function(t){return t.innerHTML},gC=function(t,n){return t.innerHTML=n};function Cv(e){var t=tl(e);return t.html||(t.html=nl(e,"html",mC,gC,cC)),t.html}var yC=function(t){return{parentNode:t.parentElement,insertBeforeNode:t.nextElementSibling}},vC=function(t,n){n.insertBeforeNode&&!n.parentNode.contains(n.insertBeforeNode)||n.parentNode.insertBefore(t,n.insertBeforeNode)};function kv(e){var t=tl(e);return t.position||(t.position=nl(e,"position",yC,vC,pC)),t.position}var wC=function(t,n){return n?t.className=n:t.removeAttribute("class")},_C=function(t){return t.className};function Ov(e){var t=tl(e);return t.classes||(t.classes=nl(e,"class",_C,wC,dC)),t.classes}var SC=function(t){return function(n){var r;return(r=n.getAttribute(t))!=null?r:null}},EC=function(t){return function(n,r){return r!==null?n.setAttribute(t,r):n.removeAttribute(t)}};function Nv(e,t){var n=tl(e);return n.attributes[t]||(n.attributes[t]=nl(e,t,SC(t),EC(t),fC)),n.attributes[t]}function bC(e,t){var n=ka.get(e);if(n)if(t==="html"){var r,i;(r=n.html)==null||(i=r.observer)==null||i.disconnect(),delete n.html}else if(t==="class"){var s,o;(s=n.classes)==null||(o=s.observer)==null||o.disconnect(),delete n.classes}else if(t==="position"){var a,l;(a=n.position)==null||(l=a.observer)==null||l.disconnect(),delete n.position}else{var u,f,p;(u=n.attributes)==null||(f=u[t])==null||(p=f.observer)==null||p.disconnect(),delete n.attributes[t]}}var _o;function xC(e){return _o||(_o=document.createElement("div")),_o.innerHTML=e,_o.innerHTML}function So(e,t,n){if(n.isDirty){n.isDirty=!1;var r=n.virtualValue;n.mutations.length||bC(e,t),n.setValue(e,r)}}function TC(e,t){e.html&&So(t,"html",e.html),e.classes&&So(t,"class",e.classes),e.position&&So(t,"position",e.position),Object.keys(e.attributes).forEach(function(n){So(t,n,e.attributes[n])})}function tp(){ka.forEach(TC)}function CC(e,t){var n=null;e.kind==="html"?n=Cv(t):e.kind==="class"?n=Ov(t):e.kind==="attribute"?n=Nv(t,e.attribute):e.kind==="position"&&(n=kv(t)),n&&(n.mutations.push(e),n.mutationRunner(n))}function kC(e,t){var n=null;if(e.kind==="html"?n=Cv(t):e.kind==="class"?n=Ov(t):e.kind==="attribute"?n=Nv(t,e.attribute):e.kind==="position"&&(n=kv(t)),!!n){var r=n.mutations.indexOf(e);r!==-1&&n.mutations.splice(r,1),n.mutationRunner(n)}}function Av(e){if(!(e.kind==="position"&&e.elements.size===1)){var t=new Set(e.elements),n=document.querySelectorAll(e.selector);n.forEach(function(r){t.has(r)||(e.elements.add(r),CC(e,r))})}}function OC(e){e.elements.forEach(function(t){return kC(e,t)}),e.elements.clear(),zd.delete(e)}function np(){zd.forEach(Av)}var Yl;function NC(){typeof document>"u"||(Yl||(Yl=new MutationObserver(function(){np()})),np(),Yl.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))}NC();function il(e){return typeof document>"u"?Vd:(zd.add(e),Av(e),{revert:function(){OC(e)}})}function wc(e,t){return il({kind:"html",elements:new Set,mutate:t,selector:e})}function Iv(e,t){return il({kind:"position",elements:new Set,mutate:t,selector:e})}function ps(e,t){return il({kind:"class",elements:new Set,mutate:t,selector:e})}function Wo(e,t,n){return lC.test(t)?t==="class"||t==="className"?ps(e,function(r){var i=n(Array.from(r).join(" "));r.clear(),i&&i.split(/\s+/g).filter(Boolean).forEach(function(s){return r.add(s)})}):il({kind:"attribute",attribute:t,elements:new Set,mutate:n,selector:e}):Vd}function AC(e){var t=e.selector,n=e.action,r=e.value,i=e.attribute,s=e.parentSelector,o=e.insertBeforeSelector;if(i==="html"){if(n==="append")return wc(t,function(a){return a+(r??"")});if(n==="set")return wc(t,function(){return r??""})}else if(i==="class"){if(n==="append")return ps(t,function(a){r&&a.add(r)});if(n==="remove")return ps(t,function(a){r&&a.delete(r)});if(n==="set")return ps(t,function(a){a.clear(),r&&a.add(r)})}else if(i==="position"){if(n==="set"&&s)return Iv(t,function(){return{insertBeforeSelector:o,parentSelector:s}})}else{if(n==="append")return Wo(t,i,function(a){return a!==null?a+(r??""):r??""});if(n==="set")return Wo(t,i,function(){return r??""});if(n==="remove")return Wo(t,i,function(){return null})}return Vd}var IC={html:wc,classes:ps,attribute:Wo,position:Iv,declarative:AC};const Xl={};function Ur(e,t,n){n=n||{};for(const[r,i]of Object.entries(t))switch(r){case"$or":if(!rp(e,i,n))return!1;break;case"$nor":if(rp(e,i,n))return!1;break;case"$and":if(!MC(e,i,n))return!1;break;case"$not":if(Ur(e,i,n))return!1;break;default:if(!ms(i,RC(e,r),n))return!1}return!0}function RC(e,t){const n=t.split(".");let r=e;for(let i=0;i<n.length;i++)if(r&&typeof r=="object"&&n[i]in r)r=r[n[i]];else return null;return r}function DC(e){return Xl[e]||(Xl[e]=new RegExp(e.replace(/([^\\])\//g,"$1\\/"))),Xl[e]}function ms(e,t,n){if(typeof e=="string")return t+""===e;if(typeof e=="number")return t*1===e;if(typeof e=="boolean")return!!t===e;if(e===null)return t===null;if(Array.isArray(e)||!Rv(e))return JSON.stringify(t)===JSON.stringify(e);for(const r in e)if(!LC(r,t,e[r],n))return!1;return!0}function Rv(e){const t=Object.keys(e);return t.length>0&&t.filter(n=>n[0]==="$").length===t.length}function PC(e){if(e===null)return"null";if(Array.isArray(e))return"array";const t=typeof e;return["string","number","boolean","object","undefined"].includes(t)?t:"unknown"}function BC(e,t,n){if(!Array.isArray(e))return!1;const r=Rv(t)?i=>ms(t,i,n):i=>Ur(i,t,n);for(let i=0;i<e.length;i++)if(e[i]&&r(e[i]))return!0;return!1}function Eo(e,t){return Array.isArray(e)?e.some(n=>t.includes(n)):t.includes(e)}function LC(e,t,n,r){switch(e){case"$veq":return Qt(t)===Qt(n);case"$vne":return Qt(t)!==Qt(n);case"$vgt":return Qt(t)>Qt(n);case"$vgte":return Qt(t)>=Qt(n);case"$vlt":return Qt(t)<Qt(n);case"$vlte":return Qt(t)<=Qt(n);case"$eq":return t===n;case"$ne":return t!==n;case"$lt":return t<n;case"$lte":return t<=n;case"$gt":return t>n;case"$gte":return t>=n;case"$exists":return n?t!=null:t==null;case"$in":return Array.isArray(n)?Eo(t,n):!1;case"$inGroup":return Eo(t,r[n]||[]);case"$notInGroup":return!Eo(t,r[n]||[]);case"$nin":return Array.isArray(n)?!Eo(t,n):!1;case"$not":return!ms(n,t,r);case"$size":return Array.isArray(t)?ms(n,t.length,r):!1;case"$elemMatch":return BC(t,n,r);case"$all":if(!Array.isArray(t))return!1;for(let i=0;i<n.length;i++){let s=!1;for(let o=0;o<t.length;o++)if(ms(n[i],t[o],r)){s=!0;break}if(!s)return!1}return!0;case"$regex":try{return DC(n).test(t)}catch{return!1}case"$type":return PC(t)===n;default:return console.error("Unknown operator: "+e),!1}}function rp(e,t,n){if(!t.length)return!0;for(let r=0;r<t.length;r++)if(Ur(e,t[r],n))return!0;return!1}function MC(e,t,n){for(let r=0;r<t.length;r++)if(!Ur(e,t[r],n))return!1;return!0}function UC(e){const t=new Map;return e.global.forcedFeatureValues&&e.global.forcedFeatureValues.forEach((n,r)=>t.set(r,n)),e.user.forcedFeatureValues&&e.user.forcedFeatureValues.forEach((n,r)=>t.set(r,n)),t}function jC(e){return e.global.forcedVariations&&e.user.forcedVariations?{...e.global.forcedVariations,...e.user.forcedVariations}:e.global.forcedVariations?e.global.forcedVariations:e.user.forcedVariations?e.user.forcedVariations:{}}function Hd(e,t){if(t.stack.evaluatedFeatures.has(e))return qn(t,e,null,"cyclicPrerequisite");t.stack.evaluatedFeatures.add(e),t.stack.id=e;const n=UC(t);if(n.has(e))return qn(t,e,n.get(e),"override");if(!t.global.features||!t.global.features[e])return qn(t,e,null,"unknownFeature");const r=t.global.features[e];if(r.rules)e:for(const i of r.rules){if(i.parentConditions)for(const a of i.parentConditions){const l=Hd(a.id,t);if(l.source==="cyclicPrerequisite")return qn(t,e,null,"cyclicPrerequisite");const u={value:l.value};if(!Ur(u,a.condition||{})){if(a.gate)return qn(t,e,null,"prerequisite");continue e}}if(i.filters&&Pv(i.filters,t))continue;if("force"in i){if(i.condition&&!Dv(i.condition,t)||!FC(t,i.seed||e,i.hashAttribute,t.user.saveStickyBucketAssignmentDoc&&!i.disableStickyBucketing?i.fallbackAttribute:void 0,i.range,i.coverage,i.hashVersion))continue;return i.tracks&&i.tracks.forEach(a=>{let l=!1;t.global.trackingCallback&&(l=!0,Promise.resolve(t.global.trackingCallback(a.experiment,a.result,t.user)).catch(()=>{})),t.user.trackingCallback&&(l=!0,Promise.resolve(t.user.trackingCallback(a.experiment,a.result)).catch(()=>{})),!l&&t.global.saveDeferredTrack&&t.global.saveDeferredTrack({experiment:a.experiment,result:a.result})}),qn(t,e,i.force,"force",i.id)}if(!i.variations)continue;const s={variations:i.variations,key:i.key||e};"coverage"in i&&(s.coverage=i.coverage),i.weights&&(s.weights=i.weights),i.hashAttribute&&(s.hashAttribute=i.hashAttribute),i.fallbackAttribute&&(s.fallbackAttribute=i.fallbackAttribute),i.disableStickyBucketing&&(s.disableStickyBucketing=i.disableStickyBucketing),i.bucketVersion!==void 0&&(s.bucketVersion=i.bucketVersion),i.minBucketVersion!==void 0&&(s.minBucketVersion=i.minBucketVersion),i.namespace&&(s.namespace=i.namespace),i.meta&&(s.meta=i.meta),i.ranges&&(s.ranges=i.ranges),i.name&&(s.name=i.name),i.phase&&(s.phase=i.phase),i.seed&&(s.seed=i.seed),i.hashVersion&&(s.hashVersion=i.hashVersion),i.filters&&(s.filters=i.filters),i.condition&&(s.condition=i.condition);const{result:o}=_c(s,e,t);if(t.global.onExperimentEval&&t.global.onExperimentEval(s,o),o.inExperiment&&!o.passthrough)return qn(t,e,o.value,"experiment",i.id,s,o)}return qn(t,e,r.defaultValue===void 0?null:r.defaultValue,"defaultValue")}function _c(e,t,n){const r=e.key,i=e.variations.length;if(i<2)return{result:Fe(n,e,-1,!1,t)};if(n.global.enabled===!1||n.user.enabled===!1)return{result:Fe(n,e,-1,!1,t)};if(e=VC(e,n),e.urlPatterns&&!Sv(n.user.url||"",e.urlPatterns))return{result:Fe(n,e,-1,!1,t)};const s=GT(r,n.user.url||"",i);if(s!==null)return{result:Fe(n,e,s,!1,t)};const o=jC(n);if(r in o){const S=o[r];return{result:Fe(n,e,S,!1,t)}}if(e.status==="draft"||e.active===!1)return{result:Fe(n,e,-1,!1,t)};const{hashAttribute:a,hashValue:l}=Br(n,e.hashAttribute,n.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing?e.fallbackAttribute:void 0);if(!l)return{result:Fe(n,e,-1,!1,t)};let u=-1,f=!1,p=!1;if(n.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing){const{variation:S,versionIsBlocked:m}=$C({ctx:n,expKey:e.key,expBucketVersion:e.bucketVersion,expHashAttribute:e.hashAttribute,expFallbackAttribute:e.fallbackAttribute,expMinBucketVersion:e.minBucketVersion,expMeta:e.meta});f=S>=0,u=S,p=!!m}if(!f){if(e.filters){if(Pv(e.filters,n))return{result:Fe(n,e,-1,!1,t)}}else if(e.namespace&&!VT(l,e.namespace))return{result:Fe(n,e,-1,!1,t)};if(e.include&&!qT(e.include))return{result:Fe(n,e,-1,!1,t)};if(e.condition&&!Dv(e.condition,n))return{result:Fe(n,e,-1,!1,t)};if(e.parentConditions)for(const S of e.parentConditions){const m=Hd(S.id,n);if(m.source==="cyclicPrerequisite")return{result:Fe(n,e,-1,!1,t)};const g={value:m.value};if(!Ur(g,S.condition||{}))return{result:Fe(n,e,-1,!1,t)}}if(e.groups&&!HC(e.groups,n))return{result:Fe(n,e,-1,!1,t)}}if(e.url&&!zC(e.url,n))return{result:Fe(n,e,-1,!1,t)};const c=el(e.seed||r,l,e.hashVersion||1);if(c===null)return{result:Fe(n,e,-1,!1,t)};if(!f){const S=e.ranges||KT(i,e.coverage===void 0?1:e.coverage,e.weights);u=zT(c,S)}if(p)return{result:Fe(n,e,-1,!1,t,void 0,!0)};if(u<0)return{result:Fe(n,e,-1,!1,t)};if("force"in e)return{result:Fe(n,e,e.force===void 0?-1:e.force,!1,t)};if(n.global.qaMode||n.user.qaMode)return{result:Fe(n,e,-1,!1,t)};if(e.status==="stopped")return{result:Fe(n,e,-1,!1,t)};const w=Fe(n,e,u,!0,t,c,f);if(n.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing){const{changed:S,key:m,doc:g}=KC(n,a,Ca(l),{[Sc(e.key,e.bucketVersion)]:w.key});S&&(n.user.stickyBucketAssignmentDocs=n.user.stickyBucketAssignmentDocs||{},n.user.stickyBucketAssignmentDocs[m]=g,n.user.saveStickyBucketAssignmentDoc(g))}const d=[];n.global.trackingCallback&&d.push(Promise.resolve(n.global.trackingCallback(e,w,n.user)).catch(()=>{})),n.user.trackingCallback&&d.push(Promise.resolve(n.user.trackingCallback(e,w)).catch(()=>{})),d.length===0&&n.global.saveDeferredTrack&&n.global.saveDeferredTrack({experiment:e,result:w});const y=d.length?d.length===1?d[0]:Promise.all(d).then(()=>{}):void 0;return"changeId"in e&&e.changeId&&n.global.recordChangeId&&n.global.recordChangeId(e.changeId),{result:w,trackingCall:y}}function qn(e,t,n,r,i,s,o){const a={value:n,on:!!n,off:!n,source:r,ruleId:i||""};if(s&&(a.experiment=s),o&&(a.experimentResult=o),r!=="override"){if(e.global.onFeatureUsage)try{e.global.onFeatureUsage(t,a,e.user)}catch{}if(e.user.onFeatureUsage)try{e.user.onFeatureUsage(t,a)}catch{}}return a}function Dv(e,t){return Ur(t.user.attributes||{},e,t.global.savedGroups||{})}function Pv(e,t){return e.some(n=>{const{hashValue:r}=Br(t,n.attribute);if(!r)return!0;const i=el(n.seed,r,n.hashVersion||2);return i===null?!0:!n.ranges.some(s=>Ld(i,s))})}function FC(e,t,n,r,i,s,o){if(!i&&s===void 0)return!0;if(!i&&s===0)return!1;const{hashValue:a}=Br(e,n,r);if(!a)return!1;const l=el(t,a,o||1);return l===null?!1:i?Ld(l,i):s!==void 0?l<=s:!0}function Fe(e,t,n,r,i,s,o){let a=!0;(n<0||n>=t.variations.length)&&(n=0,a=!1);const{hashAttribute:l,hashValue:u}=Br(e,t.hashAttribute,e.user.saveStickyBucketAssignmentDoc&&!t.disableStickyBucketing?t.fallbackAttribute:void 0),f=t.meta?t.meta[n]:{},p={key:f.key||""+n,featureId:i,inExperiment:a,hashUsed:r,variationId:n,value:t.variations[n],hashAttribute:l,hashValue:u,stickyBucketUsed:!!o};return f.name&&(p.name=f.name),s!==void 0&&(p.bucket=s),f.passthrough&&(p.passthrough=f.passthrough),p}function VC(e,t){const n=e.key,r=t.global.overrides;return r&&r[n]&&(e=Object.assign({},e,r[n]),typeof e.url=="string"&&(e.url=_v(e.url))),e}function Br(e,t,n){let r=t||"id",i="";return e.user.attributes&&e.user.attributes[r]&&(i=e.user.attributes[r]),e.user.attributes&&!i&&n&&(e.user.attributes[n]&&(i=e.user.attributes[n]),i&&(r=n)),{hashAttribute:r,hashValue:i}}function zC(e,t){const n=t.user.url;if(!n)return!1;const r=n.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");return!!(e.test(n)||e.test(r))}function HC(e,t){const n=t.global.groups||{};for(let r=0;r<e.length;r++)if(n[e[r]])return!0;return!1}function $C(e){let{ctx:t,expKey:n,expBucketVersion:r,expHashAttribute:i,expFallbackAttribute:s,expMinBucketVersion:o,expMeta:a}=e;r=r||0,o=o||0,i=i||"id",a=a||[];const l=Sc(n,r),u=WC(t,i,s);if(o>0)for(let c=0;c<=o;c++){const w=Sc(n,c);if(u[w]!==void 0)return{variation:-1,versionIsBlocked:!0}}const f=u[l];if(f===void 0)return{variation:-1};const p=a.findIndex(c=>c.key===f);return p<0?{variation:-1}:{variation:p}}function Sc(e,t){return t=t||0,`${e}__${t}`}function WC(e,t,n){if(!e.user.stickyBucketAssignmentDocs)return{};const{hashAttribute:r,hashValue:i}=Br(e,t),s=`${r}||${Ca(i)}`,{hashAttribute:o,hashValue:a}=Br(e,n),l=a?`${o}||${Ca(a)}`:null,u={};return l&&e.user.stickyBucketAssignmentDocs[l]&&Object.assign(u,e.user.stickyBucketAssignmentDocs[l].assignments||{}),e.user.stickyBucketAssignmentDocs[s]&&Object.assign(u,e.user.stickyBucketAssignmentDocs[s].assignments||{}),u}function KC(e,t,n,r){const i=`${t}||${n}`,s=e.user.stickyBucketAssignmentDocs&&e.user.stickyBucketAssignmentDocs[i]?e.user.stickyBucketAssignmentDocs[i].assignments||{}:{},o={...s,...r},a=JSON.stringify(s)!==JSON.stringify(o);return{key:i,doc:{attributeName:t,attributeValue:n,assignments:o},changed:a}}function GC(e,t){const n=new Set,r=t&&t.features?t.features:e.global.features||{},i=t&&t.experiments?t.experiments:e.global.experiments||[];return Object.keys(r).forEach(s=>{const o=r[s];if(o.rules)for(const a of o.rules)a.variations&&(n.add(a.hashAttribute||"id"),a.fallbackAttribute&&n.add(a.fallbackAttribute))}),i.map(s=>{n.add(s.hashAttribute||"id"),s.fallbackAttribute&&n.add(s.fallbackAttribute)}),Array.from(n)}async function qC(e,t,n){const r=QC(e,n);return t.getAllAssignments(r)}function QC(e,t){const n={};return GC(e,t).forEach(i=>{const{hashValue:s}=Br(e,i);n[i]=Ca(s)}),n}async function JC(e,t,n){if(e={...e},e.encryptedFeatures){try{e.features=JSON.parse(await hs(e.encryptedFeatures,t,n))}catch(r){console.error(r)}delete e.encryptedFeatures}if(e.encryptedExperiments){try{e.experiments=JSON.parse(await hs(e.encryptedExperiments,t,n))}catch(r){console.error(r)}delete e.encryptedExperiments}if(e.encryptedSavedGroups){try{e.savedGroups=JSON.parse(await hs(e.encryptedSavedGroups,t,n))}catch(r){console.error(r)}delete e.encryptedSavedGroups}return e}function YC(e){const t=e.apiHost||"https://cdn.growthbook.io";return{apiHost:t.replace(/\/*$/,""),streamingHost:(e.streamingHost||t).replace(/\/*$/,""),apiRequestHeaders:e.apiHostRequestHeaders,streamingHostRequestHeaders:e.streamingHostRequestHeaders}}const Vr=typeof window<"u"&&typeof document<"u",XC=QT();class ZC{constructor(t){if(t=t||{},this.version=XC,this._options=this.context=t,this._renderer=t.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!t.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._attributeOverrides={},this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!t.disableExperimentsOnLoad,this.log=this.log.bind(this),this._track=this._track.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._trackFeatureUsage=this._trackFeatureUsage.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),t.remoteEval){if(t.decryptionKey)throw new Error("Encryption is not available for remoteEval");if(!t.clientKey)throw new Error("Missing clientKey");let n=!1;try{n=!!new URL(t.apiHost||"").hostname.match(/growthbook\.io$/i)}catch{}if(n)throw new Error("Cannot use remoteEval on GrowthBook Cloud")}else if(t.cacheKeyAttributes)throw new Error("cacheKeyAttributes are only used for remoteEval");if(t.stickyBucketService){const n=t.stickyBucketService;this._saveStickyBucketAssignmentDoc=r=>n.saveAssignments(r)}if(t.features&&(this.ready=!0),Vr&&t.enableDevMode&&(window._growthbook=this,document.dispatchEvent(new Event("gbloaded"))),t.experiments&&(this.ready=!0,this._updateAllAutoExperiments()),this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(const n in this._options.stickyBucketAssignmentDocs){const r=this._options.stickyBucketAssignmentDocs[n];r&&this._options.stickyBucketService.saveAssignments(r).catch(()=>{})}this.ready&&this.refreshStickyBuckets(this.getPayload())}async setPayload(t){this._payload=t;const n=await JC(t,this._options.decryptionKey);this._decryptedPayload=n,await this.refreshStickyBuckets(n),n.features&&(this._options.features=n.features),n.savedGroups&&(this._options.savedGroups=n.savedGroups),n.experiments&&(this._options.experiments=n.experiments,this._updateAllAutoExperiments()),this.ready=!0,this._render()}initSync(t){this._initialized=!0;const n=t.payload;if(n.encryptedExperiments||n.encryptedFeatures)throw new Error("initSync does not support encrypted payloads");if(this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs)throw new Error("initSync requires you to pass stickyBucketAssignmentDocs into the GrowthBook constructor");return this._payload=n,this._decryptedPayload=n,n.features&&(this._options.features=n.features),n.experiments&&(this._options.experiments=n.experiments,this._updateAllAutoExperiments()),this.ready=!0,Jl(this,t),this}async init(t){if(this._initialized=!0,t=t||{},t.cacheSettings&&YT(t.cacheSettings),t.payload)return await this.setPayload(t.payload),Jl(this,t),{success:!0,source:"init"};{const{data:n,...r}=await this._refresh({...t,allowStale:!0});return Jl(this,t),await this.setPayload(n||{}),r}}async loadFeatures(t){t=t||{},await this.init({skipCache:t.skipCache,timeout:t.timeout,streaming:(this._options.backgroundSync??!0)&&(t.autoRefresh||this._options.subscribeToChanges)})}async refreshFeatures(t){const n=await this._refresh({...t||{},allowStale:!1});n.data&&await this.setPayload(n.data)}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return YC(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}async _refresh(t){let{timeout:n,skipCache:r,allowStale:i,streaming:s}=t;if(!this._options.clientKey)throw new Error("Missing clientKey");return XT({instance:this,timeout:n,skipCache:r||this._options.disableCache,allowStale:i,backgroundSync:s??this._options.backgroundSync??!0})}_render(){if(this._renderer)try{this._renderer()}catch(t){console.error("Failed to render",t)}}setFeatures(t){this._options.features=t,this.ready=!0,this._render()}async setEncryptedFeatures(t,n,r){const i=await hs(t,n||this._options.decryptionKey,r);this.setFeatures(JSON.parse(i))}setExperiments(t){this._options.experiments=t,this.ready=!0,this._updateAllAutoExperiments()}async setEncryptedExperiments(t,n,r){const i=await hs(t,n||this._options.decryptionKey,r);this.setExperiments(JSON.parse(i))}async setAttributes(t){if(this._options.attributes=t,this._options.stickyBucketService&&await this.refreshStickyBuckets(),this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async updateAttributes(t){return this.setAttributes({...this._options.attributes,...t})}async setAttributeOverrides(t){if(this._attributeOverrides=t,this._options.stickyBucketService&&await this.refreshStickyBuckets(),this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}async setForcedVariations(t){if(this._options.forcedVariations=t||{},this._options.remoteEval){await this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()}setForcedFeatures(t){this._forcedFeatureValues=t,this._render()}async setURL(t){if(t!==this._options.url){if(this._options.url=t,this._redirectedUrl="",this._options.remoteEval){await this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}}getAttributes(){return{...this._options.attributes,...this._attributeOverrides}}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(t){return this._subscriptions.add(t),()=>{this._subscriptions.delete(t)}}async _refreshForRemoteEval(){if(!this._options.remoteEval||!this._initialized)return;const t=await this._refresh({allowStale:!1});t.data&&await this.setPayload(t.data)}getAllResults(){return new Map(this._assigned)}destroy(){this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,eC(this),Vr&&window._growthbook===this&&delete window._growthbook,this._activeAutoExperiments.forEach(t=>{t.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(t){this._renderer=t}forceVariation(t,n){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[t]=n,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(t){const{result:n}=_c(t,null,this._getEvalContext());return this._fireSubscriptions(t,n),n}triggerExperiment(t){return this._triggeredExpKeys.add(t),this._options.experiments?this._options.experiments.filter(r=>r.key===t).map(r=>this._runAutoExperiment(r)).filter(r=>r!==null):null}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?{...this._options.user,...this.getAttributes()}:this.getAttributes(),blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._forcedFeatureValues,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback?this._track:void 0,onFeatureUsage:this._options.onFeatureUsage?this._trackFeatureUsage:void 0}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack}}_runAutoExperiment(t,n){const r=this._activeAutoExperiments.get(t);if(t.manual&&!this._triggeredExpKeys.has(t.key)&&!r)return null;const i=this._isAutoExperimentBlockedByContext(t);let s,o;i?s=Fe(this._getEvalContext(),t,-1,!1,""):({result:s,trackingCall:o}=_c(t,null,this._getEvalContext()),this._fireSubscriptions(t,s));const a=JSON.stringify(s.value);if(!n&&s.inExperiment&&r&&r.valueHash===a)return s;if(r&&this._undoActiveAutoExperiment(t),s.inExperiment){const l=Ql(t);if(l==="redirect"&&s.value.urlRedirect&&t.urlPatterns){const u=t.persistQueryString?JT(this._getContextUrl(),s.value.urlRedirect):s.value.urlRedirect;if(Sv(u,t.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:t.key}),s;this._redirectedUrl=u;const{navigate:f,delay:p}=this._getNavigateFunction();if(f)if(Vr)Promise.all([...o?[Ev(o,this._options.maxNavigateDelay??1e3)]:[],new Promise(c=>window.setTimeout(c,this._options.navigateDelay??p))]).then(()=>{try{f(u)}catch(c){console.error(c)}});else try{f(u)}catch(c){console.error(c)}}else if(l==="visual"){const u=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(s.value):this._applyDOMChanges(s.value);u&&this._activeAutoExperiments.set(t,{undo:u,valueHash:a})}}return s}_undoActiveAutoExperiment(t){const n=this._activeAutoExperiments.get(t);n&&(n.undo(),this._activeAutoExperiments.delete(t))}_updateAllAutoExperiments(t){if(!this._autoExperimentsAllowed)return;const n=this._options.experiments||[],r=new Set(n);this._activeAutoExperiments.forEach((i,s)=>{r.has(s)||(i.undo(),this._activeAutoExperiments.delete(s))});for(const i of n){const s=this._runAutoExperiment(i,t);if(s!=null&&s.inExperiment&&Ql(i)==="redirect")break}}_fireSubscriptions(t,n){const r=t.key,i=this._assigned.get(r);(!i||i.result.inExperiment!==n.inExperiment||i.result.variationId!==n.variationId)&&(this._assigned.set(r,{experiment:t,result:n}),this._subscriptions.forEach(s=>{try{s(t,n)}catch(o){console.error(o)}}))}_recordChangedId(t){this._completedChangeIds.add(t)}_trackFeatureUsage(t,n){const r=JSON.stringify(n.value);if(this._trackedFeatures[t]!==r&&(this._trackedFeatures[t]=r,this._options.onFeatureUsage))try{this._options.onFeatureUsage(t,n)}catch{}}isOn(t){return this.evalFeature(t).on}isOff(t){return this.evalFeature(t).off}getFeatureValue(t,n){const r=this.evalFeature(t).value;return r===null?n:r}feature(t){return this.evalFeature(t)}evalFeature(t){return Hd(t,this._getEvalContext())}log(t,n){this.debug&&(this._options.log?this._options.log(t,n):console.log(t,n))}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(t){this._deferredTrackingCalls=new Map(t.filter(n=>n&&n.experiment&&n.result).map(n=>[this._getTrackKey(n.experiment,n.result),n]))}async fireDeferredTrackingCalls(){if(!this._options.trackingCallback)return;const t=[];this._deferredTrackingCalls.forEach(n=>{!n||!n.experiment||!n.result?console.error("Invalid deferred tracking call",{call:n}):t.push(this._track(n.experiment,n.result))}),this._deferredTrackingCalls.clear(),await Promise.all(t)}setTrackingCallback(t){this._options.trackingCallback=t,this.fireDeferredTrackingCalls()}_getTrackKey(t,n){return n.hashAttribute+n.hashValue+t.key+n.variationId}_saveDeferredTrack(t){this._deferredTrackingCalls.set(this._getTrackKey(t.experiment,t.result),t)}async _track(t,n){if(!this._options.trackingCallback)return;const r=this._getTrackKey(t,n);if(!this._trackedExperiments.has(r)){this._trackedExperiments.add(r);try{await this._options.trackingCallback(t,n)}catch(i){console.error(i)}}}_getContextUrl(){return this._options.url||(Vr?window.location.href:"")}_isAutoExperimentBlockedByContext(t){const n=Ql(t);if(n==="visual"){if(this._options.disableVisualExperiments||this._options.disableJsInjection&&t.variations.some(r=>r.js))return!0}else if(n==="redirect"){if(this._options.disableUrlRedirectExperiments)return!0;try{const r=new URL(this._getContextUrl());for(const i of t.variations){if(!i||!i.urlRedirect)continue;const s=new URL(i.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments&&(s.protocol!==r.protocol||s.host!==r.host))return!0}}catch(r){return this.log("Error parsing current or redirect URL",{id:t.key,error:r}),!0}}else return!0;return!!(t.changeId&&(this._options.blockedChangeIds||[]).includes(t.changeId))}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){return this._options.navigate?{navigate:this._options.navigate,delay:0}:Vr?{navigate:t=>{window.location.replace(t)},delay:100}:{navigate:null,delay:0}}_applyDOMChanges(t){if(!Vr)return;const n=[];if(t.css){const r=document.createElement("style");r.innerHTML=t.css,document.head.appendChild(r),n.push(()=>r.remove())}if(t.js){const r=document.createElement("script");r.innerHTML=t.js,this._options.jsInjectionNonce&&(r.nonce=this._options.jsInjectionNonce),document.head.appendChild(r),n.push(()=>r.remove())}return t.domMutations&&t.domMutations.forEach(r=>{n.push(IC.declarative(r).revert)}),()=>{n.forEach(r=>r())}}async refreshStickyBuckets(t){if(this._options.stickyBucketService){const n=this._getEvalContext(),r=await qC(n,this._options.stickyBucketService,t);this._options.stickyBucketAssignmentDocs=r}}}const Bv=E.createContext({});function ek(e,t){return tk().getFeatureValue(e,t)}function tk(){const{growthbook:e}=E.useContext(Bv);if(!e)throw new Error("Missing or invalid GrowthBookProvider");return e}const nk=({children:e,growthbook:t})=>{const[n,r]=E.useState(0);return E.useEffect(()=>{if(!(!t||!t.setRenderer))return t.setRenderer(()=>{r(i=>i+1)}),()=>{t.setRenderer(()=>{})}},[t]),E.createElement(Bv.Provider,{value:{growthbook:t}},e)},$d=new ZC({apiHost:"https://cdn.growthbook.io",clientKey:"sdk-V4WkIngcsJ90DDAV",enableDevMode:!0,trackingCallback:(e,t)=>{console.log("Experiment Viewed",{experimentId:e.key,variationId:t.key})}});$d.init({streaming:!1});class rk{constructor(t,n,r={}){var i;this.botConfig=t,this.currentNudge=n,this.options=r,this.options={zIndex:{container:11,dialog:10,icon:9,nudge:8,...r.zIndex},spacing:{container:4,icon:0,nudge:0,...r.spacing},dimensions:{dialog:{maxWidth:450,width:"min(98vw, 360px)",height:"100vh",...(i=r.dimensions)==null?void 0:i.dialog}},customPositioning:{container:{},dialog:{},icon:{},nudge:{},...r.customPositioning},variant:{transparent:!1,...r.variant}}}getIconSize(){const[t]=xd(this.botConfig.icon.size,this.botConfig.icon.width,this.botConfig.icon.height);return t}getNudgeVariantStyle(t,n){switch(this.currentNudge.variant){case Ke.TEXT_WITH_BUTTON:return{bottom:`${t*.5}px`,left:n?`${t*.5}px`:"auto",right:n?"auto":`${t*.5}px`,justifyContent:n?"flex-start":"flex-end",alignItems:n?"flex-start":"flex-end"};case Ke.TEXT_WITH_PLACEHOLDER:return{bottom:`${t+20}px`,left:n?0:"auto",right:n?"auto":0,justifyContent:n?"flex-start":"flex-end",alignItems:"flex-start"};case Ke.TRANSPARENT_WITH_BUTTON:return{bottom:`${t+30}px`,left:n?0:"auto",right:n?"auto":0,justifyContent:n?"flex-start":"flex-end",alignItems:"flex-end"};default:return{bottom:`${t*.5}px`,left:n?`${t*.5}px`:"auto",right:n?"auto":`${t*.5}px`,justifyContent:n?"flex-start":"flex-end",alignItems:n?"flex-start":"flex-end"}}}getContainerStyle(){var t,n,r,i,s;return{position:"fixed",bottom:`${(t=this.options.spacing)==null?void 0:t.container}px`,left:`${(n=this.options.spacing)==null?void 0:n.container}px`,right:`${(r=this.options.spacing)==null?void 0:r.container}px`,zIndex:(i=this.options.zIndex)==null?void 0:i.container,...(s=this.options.customPositioning)==null?void 0:s.container}}getDialogStyle(){var r,i,s;const t=this.botConfig.alignment===bt.LEFT,n=(r=this.options.dimensions)==null?void 0:r.dialog;return{position:"absolute",bottom:0,left:t?"0":"auto",right:t?"auto":"0",width:`min(${n==null?void 0:n.width}, ${n==null?void 0:n.maxWidth}px)`,height:n==null?void 0:n.height,zIndex:(i=this.options.zIndex)==null?void 0:i.dialog,...(s=this.options.customPositioning)==null?void 0:s.dialog}}getIconStyle(){var r,i,s;const t=this.botConfig.alignment===bt.LEFT,n=((r=this.options.spacing)==null?void 0:r.icon)||0;return{position:"absolute",bottom:`${n}px`,left:t?`${n}px`:"auto",right:t?"auto":`${n}px`,zIndex:(i=this.options.zIndex)==null?void 0:i.icon,...(s=this.options.customPositioning)==null?void 0:s.icon}}getNudgeStyle(){var r,i,s;const t=this.getIconSize(),n=this.botConfig.alignment===bt.LEFT;return{position:"absolute",width:`min(100vw, ${this.currentNudge.iframeDimension.width})`,maxWidth:`calc(${this.currentNudge.iframeDimension.width} - 50px)`,zIndex:(r=this.options.zIndex)==null?void 0:r.nudge,...this.getNudgeVariantStyle(t,n),...(i=this.options.variant)==null?void 0:i.customStyle,...(s=this.options.customPositioning)==null?void 0:s.nudge}}getAllStyles(){return{containerStyle:this.getContainerStyle(),dialogStyle:this.getDialogStyle(),iconStyle:this.getIconStyle(),nudgeStyle:this.getNudgeStyle()}}}const ip=e=>{var s;const[t,n]=E.useState();E.useEffect(()=>{var o;if((o=e.currentBotState)!=null&&o.colorShades){ne("modal notification style config initialized");const a={position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999,textAlign:"center"},l={background:"white",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)",padding:"24px",width:e.notification.width?`${e.notification.width}`:"400px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto"};n({container:a,card:l,text:{fontSize:"16px",color:"rgb(75 85 99)"},heading:{fontSize:"1.25rem",color:"#000000",fontWeight:"bold"}})}},[(s=e.currentBotState)==null?void 0:s.colorShades,e.notification]);function r(o){e.handleBotTriggers(M.CLOSE_NOTIFICATION,{source:o})}const i=o=>{o.stopPropagation(),e.handleBotTriggers(M.CLOSE_NOTIFICATION_OPEN_BOT,{source:ce.NOTIFICATION_BUTTON})};return v.jsxs("div",{style:t==null?void 0:t.container,onClick:()=>r(ce.BACKGROUND_CLICK),children:[v.jsxs("div",{className:"opacity-0 animate-fadeIn cursor-pointer",style:t==null?void 0:t.card,onClick:o=>i(o),children:[v.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1 rounded-full bg-transparent border-0 absolute top-2 right-2",onClick:()=>r(ce.NOTIFICATION_CLOSE_BUTTON),children:v.jsx("span",{className:"text-xl",children:"✕"})}),e.notification.title&&v.jsx("div",{className:"w-full justify-between items-start mb-4",children:v.jsx("h3",{className:"text-4xl text-center font-semibold m-0",children:e.notification.title||"👋"})}),e.notification.heading&&v.jsx("div",{className:"mb-2",children:v.jsx("p",{style:t==null?void 0:t.heading,children:e.notification.heading||"Wait! Having second thoughts?"})}),e.notification.text&&v.jsx("div",{className:"mb-6",children:v.jsx("p",{style:t==null?void 0:t.text,children:e.notification.text})}),v.jsx("div",{className:"",children:e.notification.buttons&&e.notification.buttons.map(o=>v.jsx("button",{style:{background:e.currentBotState.colorShades.primary},onClick:a=>i(a),className:"py-3 text-white w-full bg-black rounded-md font-semibold text-sm hover:scale-[1.01]",children:o.text||"Chat Now"}))})]}),v.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out forwards;
        }
      `})]})},ik=e=>{var i;const[t,n]=E.useState();E.useEffect(()=>{var s,o,a,l,u;if((s=e.currentBotState)!=null&&s.colorShades){ne("banner notification style config initialized");const f={position:"fixed",top:0,left:0,right:0,zIndex:9999},p={background:((o=e.currentBotState.botConfig.notification)==null?void 0:o.background)||`linear-gradient(to right, ${e.currentBotState.colorShades.primary} 0%, ${e.currentBotState.colorShades.s1} 100%)`,padding:"12px 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},c={fontSize:((u=(l=(a=e.currentBotState)==null?void 0:a.botConfig)==null?void 0:l.notification)==null?void 0:u.textSize)||"14px",color:"#FFFFFF",margin:0};n({container:f,card:p,text:c})}},[(i=e.currentBotState)==null?void 0:i.colorShades]);function r(){Ie("BANNER_NOTIFICATION:close",{verifast_index:selectedIndex,verifast_uid:customerId,current_time:be()}),e.handleNotificationTriggers(M.CLOSE_NOTIFICATION,{source:ce.NOTIFICATION_CLOSE_BUTTON})}return v.jsxs("div",{style:t==null?void 0:t.container,className:"notification-banner opacity-0",children:[v.jsxs("div",{style:t==null?void 0:t.card,className:"w-full",children:[v.jsx("p",{style:t==null?void 0:t.text,children:e.notification.text}),v.jsx("button",{className:"text-white hover:text-gray-200 p-1 rounded-full bg-transparent border-0",onClick:r,children:v.jsx("span",{className:"text-sm",children:"✕"})})]}),v.jsx("style",{children:`
        .notification-banner {
          animation: slideDown 0.5s ease-out forwards;
        }
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-100%);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})},sk=e=>{const[t,n]=E.useState(!0),r=E.useRef(null);E.useRef(null);const i=E.useRef(null),s=()=>{if(!e.currentNotification)return null;const l={notification:e.currentNotification,handleBotTriggers:e.handleBotTriggers,currentBotState:e.currentBotState,setCurrentBotState:e.setCurrentBotState};switch(e.currentNotification.variant){case _n.MODAL:return v.jsx(ip,{...l});case _n.BANNER:return v.jsx(ik,{...l});case _n.TOAST:default:return v.jsx(ip,{...l})}},o=()=>!e.currentNotification||e.currentNotification.variant!==_n.MODAL?null:v.jsx("div",{ref:i,className:`fixed inset-0 bg-black bg-opacity-50 z-[9998] transition-opacity duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:()=>e.handleBotTriggers(M.CLOSE_NOTIFICATION,{source:ce.BACKGROUND_CLICK})});if(!e.currentNotification)return null;let a="";return e.currentNotification.variant===_n.BANNER?a="top-0 left-0 right-0":a="inset-0 flex items-center justify-center",v.jsxs(v.Fragment,{children:[o(),v.jsx("div",{ref:r,className:`fixed ${a} z-[9999] transition-all duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:l=>{var u;((u=e.currentNotification)==null?void 0:u.variant)!==_n.MODAL&&l.target===l.currentTarget&&e.handleBotTriggers(M.CLOSE_NOTIFICATION,{source:ce.BACKGROUND_CLICK})},children:s()})]})};function ok(e,t,n,r){try{const i=e.data;if(i.event_name!=="actionable_interaction")return;const o=Object.keys(i.data||{}).find(f=>{var p;return(p=i.data[f])==null?void 0:p.config}),a=o?i.data[o].config:null;if(ne("actionConfig",a),!a||!a.actionType){console.error("No valid action config found in event data");return}if(a.eventProperties)try{window.eventProperties=a.eventProperties}catch(f){console.error("Error in setting event properties",f)}const u={nudge:(f,p,c)=>{var d,y,S,m,g,h,_;if(a.visibility===!1){console.log("Visibility is false, skipping action");let x=f.actionType?`${f.actionType}:${p}:skipped`:"";Ie(x,{verifast_index:re,verifast_uid:Te,current_time:be()});return}if(!f.text){console.error("No valid nudge config found in event data");return}const w={type:_i.PROACTIVE,variant:bd(f.variant)||Ke.TEXT_ONLY,text:f.text,renderer:$e.PROACTIVE,iframeDimension:{width:((y=(d=f.config)==null?void 0:d.iframeDimension)==null?void 0:y.width)||"200px",height:((m=(S=f.config)==null?void 0:S.iframeDimension)==null?void 0:m.height)||"120px"},width:300,duration:((g=f.config)==null?void 0:g.duration)||15,buttons:(_=(h=f.config)==null?void 0:h.buttons)==null?void 0:_.map(x=>({text:x})),eventName:f.actionType?`${f.actionType}:${p}`:""};c(M.NEW_NUDGE,{source:ce.DIALOG_CLOSE_BUTTON,nudgeConfig:w})},notification:(f,p,c)=>{var d,y,S,m,g,h,_,x;if(f.visibility===!1){console.log("Visibility is false, skipping action");let C=f.actionType?`${f.actionType}:${p}:skipped`:"";Ie(C,{verifast_index:re,verifast_uid:Te,current_time:be()});return}const w={type:$a.PROACTIVE,variant:f.variant?f.variant:_n.MODAL,heading:f.heading??"",title:f.title??"",text:f.text??"",iframeDimension:{width:((y=(d=f.config)==null?void 0:d.iframeDimension)==null?void 0:y.width)||"200px",height:((m=(S=f.config)==null?void 0:S.iframeDimension)==null?void 0:m.width)||"120px"},width:((g=f.config)==null?void 0:g.width)||"400px",buttons:(_=(h=f.config)==null?void 0:h.buttons)==null?void 0:_.map(C=>({text:C})),duration:((x=f.config)==null?void 0:x.duration)||15,eventName:f.actionType?`${f.actionType}:${p}`:""};console.log("newNotification",w),c(M.NEW_NOTIFICATION,{source:ce.DIALOG_CLOSE_BUTTON,notificationConfig:w})}}[a.actionType];u?u(a,o,t):console.error("No handler for action type:",a.actionType),a.additionalActions&&a.additionalActions.forEach(f=>{ak(f,n,r)})}catch(i){console.error("Error in actionable interaction",i)}}function ak(e,t,n){const i={newAIMessage:s=>{s.text&&n(s.text)},followupQuestion:s=>{let o=[];s.buttons&&s.buttons.length>0&&s.buttons.forEach(a=>{o.push({label:a,value:a,renderer:$e.BACKEND})}),t(o)}}[e.type];i(e,t,n)}const lk=(e,t)=>{Ie("CHAT_BOT_ERROR",{error:e.message,component_stack:t.componentStack||"",verifast_uid:Te||"",verifast_index:re||""})};function uk(){var ot;const[e,t]=E.useState(Wl),n=E.useRef(Wl),r=E.useRef(e.isOpen),[i,s]=E.useState(),o=E.useRef(!1),a=E.useRef(null),l=E.useRef(null),u=E.useRef(null),f=E.useRef(!0),p=E.useRef(null),[c,w]=E.useState(!1),d=E.useRef(Hg||re==="be-bold-fit.myshopify.com"),y=E.useRef(t1(re)),S=E.useRef(y.current?n1(re,ve.currentPage):!0),m=E.useRef(Wl.currentNudge),[g,h]=Dn(Xb),_=E.useRef(!1),[x,C]=Dn(Xa),[T,k]=Dn(vy),[B,A]=Dn(wy),[V,X]=Dn(_y),[me,Q]=E.useState(!1);E.useEffect(()=>{$d.setAttributes({id:Te,index_name:re})},[]);const ue=UT();E.useEffect(()=>()=>ue.clearTimers(),[]),E.useEffect(()=>{var z,j;try{const Re=r1(re)||Uo&&vo;w(Re||re==="beastlife-dev.myshopify.com"&&((j=(z=e==null?void 0:e.botConfig)==null?void 0:z.currentPage)==null?void 0:j.includes("/products/"))),ne(Uo,"is mobile",vo)}catch(Re){console.error("error",Re)}ne("displaying on page",S.current)},[re,Uo,vo]),E.useEffect(()=>{if(e.botConfig){ne("Executing updated bot state");const z=e.botConfig.colorScheme.primaryColor,j=Tt(z,.3),Re=Tt(z,.85),se=Tt(z,.95),ge=`rgb(${z[0]}, ${z[1]}, ${z[2]})`;t({...e,colorShades:{primary:ge,s1:j,s2:Re,s3:se}})}},[e.botConfig]),E.useEffect(()=>{if(ve.alignment){const z=new rk(ve,m.current);s(z.getAllStyles())}},[ve.alignment,m.current]),E.useEffect(()=>{const z=new Hh,j=new Kl(ve.dimensions.botOpen),Re=new $h(ve.dimensions.nudgeOpen),se=new Wh(ve.dimensions.proActiveNudgeOpen),ge=new Kh((g==null?void 0:g.iframeDimension)||{height:"100vh",width:"100vw"}),Be=F=>{var J,Ae,at;if(F.data.type==="resize-reconfirm"){const{width:Ut,height:jt,isDialogOpened:Nt}=F.data.dimensions;if(r.current)z.setStrategy(j);else if(o.current)((J=m.current)==null?void 0:J.variant)===Ke.TEXT_ONLY?z.setStrategy(Re):((Ae=m.current)==null?void 0:Ae.variant)===Ke.TEXT_WITH_BUTTON||((at=m.current)==null?void 0:at.variant)===Ke.TRANSPARENT_WITH_BUTTON?z.setStrategy(se):z.setStrategy(Re);else if(_.current)z.setStrategy(ge);else{const[rt,_t]=xd(ve.icon.size,ve.icon.width,ve.icon.height),ae=`${rt+5}px`,he=`${_t+5}px`;z.setStrategy(new Gh(ae,he))}const q=z.getDimensions();if(Ut===q.width&&jt===q.height&&Nt===q.isDialogOpened)return;ne("Dimensions mismatch. Correct:",q,"Received:",F.data.dimensions),Eh({type:"resize",dimensions:q})}};return window.addEventListener("message",Be),()=>window.removeEventListener("message",Be)},[r,o,_]);const Z=async(z,j)=>{if(c&&!Ce(z))return;if(v1){I(z,j);return}const Re=new Hh;P(Re,z,m.current,g,e.botConfig.icon.SpaceFromBottom);try{const se=Re.getDimensions();ne("dimension recieved from context",se),f1(),await Eh({type:"resize",dimensions:se}),W(z,j)}catch(se){console.error("Failed to set dimensions:",se)}},Ce=z=>[M.OPEN_BOT,M.TOGGLE_BOT,M.CLOSE_BOT].includes(z),I=(z,j)=>{switch(z){case M.OPEN_BOT:ee();break;case M.OPEN_NUDGE:case M.NEW_NUDGE:Ze();break;case M.CLOSE_BOT:fe();break;case M.CLOSE_NUDGE:Ne(j);break;case M.CLOSE_NUDGE_OPEN_BOT:Ne({source:ce.OPEN_BOT_SIDE_EFFECT}),ee();break;case M.CLOSE_NOTIFICATION_OPEN_BOT:Xe({source:ce.OPEN_BOT_SIDE_EFFECT}),ee();break}},P=(z,j,Re,se,ge)=>{switch(j){case M.OPEN_BOT:case M.CLOSE_NUDGE_OPEN_BOT:z.setStrategy(new Kl(ve.dimensions.botOpen));break;case M.CLOSE_NOTIFICATION_OPEN_BOT:z.setStrategy(new Kl(ve.dimensions.botOpen));break;case M.OPEN_NUDGE:case M.NEW_NUDGE:z.setStrategy(Re.variant===Ke.TEXT_ONLY?new $h(ve.dimensions.nudgeOpen):new Wh(ve.dimensions.proActiveNudgeOpen));break;case M.NEW_NOTIFICATION:z.setStrategy(new Kh((se==null?void 0:se.iframeDimension)||{height:"100vh",width:"100vw"}));break;default:const Be=ve.icon.width||80,F=ve.icon.height||80,J=`${Be+5}px`,Ae=`${F+5}px`;z.setStrategy(new Gh(J,Ae));break}},W=(z,j)=>{switch(z){case M.OPEN_BOT:Ne(j),ee();break;case M.OPEN_NUDGE:case M.NEW_NUDGE:Ze();break;case M.CLOSE_BOT:fe();break;case M.CLOSE_NUDGE:Ne(j);break;case M.CLOSE_NUDGE_OPEN_BOT:Ne(j),ee();break;case M.CLOSE_NOTIFICATION_OPEN_BOT:Xe(),ee();break;case M.NEW_NOTIFICATION:fe(),Ne(j),R(j)}};E.useEffect(()=>{const z=j=>{var Re,se,ge,Be,F,J,Ae,at,Ut,jt,Nt;if(((Re=j.data)==null?void 0:Re.event_name)==="verifast-toggle-bot"){ne("Got toggle bot event");const q=(se=j.data)==null?void 0:se.event_source;ne(`source is ${q}`),q==null?ne("Cannot have event_source as undefined for bot_transition"):(ne(`Toggling bot from ${q}`),je(M.TOGGLE_BOT,{source:q}))}if(j.data.type==="proactive_nudge_parent"){const q=j.data.nudgeConfig,rt={type:_i.PROACTIVE,variant:q==null?void 0:q.variant,text:q==null?void 0:q.text,iframeDimension:{width:((Be=(ge=q.config)==null?void 0:ge.iframeDimension)==null?void 0:Be.width)||"200px",height:((J=(F=q.config)==null?void 0:F.iframeDimension)==null?void 0:J.height)||"120px"},width:300,buttons:(at=(Ae=q.config)==null?void 0:Ae.buttons)==null?void 0:at.map(_t=>({text:_t})),duration:((Ut=q.config)==null?void 0:Ut.duration)||15,renderer:$e.PROACTIVE};(jt=q.config)!=null&&jt.placeholder&&(rt.placeholder=q.config.placeholder,rt.variant=Ke.TEXT_WITH_PLACEHOLDER),je(M.NEW_NUDGE,{source:ce.DIALOG_CLOSE_BUTTON,nudgeConfig:rt})}if(j.data.type==="followup_question_parent")try{const rt=j.data.questions.map(_t=>({value:_t,label:_t,renderer:$e.BACKEND}));A(rt)}catch(q){console.error("Failure while processing helperMessageStreamHandler:",q,`with data ${j.data}`)}if(j.data.type==="ai_message_parent")try{const q=j.data.message;k(q)}catch{}((Nt=j.data)==null?void 0:Nt.type)==="function-result"&&(j.data.success?X(j.data.result):console.error("Error retrieving data:",j.data.error)),j.data.event_name==="actionable_interaction"&&ok(j,je,A,k)};return window.addEventListener("message",z),()=>{window.removeEventListener("message",z)}},[]);const ee=()=>{Ie("chatbot:open",{verifast_index:re,verifast_uid:Te,current_time:be()}),f.current||(f.current=!0),t({...e,isOpen:!0}),r.current=!0,Q(!0)},fe=()=>{l.current&&(Ie("chatbot:close",{verifast_index:re,verifast_uid:Te,current_time:be()}),l.current.classList.remove(Wi(!0,ve.alignment,"dialog")),l.current.classList.add(Wi(!1,ve.alignment,"dialog")),setTimeout(()=>{t({...e,isOpen:!1,isNudgePreviouslyClosed:!0,isNudgeOpen:!0}),r.current=!1},500))},Ne=z=>{a.current&&(z.source===ce.NUDGE_CLOSE_BUTTON&&Ie("chat_nudge:close",{verifast_index:re,verifast_uid:Te,current_time:be()}),setTimeout(()=>{t({...e,isNudgePreviouslyClosed:!0}),n.current={...e,isNudgePreviouslyClosed:!0}},3e3),a.current.classList.remove(Wi(!0,ve.alignment,"nudge")),t({...e,isNudgeOpen:!1}),o.current=!1)},Xe=z=>{_.current&&(t({...e,isNotificationOpen:!1}),_.current=!1)},je=(z,j)=>{var Re,se;switch(ne(`handling trigger ${z} with ${j}`),z){case M.TOGGLE_BOT:if(ue.clearTimers(),r.current)Z(M.CLOSE_BOT,j);else{switch(e.botConfig.icon.iconOnClickFlow){case rr.OPEN_BOT_SEND_TEXT_PARAMS:C(`I am Looking for ${ve.searchTerm}`);break;case rr.OPEN_BOT:}Ne({source:ce.OPEN_BOT_SIDE_EFFECT}),Z(M.OPEN_BOT,j)}break;case M.OPEN_BOT:ue.clearTimers(),Ne({source:ce.OPEN_BOT_SIDE_EFFECT}),Z(M.OPEN_BOT,j);break;case M.CLOSE_BOT:ue.clearTimers(),Z(M.CLOSE_BOT,j);break;case M.CLOSE_NUDGE:ue.clearDisappearTimer(),Z(M.CLOSE_NUDGE,j);break;case M.CLICK_NUDGE:switch(ue.clearTimers(),e.botConfig.nudge.nudgeOnClickFlow){case nr.OPEN_BOT_SEND_TEXT_PARAMS:C(`I am Looking for ${ve.searchTerm}`);break;case nr.OPEN_BOT:}Z(M.CLOSE_NUDGE_OPEN_BOT,j);break;case M.OPEN_NUDGE:if(!e.isOpen&&!r.current){ue.clearDisappearTimer(),Ze(),Z(M.OPEN_NUDGE,j);const ge=e.botConfig.nudge.disappearDelay;ue.setDisappearTimer(()=>{o.current&&je(M.CLOSE_NUDGE,{source:ce.TIMER})},ge)}break;case M.NEW_NUDGE:if(!e.isOpen&&!r.current){ue.clearTimers();const ge=((Re=j.nudgeConfig)==null?void 0:Re.eventName)||"proactive_nudge";if(Ie(ge,{verifast_index:re,verifast_uid:Te,current_time:be()}),j.nudgeConfig){m.current=j.nudgeConfig,Z(M.NEW_NUDGE,j);const Be=j.nudgeConfig.duration||15;setTimeout(()=>{ne("Setting proactive nudge disappear timer for duration:",Be),ue.setDisappearTimer(()=>{o.current&&je(M.CLOSE_NUDGE,{source:ce.TIMER,isProactiveNudge:!0})},Be)},1e3)}}break;case M.NEW_NOTIFICATION:if(!r.current){const ge=((se=j.notificationConfig)==null?void 0:se.eventName)||"proactive_notification";Ie(ge,{verifast_index:re,verifast_uid:Te,current_time:be()}),Z(M.NEW_NOTIFICATION,j)}break;case M.CLOSE_NOTIFICATION:Xe(),Ie("notification:close",{verifast_index:re,verifast_uid:Te,current_time:be()}),Z(M.CLOSE_NOTIFICATION,j);break;case M.CLOSE_NOTIFICATION_OPEN_BOT:Xe(),Z(M.CLOSE_NOTIFICATION_OPEN_BOT,j);break;case M.BOT_ACTION:j.openBot&&(ue.clearTimers(),Ne({source:ce.OPEN_BOT_SIDE_EFFECT}),Z(M.OPEN_BOT,j));break}},Ze=z=>{_.current||(t(j=>({...j,isNudgeOpen:!0})),o.current=!0)},R=z=>{t(j=>({...j,isNotificationOpen:!0})),h(z==null?void 0:z.notificationConfig),_.current=!0,Ie("notification:open",{verifast_index:re,verifast_uid:Te,current_time:be()})};E.useEffect(()=>{const j=new URLSearchParams(window.location.search).get("verifast_bot_open");ne("icon and nudge disabled",c),j==="1"&&Z(M.OPEN_BOT,{})},[]),E.useEffect(()=>(!r.current&&!d.current&&!c&&(ne("Setting default appear timer"),ue.setAppearTimer(()=>{!r.current&&!_.current&&Z(M.OPEN_NUDGE,{source:ce.TIMER})},e.botConfig.nudge.appearDelay)),()=>ue.clearAppearTimer()),[e.botConfig.nudge.appearDelay,c]),E.useEffect(()=>{var z,j;if(o.current&&(!((z=m.current)!=null&&z.type)||((j=m.current)==null?void 0:j.type)!==_i.PROACTIVE)&&!r.current){ne("Setting default disappear timer");const Re=e.botConfig.nudge.disappearDelay;ue.setDisappearTimer(()=>{o.current&&je(M.CLOSE_NUDGE,{source:ce.TIMER})},Re)}return()=>ue.clearDisappearTimer()},[o.current,(ot=m.current)==null?void 0:ot.type,e.botConfig.nudge.disappearDelay]),E.useEffect(()=>{ve.flags.isBotOpenAtLoad&&Z(M.OPEN_BOT,{})},[]);const Ot=ek("nudge_text",!1);return E.useEffect(()=>{window&&(window.gb_cart_flow=e.botConfig.cartflow),m.current&&Ot&&(m.current.text="Talk to me",window&&(window.nudge_text_flag=Ot));try{if(re==="972808.myshopify.com"&&m.current&&Yn&&m.current.renderer!==$e.PROACTIVE){const z=JSON.parse(Yn);c1(z.last_order)&&(m.current.text=`Hey ${z.name}! Confused about the product?`)}}catch{}},[m.current,Ot]),v.jsx(lx,{FallbackComponent:()=>v.jsx(v.Fragment,{}),onError:lk,children:S.current&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{ref:p,style:i==null?void 0:i.containerStyle,className:"fixed font-sans",children:[f.current&&v.jsx("div",{ref:l,style:{...i==null?void 0:i.dialogStyle,height:"calc(100vh - 3px)"},className:`absolute max-w-[450px] w-full border-[1px] ${vo?"":"rounded-2xl"} overflow-hidden  ${ve.chatbotUIDesign===wi.TRANSPARENT&&"box_blur"}
                ${me?Wi(r.current,ve.alignment,"dialog"):"hidden"} dialog-medium-screen`,children:v.jsx(ox,{currentBotState:e,setCurrentBotState:t,handleBotTriggers:je,socketConnectionRule:a1})}),!c&&i&&v.jsx("div",{style:i==null?void 0:i.iconStyle,className:"absolute select-none",children:v.jsx(dx,{botStateRef:n,currentBotState:e,setCurrentBotState:t,handleBotTriggers:je})}),!c&&o.current&&v.jsx("div",{ref:a,style:i==null?void 0:i.nudgeStyle,className:`${Wi(o.current,ve.alignment,"nudge")} absolute w-full flex select-none`,children:v.jsx(wx,{currentNudge:m.current,currentBotState:e,setCurrentBotState:t,handleBotTriggers:je})})]}),_.current&&v.jsx("div",{ref:u,className:"absolute select-none check",children:v.jsx(sk,{currentNotification:g,handleBotTriggers:je,currentBotState:e,setCurrentBotState:t})})]})})}Zl.createRoot(document.getElementById("verifast-bot-root")).render(v.jsx(Dt.StrictMode,{children:v.jsx(nk,{growthbook:$d,children:v.jsx(uk,{})})}));
